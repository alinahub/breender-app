{"ast":null,"code":"var _jsxFileName = \"/Users/alinaturbina/Uni Projects/seba/frontend/src/views/SignUpView.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect } from 'react';\nimport { withRouter } from 'react-router-dom';\nimport { connect, useDispatch, useSelector } from 'react-redux';\nimport { getUsersInfo, register, resetError, startLoading, stopLoading } from '../redux/actions';\nimport NotificationService from 'services/NotificationService';\nimport SignUpPaper from 'components/SignUpPaper';\nimport { makeStyles } from '@material-ui/core';\nimport logo from \"../images/breender.svg\";\n/**\n * For register new users\n * @param {props} props\n */\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction SignUpView(props) {\n  _s();\n\n  const classes = useStyles();\n  const user = useSelector(state => state.user);\n  const dispatch = useDispatch();\n  useEffect(() => {\n    if (user.user) {\n      NotificationService.notify('success', 'Success', 'Account was successfully created! Please check your inbox for verification link.');\n      props.history.push('/');\n      props.dispatch(getUsersInfo(user.user.id));\n    }\n\n    if (user.error) {\n      setTimeout(function () {\n        NotificationService.notify('error', 'Error', 'An error occured while creating an account. Please try again later.');\n      }, 2000); //delay function to get fresh error\n    } //reset errors when functional component unmounts\n\n\n    return () => {\n      props.dispatch(resetError());\n    };\n  }, [user, props.history]);\n\n  const onRegister = async (email, username, password, city, province, isAdmin, subscriptionPlan, paymentPlan, paymentMethod) => {\n    dispatch(startLoading());\n    await dispatch(register(email, username, password, city, province, isAdmin, subscriptionPlan, paymentPlan, paymentMethod));\n    dispatch(stopLoading());\n  };\n\n  const onCancel = () => {\n    props.history.push('/');\n  };\n\n  const goToHome = () => props.history.push('/');\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: classes.container,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      onClick: goToHome,\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        alt: \"logo\",\n        src: logo,\n        className: classes.logo\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(SignUpPaper, {\n      user: user,\n      onRegister: onRegister,\n      onCancel: onCancel\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 9\n  }, this);\n}\n\n_s(SignUpView, \"J4MtPY5Du3Ei4BZp/LGONwVk//U=\", false, function () {\n  return [useStyles, useSelector, useDispatch];\n});\n\n_c = SignUpView;\nconst useStyles = makeStyles(theme => ({\n  logo: {\n    display: 'flex',\n    justifyContent: 'center',\n    flexDirection: 'column',\n    alignItems: 'center',\n    marginTop: 100,\n    marginBottom: 50,\n    maxWidth: 425,\n    maxHeight: 'auto',\n    cursor: 'pointer'\n  },\n  container: {\n    position: 'relative',\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: 'center',\n    alignItems: 'center'\n  }\n}));\nexport default connect()(withRouter(SignUpView));\n\nvar _c;\n\n$RefreshReg$(_c, \"SignUpView\");","map":{"version":3,"sources":["/Users/alinaturbina/Uni Projects/seba/frontend/src/views/SignUpView.js"],"names":["React","useEffect","withRouter","connect","useDispatch","useSelector","getUsersInfo","register","resetError","startLoading","stopLoading","NotificationService","SignUpPaper","makeStyles","SignUpView","props","classes","useStyles","user","state","dispatch","notify","history","push","id","error","setTimeout","onRegister","email","username","password","city","province","isAdmin","subscriptionPlan","paymentPlan","paymentMethod","onCancel","goToHome","container","logo","theme","display","justifyContent","flexDirection","alignItems","marginTop","marginBottom","maxWidth","maxHeight","cursor","position"],"mappings":"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","sourcesContent":["import React, { useEffect } from 'react';\nimport { withRouter } from 'react-router-dom';\nimport { connect, useDispatch, useSelector } from 'react-redux';\nimport { getUsersInfo, register, resetError, startLoading, stopLoading } from '../redux/actions';\nimport NotificationService from 'services/NotificationService';\nimport SignUpPaper from 'components/SignUpPaper';\nimport { makeStyles } from '@material-ui/core';\nimport logo from '../images/breender.svg';\n\n/**\n * For register new users\n * @param {props} props\n */\nfunction SignUpView(props) {\n    const classes = useStyles();\n    const user = useSelector((state) => state.user);\n    const dispatch = useDispatch();\n\n    useEffect(() => {\n        if (user.user) {\n            NotificationService.notify('success', 'Success', 'Account was successfully created! Please check your inbox for verification link.');\n            props.history.push('/');\n            props.dispatch(getUsersInfo(user.user.id));\n        }\n        if (user.error) {\n            setTimeout(function () {\n                NotificationService.notify('error', 'Error', 'An error occured while creating an account. Please try again later.');\n            }, 2000); //delay function to get fresh error\n        }\n        //reset errors when functional component unmounts\n        return () => {\n            props.dispatch(resetError());\n        };\n    }, [user, props.history]);\n\n    const onRegister = async (email, username, password, city, province, isAdmin, subscriptionPlan, paymentPlan, paymentMethod) => {\n        dispatch(startLoading());\n        await dispatch(register(email, username, password, city, province, isAdmin, subscriptionPlan, paymentPlan, paymentMethod));\n        dispatch(stopLoading());\n    };\n\n    const onCancel = () => {\n        props.history.push('/');\n    };\n\n    const goToHome = () => props.history.push('/');\n\n    return (\n        <div className={classes.container}>\n            <div onClick={goToHome}>\n                <img alt=\"logo\" src={logo} className={classes.logo} />\n            </div>\n            <SignUpPaper user={user} onRegister={onRegister} onCancel={onCancel} />\n        </div>\n    );\n}\n\nconst useStyles = makeStyles((theme) => ({\n    logo: {\n        display: 'flex',\n        justifyContent: 'center',\n        flexDirection: 'column',\n        alignItems: 'center',\n        marginTop: 100,\n        marginBottom: 50,\n        maxWidth: 425,\n        maxHeight: 'auto',\n        cursor: 'pointer',\n    },\n    container: {\n        position: 'relative',\n        display: 'flex',        \n        flexDirection: 'column',\n        justifyContent: 'center',\n        alignItems: 'center',\n    },\n}));\n\nexport default connect()(withRouter(SignUpView));\n"]},"metadata":{},"sourceType":"module"}