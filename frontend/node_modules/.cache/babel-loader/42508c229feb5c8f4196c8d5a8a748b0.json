{"ast":null,"code":"var _jsxFileName = \"/Users/alinaturbina/Uni Projects/seba/frontend/src/views/SelectedUserProfileView.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect } from 'react';\nimport { connect, useSelector } from \"react-redux\";\nimport UserProfile from \"../components/user-profile/UserProfile\";\nimport { getUser, getSelectedUserPets, getReviewsOnSelectedUser } from 'redux/actions';\nimport { useDispatch } from 'react-redux';\nimport { useLocation } from 'react-router-dom';\nimport Loading from '../components/Loading';\nimport { ViewCarouselOutlined } from '@material-ui/icons';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction SelectedUserProfileView(props) {\n  _s();\n\n  const dispatch = useDispatch();\n  const location = useLocation();\n  const userId = location.pathname.split('/user/')[1]; //get selectedUser, pets and reviews from Redux store\n\n  var selectedUser = useSelector(state => state.user.selectedUser);\n  var pets = useSelector(state => state.user.selectedUserPets);\n  var reviews = useSelector(state => state.user.reviewsOnSelectedUser);\n\n  const loadUser = async id => {\n    // trigger the redux action getUser\n    selectedUser = props.dispatch(getUser(id));\n  };\n\n  const loadUserPets = async () => {\n    // trigger the redux action getSelectedUserPets\n    pets = props.dispatch(getSelectedUserPets(userId));\n  };\n\n  const loadReviews = async () => {\n    // trigger the redux action getReviewsOnSelectedUser\n    reviews = props.dispatch(getReviewsOnSelectedUser(userId));\n  };\n\n  useEffect(() => {\n    // load user when the page is loaded\n    if (!selectedUser || selectedUser && selectedUser._id !== userId) {\n      loadUser(userId);\n    }\n  }, [selectedUser]);\n  useEffect(() => {\n    // load pets of a user when the page is loaded\n    if (!pets || pets && pets.length > 0 && pets[0].ownerId !== userId) {\n      loadUserPets();\n    }\n  }, [pets]);\n  useEffect(() => {\n    // load reviews on a user when the page is loaded\n    if (!reviews || reviews && reviews.length > 0 && reviews[0].revieweeId !== userId) {\n      loadReviews();\n    }\n  }, [pets]);\n  return !selectedUser ? /*#__PURE__*/_jsxDEV(Loading, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 9\n  }, this) : /*#__PURE__*/_jsxDEV(UserProfile, {\n    user: selectedUser,\n    pets: pets,\n    profileOfLoggedInUser: false,\n    reviews: reviews\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 9\n  }, this);\n}\n\n_s(SelectedUserProfileView, \"v8NQsO1UBf1YpeDiBn2WGrmVsn8=\", false, function () {\n  return [useDispatch, useLocation, useSelector, useSelector, useSelector];\n});\n\n_c = SelectedUserProfileView;\nexport default connect()(SelectedUserProfileView);\n\nvar _c;\n\n$RefreshReg$(_c, \"SelectedUserProfileView\");","map":{"version":3,"sources":["/Users/alinaturbina/Uni Projects/seba/frontend/src/views/SelectedUserProfileView.js"],"names":["React","useEffect","connect","useSelector","UserProfile","getUser","getSelectedUserPets","getReviewsOnSelectedUser","useDispatch","useLocation","Loading","ViewCarouselOutlined","SelectedUserProfileView","props","dispatch","location","userId","pathname","split","selectedUser","state","user","pets","selectedUserPets","reviews","reviewsOnSelectedUser","loadUser","id","loadUserPets","loadReviews","_id","length","ownerId","revieweeId"],"mappings":"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","sourcesContent":["import React, { useEffect } from 'react';\nimport { connect, useSelector } from \"react-redux\";\nimport UserProfile from \"../components/user-profile/UserProfile\";\nimport { getUser, getSelectedUserPets, getReviewsOnSelectedUser } from 'redux/actions';\nimport { useDispatch } from 'react-redux';\nimport { useLocation } from 'react-router-dom';\nimport Loading from '../components/Loading';\nimport { ViewCarouselOutlined } from '@material-ui/icons';\n\nfunction SelectedUserProfileView(props) {\n    const dispatch = useDispatch();\n    const location = useLocation();\n\n    const userId = location.pathname.split('/user/')[1];\n    //get selectedUser, pets and reviews from Redux store\n    var selectedUser = useSelector((state) => state.user.selectedUser);\n    var pets = useSelector((state) => state.user.selectedUserPets);\n    var reviews = useSelector((state) => state.user.reviewsOnSelectedUser);\n\n    const loadUser = async (id) => {\n        // trigger the redux action getUser\n        selectedUser = props.dispatch(getUser(id));\n    };\n\n    const loadUserPets = async () => {\n        // trigger the redux action getSelectedUserPets\n        pets = props.dispatch(getSelectedUserPets(userId));\n    };\n\n    const loadReviews = async () => {\n        // trigger the redux action getReviewsOnSelectedUser\n        reviews = props.dispatch(getReviewsOnSelectedUser(userId));\n    };\n\n    useEffect(() => {\n        // load user when the page is loaded\n        if (!selectedUser || (selectedUser && selectedUser._id !== userId)) {\n            loadUser(userId);\n        }\n    }, [selectedUser]);\n\n    useEffect(() => {\n        // load pets of a user when the page is loaded\n        if (!pets || (pets && pets.length > 0 && pets[0].ownerId !== userId)) {\n            loadUserPets();\n        }\n    }, [pets]);\n\n    useEffect(() => {\n        // load reviews on a user when the page is loaded\n        if (!reviews || (reviews && reviews.length > 0 && reviews[0].revieweeId !== userId)) {\n            loadReviews();\n        }\n    }, [pets]);\n\n    return !selectedUser ? (\n        <Loading />\n    ) : <UserProfile user={selectedUser} pets={pets} profileOfLoggedInUser={false} reviews={reviews} />\n}\n\nexport default connect()(SelectedUserProfileView);"]},"metadata":{},"sourceType":"module"}