{"ast":null,"code":"var _jsxFileName = \"/Users/alinaturbina/Uni Projects/seba/frontend/src/views/UserProfileView.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect } from 'react';\nimport { connect, useSelector } from \"react-redux\";\nimport UserProfile from \"../components/user-profile/UserProfile\";\nimport { useUser } from 'helper/hooks/auth.hooks';\nimport { getUsersInfo, getUserPets, getReviewsOnUser } from 'redux/actions';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction UserProfileView(props) {\n  _s();\n\n  const user = useUser(); // get information on user from the redux store\n\n  var usersInfo = useSelector(state => state.user.userInfo);\n  var pets = useSelector(state => state.user.pets);\n  var reviews = useSelector(state => state.user.reviews);\n\n  const loadUser = async () => {\n    // trigger the redux action getUsersInfo\n    usersInfo = props.dispatch(getUsersInfo(user.id));\n  };\n\n  const loadUserPets = async () => {\n    // trigger the redux action getUserPets\n    pets = props.dispatch(getUserPets(user.id));\n  };\n\n  const loadReviews = async () => {\n    // trigger the redux action getReviewsOnUser\n    reviews = props.dispatch(getReviewsOnUser(user.id));\n  }; // useEffect(() => {\n  //     // load user when the page is loaded and the information is not yet in the redux store\n  //     if (!usersInfo) {\n  //         loadUser();\n  //     }\n  // }, [usersInfo]);\n\n\n  useEffect(() => {\n    let loading = true;\n\n    const loadUser = async () => {\n      // trigger the redux action getUsersInfo\n      if (!loading) return;\n      await props.dispatch(getUsersInfo(user.id));\n    };\n\n    if (!usersInfo) {\n      loadUser();\n    }\n\n    return () => {\n      loading = false;\n    };\n  }, [props, user.id, usersInfo]);\n  useEffect(() => {\n    let loading = true;\n\n    const loadUserPets = async () => {\n      // trigger the redux action getUserPets\n      if (!loading) return;\n      await props.dispatch(getUserPets(user.id));\n    };\n\n    if (!pets) {\n      loadUserPets();\n    }\n\n    return () => {\n      loading = false;\n    };\n  }, [props, user.id, pets]);\n  useEffect(() => {\n    let loading = true;\n\n    const loadReviews = async () => {\n      // trigger the redux action getReviewsOnUser\n      if (!loading) return;\n      await props.dispatch(getReviewsOnUser(user.id));\n    };\n\n    if (!reviews) {\n      loadReviews();\n    }\n\n    return () => {\n      loading = false;\n    };\n  }, [props, user.id, reviews]); // useEffect(() => {\n  //     // load pets of a user when the page is loaded and the information is not yet in the redux store\n  //     if (!pets) {\n  //         loadUserPets();\n  //     }\n  // }, [pets]);\n  // useEffect(() => {\n  //     // load reviews on a user when the page is loaded and the information is not yet in the redux store\n  //     if (!reviews) {\n  //         loadReviews();\n  //     }\n  // }, [pets]);\n\n  return /*#__PURE__*/_jsxDEV(UserProfile, {\n    user: usersInfo ? usersInfo : user,\n    pets: pets,\n    profileOfLoggedInUser: true,\n    reviews: reviews\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 102,\n    columnNumber: 12\n  }, this);\n}\n\n_s(UserProfileView, \"beLQ4my15gzrx7juh+VTTU9S+Es=\", false, function () {\n  return [useUser, useSelector, useSelector, useSelector];\n});\n\n_c = UserProfileView;\nexport default connect()(UserProfileView);\n\nvar _c;\n\n$RefreshReg$(_c, \"UserProfileView\");","map":{"version":3,"sources":["/Users/alinaturbina/Uni Projects/seba/frontend/src/views/UserProfileView.js"],"names":["React","useEffect","connect","useSelector","UserProfile","useUser","getUsersInfo","getUserPets","getReviewsOnUser","UserProfileView","props","user","usersInfo","state","userInfo","pets","reviews","loadUser","dispatch","id","loadUserPets","loadReviews","loading"],"mappings":"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","sourcesContent":["import React, { useEffect } from 'react';\nimport { connect, useSelector } from \"react-redux\";\nimport UserProfile from \"../components/user-profile/UserProfile\";\nimport { useUser } from 'helper/hooks/auth.hooks';\nimport { getUsersInfo, getUserPets, getReviewsOnUser } from 'redux/actions';\n\nfunction UserProfileView(props) {\n    const user = useUser();\n    // get information on user from the redux store\n    var usersInfo = useSelector((state) => state.user.userInfo);\n    var pets = useSelector((state) => state.user.pets);\n    var reviews = useSelector((state) => state.user.reviews);\n\n    const loadUser = async () => {\n        // trigger the redux action getUsersInfo\n        usersInfo = props.dispatch(getUsersInfo(user.id));\n    };\n\n    const loadUserPets = async () => {\n        // trigger the redux action getUserPets\n        pets = props.dispatch(getUserPets(user.id));\n    };\n\n    const loadReviews = async () => {\n        // trigger the redux action getReviewsOnUser\n        reviews = props.dispatch(getReviewsOnUser(user.id));\n    };\n\n    // useEffect(() => {\n    //     // load user when the page is loaded and the information is not yet in the redux store\n    //     if (!usersInfo) {\n    //         loadUser();\n    //     }\n    \n    // }, [usersInfo]);\n\n    useEffect(() => {\n        let loading = true;\n\n        const loadUser = async () => {\n            // trigger the redux action getUsersInfo\n            if (!loading) return;\n            await  props.dispatch(getUsersInfo(user.id));\n        };\n        if (!usersInfo) {\n            loadUser();\n        }\n        return () => {\n            loading = false;\n        };\n    }, [props, user.id, usersInfo]);\n\n    useEffect(() => {\n        let loading = true;\n\n        const loadUserPets = async () => {\n            // trigger the redux action getUserPets\n            if (!loading) return;\n            await props.dispatch(getUserPets(user.id));\n        };\n        if (!pets) {\n            loadUserPets();\n        }\n    \n        return () => {\n            loading = false;\n        };\n    }, [props, user.id, pets]);\n\n    useEffect(() => {\n        let loading = true;\n\n        const loadReviews = async () => {\n            // trigger the redux action getReviewsOnUser\n            if (!loading) return;\n            await props.dispatch(getReviewsOnUser(user.id));\n        };\n\n        if (!reviews) {\n            loadReviews();\n        }\n    \n        return () => {\n            loading = false;\n        };\n    }, [props, user.id, reviews]);\n\n    // useEffect(() => {\n    //     // load pets of a user when the page is loaded and the information is not yet in the redux store\n    //     if (!pets) {\n    //         loadUserPets();\n    //     }\n    // }, [pets]);\n\n    // useEffect(() => {\n    //     // load reviews on a user when the page is loaded and the information is not yet in the redux store\n    //     if (!reviews) {\n    //         loadReviews();\n    //     }\n    // }, [pets]);\n\n    return <UserProfile user={usersInfo ? usersInfo : user} pets={pets} profileOfLoggedInUser={true} reviews={reviews} />\n}\n\nexport default connect()(UserProfileView);"]},"metadata":{},"sourceType":"module"}