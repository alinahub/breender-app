{"ast":null,"code":"var _jsxFileName = \"/Users/alinaturbina/Uni Projects/seba/frontend/src/views/ChangeToPremiumView.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport PaymentInformationComponent from '../components/PaymentInformation';\nimport { connect, useSelector } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\nimport { update } from 'redux/actions';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Paper, Typography } from '@material-ui/core';\nimport { Result } from 'antd';\nimport cat from '../images/cat.png';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst useStyles = makeStyles(theme => ({\n  root: {\n    margin: 'auto'\n  },\n  paper: {\n    width: '1000px',\n    height: '425px',\n    padding: theme.spacing(2)\n  },\n  active: {\n    color: '#D37F65'\n  },\n  circle: {\n    width: 12,\n    height: 12,\n    borderRadius: '50%',\n    backgroundColor: 'currentColor'\n  },\n  completed: {\n    color: '#D37F65',\n    zIndex: 1,\n    fontSize: 18\n  }\n}));\n/**\n * For presenting and choosing subscription plan and paying with PayPal\n * @param {props} props\n */\n\nfunction ChangeToPremiumView(props) {\n  _s();\n\n  const classes = useStyles();\n  const user = useSelector(state => state.user);\n  const [paymentProcessed, setPaymentProcessed] = React.useState(true);\n  const [status, setStatus] = React.useState(false);\n  const payments = [{\n    description: '4.99€ for 1 month',\n    plan: '1mo',\n    price: '4.99'\n  }, {\n    description: '12,99€ for 3 months',\n    plan: '3mo',\n    price: '12.99'\n  }, {\n    description: '22,99€ for 6 months',\n    plan: '6mo',\n    price: '22.99'\n  }, {\n    description: '34,99€ for 1 year',\n    plan: '1yr',\n    price: '34.99'\n  }];\n  const [chosenPayment, setChosenPayment] = React.useState('4.99');\n  const values = {\n    chosenPayment\n  };\n\n  function changeSubscriptionPlanToPremium(plan, paymentMethod) {\n    const onSuccess = () => {\n      setPaymentProcessed(false);\n      setStatus(true);\n      setTimeout(function () {\n        props.history.push('/login');\n      }, 2000);\n    };\n\n    const onError = () => {\n      setPaymentProcessed(false);\n      setStatus(false);\n      setTimeout(function () {\n        props.history.push('/');\n      }, 1000);\n    };\n\n    props.dispatch(update(user.user.id, 'premium', plan, paymentMethod, onSuccess, onError));\n  }\n\n  const prevStep = () => {\n    props.history.push('/premium');\n  };\n\n  function handleChange(input, event) {\n    setChosenPayment(event.target.value);\n  }\n\n  return paymentProcessed ? /*#__PURE__*/_jsxDEV(PaymentInformationComponent, {\n    payments: payments,\n    handleChange: handleChange,\n    values: values,\n    onSuccess: changeSubscriptionPlanToPremium,\n    user: user,\n    prevStep: prevStep\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 86,\n    columnNumber: 9\n  }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n    className: classes.root,\n    align: \"center\",\n    children: /*#__PURE__*/_jsxDEV(Paper, {\n      className: classes.paper,\n      children: [status ? /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(Result, {\n          status: \"success\",\n          title: \"Congratulations!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 27\n        }, this), \" \", /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h5\",\n          children: \"You will be redirected to log in page shortly.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 80\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 22\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(Result, {\n          status: \"warning\",\n          title: \"Something went wrong :(\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 178\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h5\",\n          children: \"There was a problem in changing your plan. Please try again later or contact our customer service.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 237\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 173\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: cat,\n          alt: \"cat\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 88,\n    columnNumber: 9\n  }, this);\n}\n\n_s(ChangeToPremiumView, \"bhSaJKCK6lA4slcHL8DX7nJFQfA=\", false, function () {\n  return [useStyles, useSelector];\n});\n\n_c = ChangeToPremiumView;\nexport default connect()(withRouter(ChangeToPremiumView));\n\nvar _c;\n\n$RefreshReg$(_c, \"ChangeToPremiumView\");","map":{"version":3,"sources":["/Users/alinaturbina/Uni Projects/seba/frontend/src/views/ChangeToPremiumView.js"],"names":["React","PaymentInformationComponent","connect","useSelector","withRouter","update","makeStyles","Paper","Typography","Result","cat","useStyles","theme","root","margin","paper","width","height","padding","spacing","active","color","circle","borderRadius","backgroundColor","completed","zIndex","fontSize","ChangeToPremiumView","props","classes","user","state","paymentProcessed","setPaymentProcessed","useState","status","setStatus","payments","description","plan","price","chosenPayment","setChosenPayment","values","changeSubscriptionPlanToPremium","paymentMethod","onSuccess","setTimeout","history","push","onError","dispatch","id","prevStep","handleChange","input","event","target","value"],"mappings":"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","sourcesContent":["import React from 'react';\nimport PaymentInformationComponent from '../components/PaymentInformation';\nimport { connect, useSelector } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\nimport { update } from 'redux/actions';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Paper, Typography } from '@material-ui/core';\nimport { Result } from 'antd';\nimport cat from '../images/cat.png';\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        margin: 'auto',\n    },\n    paper: {\n        width: '1000px',\n        height: '425px',\n        padding: theme.spacing(2),\n    },\n    active: {\n        color: '#D37F65',\n    },\n    circle: {\n        width: 12,\n        height: 12,\n        borderRadius: '50%',\n        backgroundColor: 'currentColor',\n    },\n    completed: {\n        color: '#D37F65',\n        zIndex: 1,\n        fontSize: 18,\n    },\n}));\n/**\n * For presenting and choosing subscription plan and paying with PayPal\n * @param {props} props\n */\nfunction ChangeToPremiumView(props) {\n    const classes = useStyles();\n\n    const user = useSelector((state) => state.user);\n    const [paymentProcessed, setPaymentProcessed] = React.useState(true);\n    const [status, setStatus] = React.useState(false);\n\n    const payments = [\n        { description: '4.99€ for 1 month', plan: '1mo', price: '4.99' },\n        { description: '12,99€ for 3 months', plan: '3mo', price: '12.99' },\n        { description: '22,99€ for 6 months', plan: '6mo', price: '22.99' },\n        { description: '34,99€ for 1 year', plan: '1yr', price: '34.99' },\n    ];\n\n    const [chosenPayment, setChosenPayment] = React.useState('4.99');\n\n    const values = { chosenPayment };\n\n    function changeSubscriptionPlanToPremium(plan, paymentMethod) {\n        const onSuccess = () => {\n            setPaymentProcessed(false);\n            setStatus(true);\n            setTimeout(function () {\n                props.history.push('/login');\n            }, 2000);\n        };\n\n        const onError = () => {\n            setPaymentProcessed(false);\n            setStatus(false);\n            setTimeout(function () {\n                props.history.push('/');\n            }, 1000);\n        };\n\n        props.dispatch(update(user.user.id, 'premium', plan, paymentMethod, onSuccess, onError));\n    }\n\n    const prevStep = () => {\n        props.history.push('/premium');\n    };\n\n    function handleChange(input, event) {\n        setChosenPayment(event.target.value);\n    }\n\n    return paymentProcessed ? (\n        <PaymentInformationComponent payments={payments} handleChange={handleChange} values={values} onSuccess={changeSubscriptionPlanToPremium} user={user} prevStep={prevStep} />\n    ) : (\n        <div className={classes.root} align=\"center\">\n            <Paper className={classes.paper}>\n            {status? <div><Result status=\"success\" title=\"Congratulations!\" /> <Typography variant=\"h5\">You will be redirected to log in page shortly.</Typography></div> : <div><Result status=\"warning\" title=\"Something went wrong :(\" /><Typography variant=\"h5\">There was a problem in changing your plan. Please try again later or contact our customer service.</Typography></div>} \n                <div>\n                    <img src={cat}  alt=\"cat\"/>\n                </div>\n            </Paper>\n        </div>\n    );\n}\n\nexport default connect()(withRouter(ChangeToPremiumView));\n"]},"metadata":{},"sourceType":"module"}