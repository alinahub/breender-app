{"ast":null,"code":"var _jsxFileName = \"/Users/alinaturbina/Uni Projects/seba/frontend/src/views/SearchView.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect } from 'react';\nimport { connect, useSelector } from 'react-redux';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { withRouter } from 'react-router-dom';\nimport FormControl from '@material-ui/core/FormControl';\nimport Select from '@material-ui/core/Select';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Typography from '@material-ui/core/Typography';\nimport Slider from '@material-ui/core/Slider';\nimport Button from '@material-ui/core/Button';\nimport { getPets } from '../redux/actions/petActions';\nimport SearchResults from '../components/search/SearchResults';\nimport { breeds } from 'helper/data/breeds';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst useStyles = makeStyles(theme => ({\n  filters: {\n    display: 'flex',\n    flexDirection: 'row',\n    alignItems: 'baseline'\n  },\n  formControl: {\n    margin: theme.spacing(1),\n    minWidth: 120\n  },\n  button: {\n    margin: theme.spacing(3)\n  },\n  ageSlider: {\n    margin: theme.spacing(4),\n    width: 200\n  }\n}));\n\nfunction SearchView(props) {\n  _s();\n\n  var _breeds$chosenSpecies;\n\n  const classes = useStyles(); // get pets from redux store\n\n  var pets = useSelector(state => state.entities.pets);\n  const [chosenSpecies, setSpecies] = React.useState('');\n  const [order, setOrder] = React.useState('descending');\n  const [sex, setSex] = React.useState('');\n  const [breed, setBreed] = React.useState('');\n  const [ageRange, setAgeRange] = React.useState([1, 5]);\n  const sexes = ['female', 'male'];\n  const orders = ['ascending price', 'descending price', 'newest'];\n  const ageMarks = [{\n    value: 1,\n    label: '1 year'\n  }, {\n    value: 5,\n    label: '5 years'\n  }, {\n    value: 10,\n    label: '10 years'\n  }];\n\n  const loadPets = async () => {\n    // trigger the redux action getPets\n    pets = props.dispatch(getPets(chosenSpecies, sex, breed, ageRange));\n  };\n\n  useEffect(() => {\n    // load pets when the page is loaded or the pets were filtered.\n    if (!pets) {\n      loadPets();\n    }\n  }, [pets]);\n\n  const updateFilters = async () => {\n    setSpecies('');\n    setSex('');\n    setBreed('');\n    setAgeRange([1, 10]);\n    pets = props.dispatch(getPets('', '', '', [1, 5])); //change parameters manually because values remain constant inside render and are not updated immediately\n  };\n\n  const resetFilters = async () => {\n    updateFilters();\n  };\n\n  const handleSpeciesChange = event => {\n    setSpecies(event.target.value);\n  };\n\n  const handleSexChange = event => {\n    setSex(event.target.value);\n  };\n\n  const handleBreedChange = event => {\n    setBreed(event.target.value);\n  };\n\n  const handleAgeRangeChange = (event, newRange) => {\n    setAgeRange(newRange);\n  };\n\n  const handleOrderChange = event => {\n    setOrder(event.target.value);\n  };\n\n  function agetext(age) {\n    return `${age} years old`;\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.filters,\n      children: [/*#__PURE__*/_jsxDEV(FormControl, {\n        className: classes.formControl,\n        children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n          id: \"species-select-label\",\n          children: \"Species\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Select, {\n          labelId: \"species-select-label\",\n          id: \"species-select\",\n          value: chosenSpecies,\n          onChange: handleSpeciesChange,\n          children: Object.keys(breeds).map(oneSpecies => /*#__PURE__*/_jsxDEV(MenuItem, {\n            value: oneSpecies,\n            children: oneSpecies\n          }, oneSpecies, false, {\n            fileName: _jsxFileName,\n            lineNumber: 120,\n            columnNumber: 29\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(FormControl, {\n        className: classes.formControl,\n        children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n          id: \"sex-select-label\",\n          children: \"Sex\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Select, {\n          labelId: \"sex-select-label\",\n          id: \"sex-select\",\n          value: sex,\n          onChange: handleSexChange,\n          children: sexes.map(sex => /*#__PURE__*/_jsxDEV(MenuItem, {\n            value: sex,\n            children: sex\n          }, sex, false, {\n            fileName: _jsxFileName,\n            lineNumber: 131,\n            columnNumber: 29\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(FormControl, {\n        className: classes.formControl,\n        children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n          id: \"breed-select-label\",\n          children: \"Breed\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Select, {\n          labelId: \"breed-select-label\",\n          id: \"breed-select\",\n          value: breed,\n          onChange: handleBreedChange,\n          children: ((_breeds$chosenSpecies = breeds[chosenSpecies]) !== null && _breeds$chosenSpecies !== void 0 ? _breeds$chosenSpecies : []).map(breed => /*#__PURE__*/_jsxDEV(MenuItem, {\n            value: breed,\n            children: breed\n          }, breed, false, {\n            fileName: _jsxFileName,\n            lineNumber: 142,\n            columnNumber: 29\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(FormControl, {\n        className: classes.formControl,\n        children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n          id: \"breed-select-label\",\n          children: \"Sort by\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Select, {\n          labelId: \"breed-select-label\",\n          id: \"sort-select\",\n          value: order,\n          onChange: handleOrderChange,\n          children: orders.map(order => /*#__PURE__*/_jsxDEV(MenuItem, {\n            value: order,\n            children: order\n          }, order, false, {\n            fileName: _jsxFileName,\n            lineNumber: 152,\n            columnNumber: 29\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.ageSlider,\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          children: \"Age Range\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Slider, {\n          value: ageRange,\n          onChange: handleAgeRangeChange,\n          valueLabelDisplay: \"auto\",\n          \"aria-labelledby\": \"range-slider\",\n          getAriaValueText: agetext,\n          min: 0.5,\n          max: 10,\n          marks: ageMarks,\n          color: \"secondary\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        className: classes.button,\n        variant: \"contained\",\n        color: \"secondary\",\n        onClick: loadPets,\n        children: \"Apply\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        className: classes.button,\n        variant: \"contained\",\n        color: \"secondary\",\n        onClick: resetFilters,\n        children: \"Reset filters\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(SearchResults, {\n      pets: pets,\n      order: order\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 114,\n    columnNumber: 9\n  }, this);\n}\n\n_s(SearchView, \"NhisURWNOGkkxu9osYCsvvrdqXs=\", false, function () {\n  return [useStyles, useSelector];\n});\n\n_c = SearchView;\nexport default connect()(withRouter(SearchView));\n\nvar _c;\n\n$RefreshReg$(_c, \"SearchView\");","map":{"version":3,"sources":["/Users/alinaturbina/Uni Projects/seba/frontend/src/views/SearchView.js"],"names":["React","useEffect","connect","useSelector","makeStyles","withRouter","FormControl","Select","InputLabel","MenuItem","Typography","Slider","Button","getPets","SearchResults","breeds","useStyles","theme","filters","display","flexDirection","alignItems","formControl","margin","spacing","minWidth","button","ageSlider","width","SearchView","props","classes","pets","state","entities","chosenSpecies","setSpecies","useState","order","setOrder","sex","setSex","breed","setBreed","ageRange","setAgeRange","sexes","orders","ageMarks","value","label","loadPets","dispatch","updateFilters","resetFilters","handleSpeciesChange","event","target","handleSexChange","handleBreedChange","handleAgeRangeChange","newRange","handleOrderChange","agetext","age","Object","keys","map","oneSpecies"],"mappings":"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","sourcesContent":["import React, { useEffect } from 'react';\nimport { connect, useSelector } from 'react-redux';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { withRouter } from 'react-router-dom';\nimport FormControl from '@material-ui/core/FormControl';\nimport Select from '@material-ui/core/Select';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Typography from '@material-ui/core/Typography';\nimport Slider from '@material-ui/core/Slider';\nimport Button from '@material-ui/core/Button';\nimport { getPets } from '../redux/actions/petActions';\nimport SearchResults from '../components/search/SearchResults';\nimport { breeds } from 'helper/data/breeds';\n\nconst useStyles = makeStyles((theme) => ({\n    filters: {\n        display: 'flex',\n        flexDirection: 'row',\n        alignItems: 'baseline',\n    },\n    formControl: {\n        margin: theme.spacing(1),\n        minWidth: 120,\n    },\n    button: {\n        margin: theme.spacing(3),\n    },\n    ageSlider: {\n        margin: theme.spacing(4),\n        width: 200,\n    },\n}));\n\nfunction SearchView(props) {\n    const classes = useStyles();\n    // get pets from redux store\n    var pets = useSelector((state) => state.entities.pets);\n\n    const [chosenSpecies, setSpecies] = React.useState('');\n    const [order, setOrder] = React.useState('descending');\n    const [sex, setSex] = React.useState('');\n    const [breed, setBreed] = React.useState('');\n    const [ageRange, setAgeRange] = React.useState([1, 5]);\n\n    const sexes = ['female', 'male'];\n    const orders = ['ascending price', 'descending price', 'newest'];\n\n    const ageMarks = [\n        {\n            value: 1,\n            label: '1 year',\n        },\n        {\n            value: 5,\n            label: '5 years',\n        },\n        {\n            value: 10,\n            label: '10 years',\n        },\n    ];\n\n\n    const loadPets = async () => {\n        // trigger the redux action getPets\n        pets = props.dispatch(getPets(chosenSpecies, sex, breed, ageRange));\n    };\n\n    useEffect(() => {\n        // load pets when the page is loaded or the pets were filtered.\n        if (!pets) {\n            loadPets();\n        }\n    }, [pets]);\n\n    const updateFilters = async () => {\n        setSpecies('');\n        setSex('');\n        setBreed('');\n        setAgeRange([1, 10]);\n        pets = props.dispatch(getPets('', '', '', [1, 5])); //change parameters manually because values remain constant inside render and are not updated immediately\n    };\n\n    const resetFilters = async () => {\n        updateFilters();\n    };\n\n    const handleSpeciesChange = (event) => {\n        setSpecies(event.target.value);\n    };\n\n    const handleSexChange = (event) => {\n        setSex(event.target.value);\n    };\n\n    const handleBreedChange = (event) => {\n        setBreed(event.target.value);\n    };\n\n    const handleAgeRangeChange = (event, newRange) => {\n        setAgeRange(newRange);\n    };\n\n    const handleOrderChange = (event) => {\n        setOrder(event.target.value);\n    };\n\n    function agetext(age) {\n        return `${age} years old`;\n    }\n\n    return (\n        <div>\n            <div className={classes.filters}>\n                <FormControl className={classes.formControl}>\n                    <InputLabel id=\"species-select-label\">Species</InputLabel>\n                    <Select labelId=\"species-select-label\" id=\"species-select\" value={chosenSpecies} onChange={handleSpeciesChange}>\n                        {Object.keys(breeds).map((oneSpecies) => (\n                            <MenuItem key={oneSpecies} value={oneSpecies}>\n                                {oneSpecies}\n                            </MenuItem>\n                        ))}\n                    </Select>\n                </FormControl>\n\n                <FormControl className={classes.formControl}>\n                    <InputLabel id=\"sex-select-label\">Sex</InputLabel>\n                    <Select labelId=\"sex-select-label\" id=\"sex-select\" value={sex} onChange={handleSexChange}>\n                        {sexes.map((sex) => (\n                            <MenuItem key={sex} value={sex}>\n                                {sex}\n                            </MenuItem>\n                        ))}\n                    </Select>\n                </FormControl>\n\n                <FormControl className={classes.formControl}>\n                    <InputLabel id=\"breed-select-label\">Breed</InputLabel>\n                    <Select labelId=\"breed-select-label\" id=\"breed-select\" value={breed} onChange={handleBreedChange}>\n                        {(breeds[chosenSpecies] ?? []).map((breed) => (\n                            <MenuItem key={breed} value={breed}>\n                                {breed}\n                            </MenuItem>\n                        ))}\n                    </Select>\n                </FormControl>\n                <FormControl className={classes.formControl}>\n                    <InputLabel id=\"breed-select-label\">Sort by</InputLabel>\n                    <Select labelId=\"breed-select-label\" id=\"sort-select\" value={order} onChange={handleOrderChange}>\n                        {orders.map((order) => (\n                            <MenuItem key={order} value={order}>\n                                {order}\n                            </MenuItem>\n                        ))}\n                    </Select>\n                </FormControl>\n\n                <div className={classes.ageSlider}>\n                    <Typography>Age Range</Typography>\n                    <Slider\n                        value={ageRange}\n                        onChange={handleAgeRangeChange}\n                        valueLabelDisplay=\"auto\"\n                        aria-labelledby=\"range-slider\"\n                        getAriaValueText={agetext}\n                        min={0.5}\n                        max={10}\n                        marks={ageMarks}\n                        color=\"secondary\"\n                    />\n                </div>\n\n                <Button className={classes.button} variant=\"contained\" color=\"secondary\" onClick={loadPets}>\n                    Apply\n                </Button>\n                <Button className={classes.button} variant=\"contained\" color=\"secondary\" onClick={resetFilters}>\n                    Reset filters\n                </Button>\n            </div>\n            <SearchResults pets={pets} order={order} />\n        </div>\n    );\n}\n\nexport default connect()(withRouter(SearchView));\n"]},"metadata":{},"sourceType":"module"}