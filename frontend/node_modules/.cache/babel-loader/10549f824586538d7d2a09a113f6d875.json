{"ast":null,"code":"var _jsxFileName = \"/Users/alinaturbina/Uni Projects/seba/frontend/src/datafetcher.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { loginReset, logout } from 'redux/actions';\nimport { NotificationService } from 'services';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst DataFetcher = /*#__PURE__*/React.memo(_c = _s(() => {\n  _s();\n\n  const dispatch = useDispatch();\n  const isAuthenticated = useSelector(state => state.user.isAuthenticated);\n  const isLoading = useSelector(state => state.fetcher.isLoading);\n  useEffect(() => {\n    let fetch = true;\n\n    const logoutRedirect = () => {\n      if (fetch && isAuthenticated === false) {\n        dispatch(logout());\n        NotificationService.notify('warning', 'Warning', 'You were logged out.');\n      } else if (fetch && !isLoading) {\n        dispatch(loginReset());\n      }\n    };\n\n    logoutRedirect();\n    return () => {\n      fetch = false;\n    };\n  }, [isAuthenticated, dispatch, isLoading]);\n  return /*#__PURE__*/_jsxDEV(React.Fragment, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 33,\n    columnNumber: 12\n  }, this);\n}, \"ltKqLKFL+zlQwW4JEhcagZgANDs=\", false, function () {\n  return [useDispatch, useSelector, useSelector];\n}));\n_c2 = DataFetcher;\nexport default DataFetcher;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"DataFetcher$React.memo\");\n$RefreshReg$(_c2, \"DataFetcher\");","map":{"version":3,"sources":["/Users/alinaturbina/Uni Projects/seba/frontend/src/datafetcher.js"],"names":["React","useEffect","useDispatch","useSelector","loginReset","logout","NotificationService","DataFetcher","memo","dispatch","isAuthenticated","state","user","isLoading","fetcher","fetch","logoutRedirect","notify"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;AACA,SAASC,UAAT,EAAqBC,MAArB,QAAmC,eAAnC;AACA,SAASC,mBAAT,QAAoC,UAApC;;AAEA,MAAMC,WAAW,gBAAGP,KAAK,CAACQ,IAAN,SAAW,MAAM;AAAA;;AACjC,QAAMC,QAAQ,GAAGP,WAAW,EAA5B;AAEA,QAAMQ,eAAe,GAAGP,WAAW,CAAEQ,KAAD,IAAWA,KAAK,CAACC,IAAN,CAAWF,eAAvB,CAAnC;AACA,QAAMG,SAAS,GAAGV,WAAW,CAAEQ,KAAD,IAAWA,KAAK,CAACG,OAAN,CAAcD,SAA1B,CAA7B;AAGAZ,EAAAA,SAAS,CAAC,MAAM;AACZ,QAAIc,KAAK,GAAG,IAAZ;;AAGA,UAAMC,cAAc,GAAG,MAAM;AACzB,UAAID,KAAK,IAAIL,eAAe,KAAK,KAAjC,EAAwC;AACpCD,QAAAA,QAAQ,CAACJ,MAAM,EAAP,CAAR;AACAC,QAAAA,mBAAmB,CAACW,MAApB,CAA2B,SAA3B,EAAsC,SAAtC,EAAiD,sBAAjD;AACH,OAHD,MAGO,IAAIF,KAAK,IAAI,CAACF,SAAd,EAAyB;AAC5BJ,QAAAA,QAAQ,CAACL,UAAU,EAAX,CAAR;AACH;AACJ,KAPD;;AASAY,IAAAA,cAAc;AAEd,WAAO,MAAM;AACTD,MAAAA,KAAK,GAAG,KAAR;AACH,KAFD;AAGH,GAlBQ,EAkBN,CAACL,eAAD,EAAkBD,QAAlB,EAA4BI,SAA5B,CAlBM,CAAT;AAoBA,sBAAO,QAAC,KAAD,CAAO,QAAP;AAAA;AAAA;AAAA;AAAA,UAAP;AACH,CA5BmB;AAAA,UACCX,WADD,EAGQC,WAHR,EAIEA,WAJF;AAAA,GAApB;MAAMI,W;AA8BN,eAAeA,WAAf","sourcesContent":["import React, { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { loginReset, logout } from 'redux/actions';\nimport { NotificationService } from 'services';\n\nconst DataFetcher = React.memo(() => {\n    const dispatch = useDispatch();\n\n    const isAuthenticated = useSelector((state) => state.user.isAuthenticated);\n    const isLoading = useSelector((state) => state.fetcher.isLoading);\n\n\n    useEffect(() => {\n        let fetch = true;\n    \n\n        const logoutRedirect = () => {\n            if (fetch && isAuthenticated === false) {\n                dispatch(logout());\n                NotificationService.notify('warning', 'Warning', 'You were logged out.')\n            } else if (fetch && !isLoading) {\n                dispatch(loginReset())\n            }\n        };\n\n        logoutRedirect();\n\n        return () => {\n            fetch = false;\n        };\n    }, [isAuthenticated, dispatch, isLoading]);\n\n    return <React.Fragment />;\n});\n\nexport default DataFetcher;"]},"metadata":{},"sourceType":"module"}