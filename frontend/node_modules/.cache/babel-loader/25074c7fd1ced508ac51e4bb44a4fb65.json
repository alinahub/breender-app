{"ast":null,"code":"import _regeneratorRuntime from\"/Users/alinaturbina/Uni Projects/seba/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/alinaturbina/Uni Projects/seba/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/alinaturbina/Uni Projects/seba/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect}from'react';import{connect,useSelector}from'react-redux';import Grid from'@material-ui/core/Grid';import Typography from'@material-ui/core/Typography';import{makeStyles}from'@material-ui/core/styles';import{Button,Container,Dialog,DialogActions,DialogContent,DialogTitle,Paper}from'@material-ui/core';import SubscriptionPlanComponent from'../components/premium/SubscriptionPlanComponent';import{withRouter}from'react-router-dom';import{getUsersInfo}from'redux/actions';import pets from'../images/pets.png';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var useStyles=makeStyles(function(theme){return{premiumDescription:{padding:theme.spacing(8,0,6)},title:theme.typography.h3,description:theme.typography.h6,paper:{width:'1250px',marginLeft:'auto',marginRight:'auto',marginTop:theme.spacing(0),marginBottom:theme.spacing(5)},container:{position:'relative',paddingTop:'172px'},image:{position:'absolute',left:'calc(50% - 350px)',top:'0%'},modal:{borderRadius:'10px'},plans:{paddingBottom:'60px',paddingRight:'20px',paddingLeft:'20px'}};});function SubscriptionPageView(props){var classes=useStyles();var user=useSelector(function(state){return state.user;});var userInfo=useSelector(function(state){return state.user.userInfo;});var _React$useState=React.useState(false),_React$useState2=_slicedToArray(_React$useState,2),open=_React$useState2[0],setOpen=_React$useState2[1];var loadUser=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:// trigger the redux action getUsersInfo\nprops.dispatch(getUsersInfo(user.user.id));case 1:case\"end\":return _context.stop();}}},_callee);}));return function loadUser(){return _ref.apply(this,arguments);};}();useEffect(function(){if(user.user)loadUser();},[]);var handleOpen=function handleOpen(){setOpen(true);};var handleClose=function handleClose(){setOpen(false);};var onSignUp=function onSignUp(v){//pass subscription plan to sign up page\nprops.history.push({pathname:'/register',subscriptionPlan:v});};var onChangePlan=function onChangePlan(v){//pass subscription plan to sign up page\nif(userInfo.subscriptionPlan==='free'&&v==='premium'){console.log('want to change');props.history.push('/pricing/changePlan');}else if(userInfo.subscriptionPlan==='premium'&&v==='free'){handleOpen();}};return/*#__PURE__*/_jsxs(\"div\",{className:classes.container,children:[/*#__PURE__*/_jsx(\"img\",{src:pets,alt:\"pets\",width:\"700\",className:classes.image}),/*#__PURE__*/_jsxs(Paper,{className:classes.paper,style:{borderRadius:25},children:[/*#__PURE__*/_jsxs(Container,{maxWidth:\"sm\",component:\"main\",className:classes.premiumDescription,children:[/*#__PURE__*/_jsx(Typography,{className:classes.title,align:\"center\",gutterBottom:true,children:\"Get Access to All Features!\"}),/*#__PURE__*/_jsx(Typography,{className:classes.description,align:\"center\",component:\"p\",children:\"Find the best breeding partner for your favourite pet in just few clicks: all you need to do is to subscribe to our Premium Plan, search for a perfect match and safely pay for breeding through our website.\"})]}),/*#__PURE__*/_jsx(Container,{maxWidth:\"md\",component:\"main\",className:classes.plans,children:/*#__PURE__*/_jsx(Grid,{container:true,spacing:5,alignItems:\"flex-end\",children:/*#__PURE__*/_jsx(SubscriptionPlanComponent,{onClick:user.userInfo?onChangePlan:onSignUp,subscriptionPlan:user.userInfo?userInfo.subscriptionPlan:''})})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(Dialog,{onClose:handleClose,\"aria-labelledby\":\"customized-dialog-title\",open:open,style:{borderRadius:'10px'},children:[/*#__PURE__*/_jsx(DialogTitle,{id:\"customized-dialog-title\",onClose:handleClose,children:\"Switching from Premium to Basic\"}),/*#__PURE__*/_jsx(DialogContent,{dividers:true,children:/*#__PURE__*/_jsx(Typography,{gutterBottom:true,children:\"After your Premium Subscription is completed your plan will be automatically switched to Basic.\"})}),/*#__PURE__*/_jsx(DialogActions,{children:/*#__PURE__*/_jsx(Button,{autoFocus:true,onClick:handleClose,color:\"primary\",children:\"OK\"})})]})})]})]});}export default connect()(withRouter(SubscriptionPageView));","map":{"version":3,"sources":["/Users/alinaturbina/Uni Projects/seba/frontend/src/views/SubscriptionPageView.js"],"names":["React","useEffect","connect","useSelector","Grid","Typography","makeStyles","Button","Container","Dialog","DialogActions","DialogContent","DialogTitle","Paper","SubscriptionPlanComponent","withRouter","getUsersInfo","pets","useStyles","theme","premiumDescription","padding","spacing","title","typography","h3","description","h6","paper","width","marginLeft","marginRight","marginTop","marginBottom","container","position","paddingTop","image","left","top","modal","borderRadius","plans","paddingBottom","paddingRight","paddingLeft","SubscriptionPageView","props","classes","user","state","userInfo","useState","open","setOpen","loadUser","dispatch","id","handleOpen","handleClose","onSignUp","v","history","push","pathname","subscriptionPlan","onChangePlan","console","log"],"mappings":"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","sourcesContent":["import React, { useEffect } from 'react';\nimport { connect, useSelector } from 'react-redux';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Button, Container, Dialog, DialogActions, DialogContent, DialogTitle, Paper } from '@material-ui/core';\nimport SubscriptionPlanComponent from '../components/premium/SubscriptionPlanComponent';\nimport { withRouter } from 'react-router-dom';\nimport { getUsersInfo } from 'redux/actions';\nimport pets from '../images/pets.png';\n\nconst useStyles = makeStyles((theme) => ({\n    premiumDescription: {\n        padding: theme.spacing(8, 0, 6),\n    },\n    title: theme.typography.h3,\n    description: theme.typography.h6,\n    paper: {\n        width: '1250px',\n        marginLeft: 'auto',\n        marginRight: 'auto',\n        marginTop: theme.spacing(0),\n        marginBottom: theme.spacing(5),\n    },\n    container: {\n        position: 'relative',\n        paddingTop: '172px',\n    },\n    image: {\n        position: 'absolute',\n        left: 'calc(50% - 350px)',\n        top: '0%',\n    },\n    modal: {\n        borderRadius: '10px',\n    },\n    plans: {\n        paddingBottom: '60px',\n        paddingRight: '20px',\n        paddingLeft: '20px',\n    },\n}));\n\nfunction SubscriptionPageView(props) {\n    const classes = useStyles();\n\n    const user = useSelector((state) => state.user);\n    const userInfo = useSelector((state) => state.user.userInfo);\n    const [open, setOpen] = React.useState(false);\n\n    const loadUser = async () => {\n        // trigger the redux action getUsersInfo\n        props.dispatch(getUsersInfo(user.user.id));\n    };\n\n    useEffect(() => {\n        if (user.user) loadUser();\n    }, []);\n\n    const handleOpen = () => {\n        setOpen(true);\n    };\n\n    const handleClose = () => {\n        setOpen(false);\n    };\n\n    const onSignUp = (v) => {\n        //pass subscription plan to sign up page\n        props.history.push({ pathname: '/register', subscriptionPlan: v });\n    };\n\n    const onChangePlan = (v) => {\n        //pass subscription plan to sign up page\n        if (userInfo.subscriptionPlan === 'free' && v === 'premium') {\n            console.log('want to change');\n            props.history.push('/pricing/changePlan');\n        } else if (userInfo.subscriptionPlan === 'premium' && v === 'free') {\n            handleOpen();\n        }\n    };\n\n    return (\n        <div className={classes.container}>\n            <img src={pets} alt=\"pets\" width=\"700\" className={classes.image} />\n\n            <Paper className={classes.paper} style={{ borderRadius: 25 }}>\n                <Container maxWidth=\"sm\" component=\"main\" className={classes.premiumDescription}>\n                    <Typography className={classes.title} align=\"center\" gutterBottom>\n                        Get Access to All Features!\n                    </Typography>\n                    <Typography className={classes.description} align=\"center\" component=\"p\">\n                        Find the best breeding partner for your favourite pet in just few clicks: all you need to do is to subscribe to our Premium Plan, search for a perfect match and safely pay for\n                        breeding through our website.\n                    </Typography>\n                </Container>\n                <Container maxWidth=\"md\" component=\"main\" className={classes.plans}>\n                    <Grid container spacing={5} alignItems=\"flex-end\">\n                        <SubscriptionPlanComponent onClick={user.userInfo ? onChangePlan : onSignUp} subscriptionPlan={user.userInfo ? userInfo.subscriptionPlan : ''} />\n                    </Grid>\n                </Container>\n\n                <div>\n                    <Dialog onClose={handleClose} aria-labelledby=\"customized-dialog-title\" open={open} style={{ borderRadius: '10px' }}>\n                        <DialogTitle id=\"customized-dialog-title\" onClose={handleClose}>\n                            Switching from Premium to Basic\n                        </DialogTitle>\n                        <DialogContent dividers>\n                            <Typography gutterBottom>After your Premium Subscription is completed your plan will be automatically switched to Basic.</Typography>\n                        </DialogContent>\n                        <DialogActions>\n                            <Button autoFocus onClick={handleClose} color=\"primary\">\n                                OK\n                            </Button>\n                        </DialogActions>\n                    </Dialog>\n                </div>\n            </Paper>\n        </div>\n    );\n}\nexport default connect()(withRouter(SubscriptionPageView));\n"]},"metadata":{},"sourceType":"module"}