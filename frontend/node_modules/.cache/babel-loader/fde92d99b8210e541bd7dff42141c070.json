{"ast":null,"code":"import _regeneratorRuntime from\"/Users/alinaturbina/Uni Projects/seba/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/alinaturbina/Uni Projects/seba/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/alinaturbina/Uni Projects/seba/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect}from'react';import{connect,useSelector}from'react-redux';import{withRouter}from'react-router-dom';import{declineDocument,verifyDocument}from'redux/actions/documentActions';import Loading from'./Loading';import Button from'@material-ui/core/Button';import Dialog from'@material-ui/core/Dialog';import DialogActions from'@material-ui/core/DialogActions';import DialogContent from'@material-ui/core/DialogContent';import DialogContentText from'@material-ui/core/DialogContentText';import DialogTitle from'@material-ui/core/DialogTitle';import DocumentResultsList from'components/DocumentResultsList';import{makeStyles}from'@material-ui/core';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var useStyles=makeStyles(function(theme){return{description:theme.typography.body1,modal:{bordeRadius:\"10px\"}};});var DocumentsArray=function DocumentsArray(props){var classes=useStyles();var documents=useSelector(function(state){return state.documents;});var _React$useState=React.useState(false),_React$useState2=_slicedToArray(_React$useState,2),openVerify=_React$useState2[0],setOpenVerify=_React$useState2[1];//for modal to verify doc\nvar _React$useState3=React.useState(false),_React$useState4=_slicedToArray(_React$useState3,2),openDecline=_React$useState4[0],setOpenDecline=_React$useState4[1];//for modal to decline doc\nvar _React$useState5=React.useState(''),_React$useState6=_slicedToArray(_React$useState5,2),id=_React$useState6[0],setId=_React$useState6[1];var _React$useState7=React.useState(''),_React$useState8=_slicedToArray(_React$useState7,2),type=_React$useState8[0],setType=_React$useState8[1];var _React$useState9=React.useState(''),_React$useState10=_slicedToArray(_React$useState9,2),ownerId=_React$useState10[0],setOwnerId=_React$useState10[1];var _React$useState11=React.useState(''),_React$useState12=_slicedToArray(_React$useState11,2),officialName=_React$useState12[0],setOfficialName=_React$useState12[1];function handleClickOpenVerify(docId,docType,ownerId,officialName){setId(docId);setType(docType);setOwnerId(ownerId);setOfficialName(officialName);setOpenVerify(true);}var handleCloseVerify=function handleCloseVerify(){setOpenVerify(false);};function verify(){return _verify.apply(this,arguments);}function _verify(){_verify=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return props.dispatch(verifyDocument(id,type,ownerId,officialName));case 2:props.setLoading(true);setOpenVerify(false);case 4:case\"end\":return _context.stop();}}},_callee);}));return _verify.apply(this,arguments);}function decline(){return _decline.apply(this,arguments);}function _decline(){_decline=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return props.dispatch(declineDocument(id,type,ownerId,officialName));case 2:props.setLoading(true);setOpenDecline(false);case 4:case\"end\":return _context2.stop();}}},_callee2);}));return _decline.apply(this,arguments);}function handleClickOpenDecline(docId,docType,ownerId,officialName){setId(docId);setType(docType);setOwnerId(ownerId);setOfficialName(officialName);setOpenDecline(true);}var handleCloseDecline=function handleCloseDecline(){setOpenDecline(false);};useEffect(function(){if(props.loading){//if reload is required and the tab is active, retrieve updated docs \nif(props.active){props.dispatch(props.getDocuments());props.setLoading(false);}}// load docs when the page is loaded or the docs were verified/declined.\n},[props]);return!documents?/*#__PURE__*/_jsx(Loading,{}):/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(DocumentResultsList,{documentsArray:documents.documents,openModalVerify:handleClickOpenVerify,openModalDecline:handleClickOpenDecline,className:classes.modal}),/*#__PURE__*/_jsxs(Dialog,{open:openVerify,onClose:handleCloseVerify,\"aria-labelledby\":\"alert-dialog-title\",\"aria-describedby\":\"alert-dialog-description1\",children:[/*#__PURE__*/_jsx(DialogTitle,{id:\"alert-dialog-title1\",children:'Verify document?'}),/*#__PURE__*/_jsx(DialogContent,{children:/*#__PURE__*/_jsx(DialogContentText,{className:classes.description,children:\"Once the document is verified, this action cannot be reverted.\"})}),/*#__PURE__*/_jsxs(DialogActions,{children:[/*#__PURE__*/_jsx(Button,{onClick:handleCloseVerify,color:\"primary\",children:\"Cancel\"}),/*#__PURE__*/_jsx(Button,{onClick:verify,color:\"secondary\",autoFocus:true,children:\"Verify\"})]})]}),/*#__PURE__*/_jsxs(Dialog,{open:openDecline,onClose:handleCloseDecline,\"aria-labelledby\":\"alert-dialog-title\",\"aria-describedby\":\"alert-dialog-description2\",className:classes.modal,children:[/*#__PURE__*/_jsx(DialogTitle,{id:\"alert-dialog-title2\",children:'Decline document?'}),/*#__PURE__*/_jsx(DialogContent,{children:/*#__PURE__*/_jsx(DialogContentText,{className:classes.description,children:\"Once the document is declined, this action cannot be reverted.\"})}),/*#__PURE__*/_jsxs(DialogActions,{children:[/*#__PURE__*/_jsx(Button,{onClick:handleCloseDecline,color:\"primary\",children:\"Cancel\"}),/*#__PURE__*/_jsx(Button,{onClick:decline,color:\"secondary\",autoFocus:true,children:\"Decline\"})]})]})]});};export default connect()(withRouter(DocumentsArray));","map":{"version":3,"sources":["/Users/alinaturbina/Uni Projects/seba/frontend/src/components/DocumentsArray.js"],"names":["React","useEffect","connect","useSelector","withRouter","declineDocument","verifyDocument","Loading","Button","Dialog","DialogActions","DialogContent","DialogContentText","DialogTitle","DocumentResultsList","makeStyles","useStyles","theme","description","typography","body1","modal","bordeRadius","DocumentsArray","props","classes","documents","state","useState","openVerify","setOpenVerify","openDecline","setOpenDecline","id","setId","type","setType","ownerId","setOwnerId","officialName","setOfficialName","handleClickOpenVerify","docId","docType","handleCloseVerify","verify","dispatch","setLoading","decline","handleClickOpenDecline","handleCloseDecline","loading","active","getDocuments"],"mappings":"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","sourcesContent":["import React, { useEffect } from 'react';\nimport { connect, useSelector } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\nimport { declineDocument, verifyDocument } from 'redux/actions/documentActions';\nimport Loading from './Loading';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport DocumentResultsList from 'components/DocumentResultsList';\nimport { makeStyles } from '@material-ui/core';\n\nconst useStyles = makeStyles((theme) => ({\n    description: theme.typography.body1,\n    modal: {\n        bordeRadius: \"10px\"\n    }\n}));\n\nconst DocumentsArray = (props) => {\n    const classes = useStyles();\n    const documents = useSelector((state) => state.documents);\n    const [openVerify, setOpenVerify] = React.useState(false); //for modal to verify doc\n    const [openDecline, setOpenDecline] = React.useState(false); //for modal to decline doc\n    const [id, setId] = React.useState('');\n    const [type, setType] = React.useState('');\n    const [ownerId, setOwnerId] = React.useState('');\n    const [officialName, setOfficialName] = React.useState('');\n\n    function handleClickOpenVerify(docId, docType, ownerId, officialName) {\n        setId(docId);\n        setType(docType);\n        setOwnerId(ownerId);\n        setOfficialName(officialName);\n\n        setOpenVerify(true);\n    }\n    const handleCloseVerify = () => {\n        setOpenVerify(false);\n    };\n\n    async function verify() {\n        await props.dispatch(verifyDocument(id, type, ownerId, officialName));\n        props.setLoading(true);\n        setOpenVerify(false);\n    }\n\n    async function decline() {\n       await props.dispatch(declineDocument(id, type,  ownerId, officialName));\n        props.setLoading(true);\n        setOpenDecline(false);\n    }\n\n    function handleClickOpenDecline(docId, docType, ownerId, officialName) { \n        setId(docId);\n        setType(docType);\n        setOwnerId(ownerId);\n        setOfficialName(officialName);\n        setOpenDecline(true);\n    }\n    const handleCloseDecline = () => {\n        setOpenDecline(false);\n    };\n\n    useEffect(() => { \n        if (props.loading) { //if reload is required and the tab is active, retrieve updated docs \n           if (props.active) {\n                props.dispatch(props.getDocuments());\n                props.setLoading(false)\n            }\n        }\n        // load docs when the page is loaded or the docs were verified/declined.\n    }, [props]);\n\n    return !documents ? (\n        <Loading />\n    ) : (\n        <div>\n            <DocumentResultsList documentsArray={documents.documents} openModalVerify={handleClickOpenVerify} openModalDecline={handleClickOpenDecline} className={classes.modal} />\n            <Dialog open={openVerify} onClose={handleCloseVerify} aria-labelledby=\"alert-dialog-title\" aria-describedby=\"alert-dialog-description1\">\n                <DialogTitle id=\"alert-dialog-title1\">{'Verify document?'}</DialogTitle>\n                <DialogContent>\n                    <DialogContentText className={classes.description}>Once the document is verified, this action cannot be reverted.</DialogContentText>\n                </DialogContent>\n                <DialogActions>\n                    <Button onClick={handleCloseVerify} color=\"primary\">\n                        Cancel\n                    </Button>\n                    <Button onClick={verify} color=\"secondary\" autoFocus>\n                        Verify\n                    </Button>\n                </DialogActions>\n            </Dialog>\n            <Dialog open={openDecline} onClose={handleCloseDecline} aria-labelledby=\"alert-dialog-title\" aria-describedby=\"alert-dialog-description2\" className={classes.modal}>\n                <DialogTitle id=\"alert-dialog-title2\">{'Decline document?'}</DialogTitle>\n                <DialogContent>\n                    <DialogContentText className={classes.description}>Once the document is declined, this action cannot be reverted.</DialogContentText>\n                </DialogContent>\n                <DialogActions>\n                    <Button onClick={handleCloseDecline} color=\"primary\">\n                        Cancel\n                    </Button>\n                    <Button onClick={decline} color=\"secondary\" autoFocus>\n                        Decline\n                    </Button>\n                </DialogActions>\n            </Dialog>\n        </div>\n    );\n};\n\nexport default connect()(withRouter(DocumentsArray));\n"]},"metadata":{},"sourceType":"module"}