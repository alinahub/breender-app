{"ast":null,"code":"var _jsxFileName = \"/Users/alinaturbina/Uni Projects/seba/frontend/src/views/ChangeToPremiumView.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport PaymentInformationComponent from '../components/PaymentInformation';\nimport { connect, useSelector } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\nimport { update } from 'redux/actions';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Paper, Typography } from '@material-ui/core';\nimport { Result } from 'antd';\nimport cat from '../images/cat.png';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst useStyles = makeStyles(theme => ({\n  root: {\n    margin: 'auto'\n  },\n  paper: {\n    width: '1000px',\n    height: '425px',\n    padding: theme.spacing(2)\n  },\n  active: {\n    color: '#D37F65'\n  },\n  completed: {\n    color: '#D37F65',\n    zIndex: 1,\n    fontSize: 18\n  }\n}));\n/**\n * For presenting and choosing subscription plan and paying with PayPal\n * @param {props} props\n */\n\nfunction ChangeToPremiumView(props) {\n  _s();\n\n  const classes = useStyles();\n  const user = useSelector(state => state.user);\n  const [paymentProcessed, setPaymentProcessed] = React.useState(true);\n  const [status, setStatus] = React.useState(false);\n  const payments = [{\n    description: '4.99€ for 1 month',\n    plan: '1mo',\n    price: '4.99'\n  }, {\n    description: '12,99€ for 3 months',\n    plan: '3mo',\n    price: '12.99'\n  }, {\n    description: '22,99€ for 6 months',\n    plan: '6mo',\n    price: '22.99'\n  }, {\n    description: '34,99€ for 1 year',\n    plan: '1yr',\n    price: '34.99'\n  }];\n  const [chosenPayment, setChosenPayment] = React.useState('4.99');\n  const values = {\n    chosenPayment\n  };\n\n  function changeSubscriptionPlanToPremium(plan, paymentMethod) {\n    const onSuccess = () => {\n      setPaymentProcessed(false);\n      setStatus(true);\n      setTimeout(function () {\n        props.history.push('/');\n      }, 2000);\n    };\n\n    const onError = () => {\n      setPaymentProcessed(false);\n      setStatus(false);\n      setTimeout(function () {\n        props.history.push('/');\n      }, 1000);\n    };\n\n    props.dispatch(update(user.userInfo.id, 'premium', plan, paymentMethod, onSuccess, onError));\n  }\n\n  const prevStep = () => {\n    props.history.push('/pricing');\n  };\n\n  function handleChange(input, event) {\n    setChosenPayment(event.target.value);\n  }\n\n  return paymentProcessed ? /*#__PURE__*/_jsxDEV(PaymentInformationComponent, {\n    payments: payments,\n    handleChange: handleChange,\n    values: values,\n    onSuccess: changeSubscriptionPlanToPremium,\n    user: user,\n    prevStep: prevStep\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 80,\n    columnNumber: 9\n  }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n    className: classes.root,\n    align: \"center\",\n    children: /*#__PURE__*/_jsxDEV(Paper, {\n      className: classes.paper,\n      children: [status ? /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(Result, {\n          status: \"success\",\n          title: \"Congratulations!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 25\n        }, this), \" \", /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h5\",\n          children: \"You will be redirected to home page shortly.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 78\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 21\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(Result, {\n          status: \"warning\",\n          title: \"Something went wrong :(\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h5\",\n          children: \"There was a problem in changing your plan. Please try again later or contact our customer service.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: cat,\n          alt: \"cat\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 82,\n    columnNumber: 9\n  }, this);\n}\n\n_s(ChangeToPremiumView, \"bhSaJKCK6lA4slcHL8DX7nJFQfA=\", false, function () {\n  return [useStyles, useSelector];\n});\n\n_c = ChangeToPremiumView;\nexport default connect()(withRouter(ChangeToPremiumView));\n\nvar _c;\n\n$RefreshReg$(_c, \"ChangeToPremiumView\");","map":{"version":3,"sources":["/Users/alinaturbina/Uni Projects/seba/frontend/src/views/ChangeToPremiumView.js"],"names":["React","PaymentInformationComponent","connect","useSelector","withRouter","update","makeStyles","Paper","Typography","Result","cat","useStyles","theme","root","margin","paper","width","height","padding","spacing","active","color","completed","zIndex","fontSize","ChangeToPremiumView","props","classes","user","state","paymentProcessed","setPaymentProcessed","useState","status","setStatus","payments","description","plan","price","chosenPayment","setChosenPayment","values","changeSubscriptionPlanToPremium","paymentMethod","onSuccess","setTimeout","history","push","onError","dispatch","userInfo","id","prevStep","handleChange","input","event","target","value"],"mappings":"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","sourcesContent":["import React from 'react';\nimport PaymentInformationComponent from '../components/PaymentInformation';\nimport { connect, useSelector } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\nimport { update } from 'redux/actions';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Paper, Typography } from '@material-ui/core';\nimport { Result } from 'antd';\nimport cat from '../images/cat.png';\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        margin: 'auto',\n    },\n    paper: {\n        width: '1000px',\n        height: '425px',\n        padding: theme.spacing(2),\n    },\n    active: {\n        color: '#D37F65',\n    },\n    completed: {\n        color: '#D37F65',\n        zIndex: 1,\n        fontSize: 18,\n    },\n}));\n/**\n * For presenting and choosing subscription plan and paying with PayPal\n * @param {props} props\n */\nfunction ChangeToPremiumView(props) {\n    const classes = useStyles();\n\n    const user = useSelector((state) => state.user);\n    const [paymentProcessed, setPaymentProcessed] = React.useState(true);\n    const [status, setStatus] = React.useState(false);\n\n    const payments = [\n        { description: '4.99€ for 1 month', plan: '1mo', price: '4.99' },\n        { description: '12,99€ for 3 months', plan: '3mo', price: '12.99' },\n        { description: '22,99€ for 6 months', plan: '6mo', price: '22.99' },\n        { description: '34,99€ for 1 year', plan: '1yr', price: '34.99' },\n    ];\n\n    const [chosenPayment, setChosenPayment] = React.useState('4.99');\n\n    const values = { chosenPayment };\n\n    function changeSubscriptionPlanToPremium(plan, paymentMethod) {\n        const onSuccess = () => {\n            setPaymentProcessed(false);\n            setStatus(true);\n            setTimeout(function () {\n                props.history.push('/');\n            }, 2000);\n        };\n\n        const onError = () => {\n            setPaymentProcessed(false);\n            setStatus(false);\n            setTimeout(function () {\n                props.history.push('/');\n            }, 1000);\n        };\n\n        props.dispatch(update(user.userInfo.id, 'premium', plan, paymentMethod, onSuccess, onError));\n    }\n\n    const prevStep = () => {\n        props.history.push('/pricing');\n    };\n\n    function handleChange(input, event) {\n        setChosenPayment(event.target.value);\n    }\n\n    return paymentProcessed ? (\n        <PaymentInformationComponent payments={payments} handleChange={handleChange} values={values} onSuccess={changeSubscriptionPlanToPremium} user={user} prevStep={prevStep} />\n    ) : (\n        <div className={classes.root} align=\"center\">\n            <Paper className={classes.paper}>\n                {status ? (\n                    <div>\n                        <Result status=\"success\" title=\"Congratulations!\" /> <Typography variant=\"h5\">You will be redirected to home page shortly.</Typography>\n                    </div>\n                ) : (\n                    <div>\n                        <Result status=\"warning\" title=\"Something went wrong :(\" />\n                        <Typography variant=\"h5\">There was a problem in changing your plan. Please try again later or contact our customer service.</Typography>\n                    </div>\n                )}\n                <div>\n                    <img src={cat} alt=\"cat\" />\n                </div>\n            </Paper>\n        </div>\n    );\n}\n\nexport default connect()(withRouter(ChangeToPremiumView));\n"]},"metadata":{},"sourceType":"module"}