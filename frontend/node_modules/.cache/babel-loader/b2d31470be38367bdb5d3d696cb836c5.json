{"ast":null,"code":"import _regeneratorRuntime from\"/Users/alinaturbina/Uni Projects/seba/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/alinaturbina/Uni Projects/seba/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import{storage}from'../firebase';var FirebaseService={upload:function(){var _upload=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(path,data,metadata){var storageRef,url;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:storageRef=storage.ref();// upload image and get url\n_context.next=3;return storageRef.child(path).put(data.file,metadata).then(function(snapshot){return snapshot.ref.getDownloadURL();});case 3:url=_context.sent;_context.next=6;return url;case 6:return _context.abrupt(\"return\",_context.sent);case 7:case\"end\":return _context.stop();}}},_callee);}));function upload(_x,_x2,_x3){return _upload.apply(this,arguments);}return upload;}(),remove:function(){var _remove=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(path){var storageRef;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return storage.ref();case 2:storageRef=_context2.sent;storageRef.child(path).delete().then(function(){console.log('Deletion was successful');}).catch(function(error){console.log('Error while deletion has occurred',error);});case 4:case\"end\":return _context2.stop();}}},_callee2);}));function remove(_x4){return _remove.apply(this,arguments);}return remove;}()};export default FirebaseService;","map":{"version":3,"sources":["/Users/alinaturbina/Uni Projects/seba/frontend/src/services/FirebaseService.js"],"names":["storage","FirebaseService","upload","path","data","metadata","storageRef","ref","child","put","file","then","snapshot","getDownloadURL","url","remove","delete","console","log","catch","error"],"mappings":"uUAAA,OAASA,OAAT,KAAwB,aAAxB,CAEA,GAAMC,CAAAA,eAAe,CAAG,CACpBC,MAAM,gFAAE,iBAAOC,IAAP,CAAaC,IAAb,CAAmBC,QAAnB,qIACEC,UADF,CACeN,OAAO,CAACO,GAAR,EADf,CAGJ;AAHI,sBAIYD,CAAAA,UAAU,CAACE,KAAX,CAAiBL,IAAjB,EAAuBM,GAAvB,CAA2BL,IAAI,CAACM,IAAhC,CAAsCL,QAAtC,EAAgDM,IAAhD,CAAqD,SAACC,QAAD,CAAc,CAC/E,MAAOA,CAAAA,QAAQ,CAACL,GAAT,CAAaM,cAAb,EAAP,CACH,CAFe,CAJZ,QAIAC,GAJA,qCAQSA,CAAAA,GART,6GAAF,sFADc,CAWpBC,MAAM,gFAAE,kBAAOZ,IAAP,4JACqBH,CAAAA,OAAO,CAACO,GAAR,EADrB,QACED,UADF,gBAEJA,UAAU,CACLE,KADL,CACWL,IADX,EAEKa,MAFL,GAGKL,IAHL,CAGU,UAAM,CACRM,OAAO,CAACC,GAAR,CAAY,yBAAZ,EACH,CALL,EAMKC,KANL,CAMW,SAACC,KAAD,CAAW,CACdH,OAAO,CAACC,GAAR,CAAY,mCAAZ,CAAiDE,KAAjD,EACH,CARL,EAFI,wDAAF,+EAXc,CAAxB,CAyBA,cAAenB,CAAAA,eAAf","sourcesContent":["import { storage } from '../firebase';\n\nconst FirebaseService = {\n    upload: async (path, data, metadata) => {\n        const storageRef = storage.ref();\n\n        // upload image and get url\n        let url = await storageRef.child(path).put(data.file, metadata).then((snapshot) => {\n            return snapshot.ref.getDownloadURL();\n        });\n\n        return await url;\n    },\n    remove: async (path) => {\n        const storageRef = await storage.ref();\n        storageRef\n            .child(path)\n            .delete()\n            .then(() => {\n                console.log('Deletion was successful');\n            })\n            .catch((error) => {\n                console.log('Error while deletion has occurred', error);\n            });\n    },\n}\n\nexport default FirebaseService;\n"]},"metadata":{},"sourceType":"module"}