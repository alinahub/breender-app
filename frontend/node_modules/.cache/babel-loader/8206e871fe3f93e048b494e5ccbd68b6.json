{"ast":null,"code":"import _regeneratorRuntime from\"/Users/alinaturbina/Uni Projects/seba/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/alinaturbina/Uni Projects/seba/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import React from'react';import{makeStyles}from'@material-ui/core/styles';import Paper from'@material-ui/core/Paper';import Grid from'@material-ui/core/Grid';import Typography from'@material-ui/core/Typography';import Button from'@material-ui/core/Button';import Image from'material-ui-image';import{useHistory}from'react-router-dom';import{getAgeString}from'helper/helpers';import CloseIcon from'@material-ui/icons/Close';import{FontAwesomeIcon}from'@fortawesome/react-fontawesome';import{faCrown}from'@fortawesome/free-solid-svg-icons';import{NotificationService}from'services';import{useDispatch}from'react-redux';import{deletePet,getUserPets,getPets,getPet}from'redux/actions';import RemoveShoppingCartIcon from'@material-ui/icons/RemoveShoppingCart';import{Tooltip}from'antd';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var useStyles=makeStyles(function(theme){return{root:{flexGrow:1,padding:theme.spacing(1)},paperLight:{padding:theme.spacing(4),paddingLeft:50,paddingRight:50,margin:'auto',maxWidth:'90%',borderRadius:25},paperDark:{padding:theme.spacing(4),paddingLeft:50,paddingRight:50,margin:'auto',maxWidth:'90%',borderRadius:25,backgroundColor:'#7D7F9A'},image:{width:220,height:220,marginRight:40},img:{borderRadius:'50%'},accentText:{fontWeight:500},icon:{paddingBottom:3}};});export default function PetInformationPaper(props){var classes=useStyles();var history=useHistory();var dispatch=useDispatch();var goToPetProfile=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return dispatch(getPet(props.pet._id));case 2:if(props.editingMode){history.push('/edit/pet/'+props.pet._id);}else{history.push('/pet/'+props.pet._id);}case 3:case\"end\":return _context.stop();}}},_callee);}));return function goToPetProfile(){return _ref.apply(this,arguments);};}();var deletePetOnClick=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var onSuccess,onError;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:onSuccess=function onSuccess(){NotificationService.notify('success','Success','Your pet was successfully deleted!');dispatch(getUserPets(props.user._id));dispatch(getPets('','','',[1,5]));history.push('/user');};onError=function onError(){NotificationService.notify('error','Error','There was a problem deleting your pet.');};dispatch(deletePet(props.pet._id,onSuccess,onError));case 3:case\"end\":return _context2.stop();}}},_callee2);}));return function deletePetOnClick(){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsx(\"div\",{className:classes.root,children:/*#__PURE__*/_jsx(Paper,{className:props.fromSearch?classes.paperLight:classes.paperDark,children:/*#__PURE__*/_jsxs(Grid,{container:true,spacing:2,justify:\"center\",alignItems:\"stretch\",children:[/*#__PURE__*/_jsx(Grid,{item:true,className:classes.image,spacing:4,children:/*#__PURE__*/_jsx(Image,{style:props.fromSearch?{objectFit:'cover'}:{objectFit:'cover',backgroundColor:'#7D7F9A'},className:classes.img,src:props.pet.profilePicture?props.pet.profilePicture.src:''})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:true,sm:6,container:true,children:/*#__PURE__*/_jsx(Grid,{item:true,xs:true,container:true,direction:\"column\",spacing:2,children:/*#__PURE__*/_jsxs(Grid,{item:true,xs:true,children:[/*#__PURE__*/_jsxs(Typography,{gutterBottom:true,variant:\"h5\",style:props.fromSearch?{color:'black'}:{color:'white'},children:[props.pet.officialName,' ',props.pet.ownerId&&props.pet.ownerId.subscriptionPlan==='premium'||props.user&&props.user.subscriptionPlan==='premium'?/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faCrown,size:'xs',className:classes.icon}):null]}),/*#__PURE__*/_jsxs(Grid,{container:true,spacing:2,children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:true,children:/*#__PURE__*/_jsx(Typography,{className:classes.accentText,gutterBottom:true,style:props.fromSearch?{color:\"black\"}:{color:\"white\"},children:\"Age:\"})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:true,children:/*#__PURE__*/_jsx(Typography,{gutterBottom:true,style:props.fromSearch?{color:\"black\"}:{color:\"white\"},children:getAgeString(props.pet.age)})})]}),/*#__PURE__*/_jsxs(Grid,{container:true,spacing:2,children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:true,children:/*#__PURE__*/_jsx(Typography,{className:classes.accentText,gutterBottom:true,style:props.fromSearch?{color:\"black\"}:{color:\"white\"},children:\"Sex:\"})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:true,children:/*#__PURE__*/_jsx(Typography,{gutterBottom:true,style:props.fromSearch?{color:\"black\"}:{color:\"white\"},children:props.pet.sex})})]}),/*#__PURE__*/_jsxs(Grid,{container:true,spacing:2,children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:true,children:/*#__PURE__*/_jsx(Typography,{className:classes.accentText,gutterBottom:true,style:props.fromSearch?{color:\"black\"}:{color:\"white\"},children:\"Breed:\"})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:true,children:/*#__PURE__*/_jsx(Typography,{gutterBottom:true,style:props.fromSearch?{color:\"black\"}:{color:\"white\"},children:props.pet.breed})})]}),/*#__PURE__*/_jsxs(Grid,{container:true,spacing:2,children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:true,children:/*#__PURE__*/_jsx(Typography,{className:classes.accentText,gutterBottom:true,style:props.fromSearch?{color:\"black\"}:{color:\"white\"},children:\"Competition:\"})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:true,children:/*#__PURE__*/_jsx(Typography,{gutterBottom:true,style:props.fromSearch?{color:\"black\"}:{color:\"white\"},children:props.pet.competitions.length===0?'no':'yes'})})]})]})})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:true,sm:true,container:true,children:/*#__PURE__*/_jsxs(Grid,{item:true,xs:true,container:true,direction:\"column\",alignItems:\"flex-end\",justify:\"space-between\",children:[/*#__PURE__*/_jsx(Grid,{item:true,children:props.editingMode?/*#__PURE__*/_jsx(Button,{onClick:deletePetOnClick,children:/*#__PURE__*/_jsx(CloseIcon,{})}):props.pet.purchased?/*#__PURE__*/_jsx(Tooltip,{trigger:\"hover\",placement:\"top\",title:\"The pet is not available.\",children:/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(RemoveShoppingCartIcon,{})})}):/*#__PURE__*/_jsx(Typography,{className:classes.accentText,gutterBottom:true,variant:\"h6\",style:props.fromSearch?{color:\"black\",fontWeight:600}:{color:\"white\",fontWeight:600},children:props.pet.price?\"\".concat(props.pet.price,\" \\u20AC\"):'Free'})}),/*#__PURE__*/_jsx(Grid,{item:true,children:/*#__PURE__*/_jsx(Button,{className:\"resize-on-hover\",variant:\"contained\",color:props.fromSearch?\"primary\":\"secondary\",onClick:goToPetProfile,children:props.editingMode?'Edit pet':'View profile'})})]})})]})})});}// attributes of props and their type","map":{"version":3,"sources":["/Users/alinaturbina/Uni Projects/seba/frontend/src/components/PetInformationPaper.js"],"names":["React","makeStyles","Paper","Grid","Typography","Button","Image","useHistory","getAgeString","CloseIcon","FontAwesomeIcon","faCrown","NotificationService","useDispatch","deletePet","getUserPets","getPets","getPet","RemoveShoppingCartIcon","Tooltip","useStyles","theme","root","flexGrow","padding","spacing","paperLight","paddingLeft","paddingRight","margin","maxWidth","borderRadius","paperDark","backgroundColor","image","width","height","marginRight","img","accentText","fontWeight","icon","paddingBottom","PetInformationPaper","props","classes","history","dispatch","goToPetProfile","pet","_id","editingMode","push","deletePetOnClick","onSuccess","notify","user","onError","fromSearch","objectFit","profilePicture","src","color","officialName","ownerId","subscriptionPlan","age","sex","breed","competitions","length","purchased","price"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Paper from '@material-ui/core/Paper';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\nimport Button from '@material-ui/core/Button';\nimport PropTypes from 'prop-types';\nimport Image from 'material-ui-image';\nimport { useHistory } from 'react-router-dom';\nimport { getAgeString } from 'helper/helpers';\nimport CloseIcon from '@material-ui/icons/Close';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faCrown } from '@fortawesome/free-solid-svg-icons';\nimport { NotificationService } from 'services';\nimport { useDispatch } from 'react-redux';\nimport { deletePet, getUserPets, getPets, getPet } from 'redux/actions';\nimport RemoveShoppingCartIcon from '@material-ui/icons/RemoveShoppingCart';\nimport { Tooltip } from 'antd';\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        flexGrow: 1,\n        padding: theme.spacing(1),\n    },\n    paperLight: {\n        padding: theme.spacing(4),\n        paddingLeft: 50,\n        paddingRight: 50,\n        margin: 'auto',\n        maxWidth: '90%',\n        borderRadius: 25,\n    },\n    paperDark: {\n        padding: theme.spacing(4),\n        paddingLeft: 50,\n        paddingRight: 50,\n        margin: 'auto',\n        maxWidth: '90%',\n        borderRadius: 25,\n        backgroundColor: '#7D7F9A',\n    },\n    image: {\n        width: 220,\n        height: 220,\n        marginRight: 40,\n    },\n    img: {\n        borderRadius: '50%',\n    },\n    accentText: {\n        fontWeight: 500,\n    },\n    icon: {\n        paddingBottom: 3,\n    },\n}));\n\nexport default function PetInformationPaper(props) {\n    const classes = useStyles();\n    const history = useHistory();\n    const dispatch = useDispatch();\n\n    const goToPetProfile = async () => {\n        await dispatch(getPet(props.pet._id));\n        if (props.editingMode) {\n            history.push('/edit/pet/' + props.pet._id);\n        } else {\n            history.push('/pet/' + props.pet._id);\n        }\n    }\n\n    const deletePetOnClick = async () => {\n        const onSuccess = () => {\n            NotificationService.notify('success', 'Success', 'Your pet was successfully deleted!');\n            dispatch(getUserPets(props.user._id));\n            dispatch(getPets('', '', '', [1, 5]));\n            history.push('/user');\n        };\n\n        const onError = () => {\n            NotificationService.notify('error', 'Error', 'There was a problem deleting your pet.');\n        };\n\n        dispatch(deletePet(props.pet._id, onSuccess, onError));\n    };\n\n    return (\n        <div className={classes.root}>\n            <Paper className={props.fromSearch ? classes.paperLight : classes.paperDark}>\n                <Grid container spacing={2} justify=\"center\" alignItems=\"stretch\">\n                    <Grid item className={classes.image} spacing={4}>\n                        <Image style={props.fromSearch ? { objectFit: 'cover', } : { objectFit: 'cover', backgroundColor: '#7D7F9A', }} className={classes.img} src={props.pet.profilePicture ? props.pet.profilePicture.src : ''} />\n                    </Grid>\n                    <Grid item xs sm={6} container>\n                        <Grid item xs container direction=\"column\" spacing={2}>\n                            <Grid item xs>\n                                <Typography gutterBottom variant=\"h5\" style={props.fromSearch ? { color: 'black' } : { color: 'white' }}>\n                                    {props.pet.officialName}{' '}\n                                    {(props.pet.ownerId && props.pet.ownerId.subscriptionPlan === 'premium') || (props.user && props.user.subscriptionPlan === 'premium') ? (\n                                        <FontAwesomeIcon icon={faCrown} size={'xs'} className={classes.icon} />\n                                    ) : null}\n                                </Typography>\n                                <Grid container spacing={2}>\n                                    <Grid item xs>\n                                        <Typography className={classes.accentText} gutterBottom style={props.fromSearch ? { color: \"black\" } : { color: \"white\" }}>\n                                            Age:\n                                        </Typography>\n                                    </Grid>\n                                    <Grid item xs>\n                                        <Typography gutterBottom style={props.fromSearch ? { color: \"black\" } : { color: \"white\" }}>\n                                            {getAgeString(props.pet.age)}\n                                        </Typography>\n                                    </Grid>\n                                </Grid>\n\n                                <Grid container spacing={2}>\n                                    <Grid item xs>\n                                        <Typography className={classes.accentText} gutterBottom style={props.fromSearch ? { color: \"black\" } : { color: \"white\" }}>\n                                            Sex:\n                                        </Typography>\n                                    </Grid>\n                                    <Grid item xs>\n                                        <Typography gutterBottom style={props.fromSearch ? { color: \"black\" } : { color: \"white\" }}>\n                                            {props.pet.sex}\n                                        </Typography>\n                                    </Grid>\n                                </Grid>\n                                <Grid container spacing={2}>\n                                    <Grid item xs>\n                                        <Typography className={classes.accentText} gutterBottom style={props.fromSearch ? { color: \"black\" } : { color: \"white\" }}>\n                                            Breed:\n                                        </Typography>\n                                    </Grid>\n                                    <Grid item xs>\n                                        <Typography gutterBottom style={props.fromSearch ? { color: \"black\" } : { color: \"white\" }}>\n                                            {props.pet.breed}\n                                        </Typography>\n                                    </Grid>\n                                </Grid>\n                                <Grid container spacing={2}>\n                                    <Grid item xs>\n                                        <Typography className={classes.accentText} gutterBottom style={props.fromSearch ? { color: \"black\" } : { color: \"white\" }}>\n                                            Competition:\n                                        </Typography>\n                                    </Grid>\n                                    <Grid item xs>\n                                        <Typography gutterBottom style={props.fromSearch ? { color: \"black\" } : { color: \"white\" }}>\n                                            {props.pet.competitions.length === 0 ? 'no' : 'yes'}\n                                        </Typography>\n                                    </Grid>\n                                </Grid>\n                            </Grid>\n                        </Grid>\n                    </Grid>\n                    <Grid item xs sm container>\n                        <Grid item xs container direction=\"column\" alignItems=\"flex-end\" justify=\"space-between\">\n                            <Grid item>\n                                {props.editingMode ? (\n                                    <Button onClick={deletePetOnClick}>\n                                        <CloseIcon />\n                                    </Button>\n                                ) : (\n                                    props.pet.purchased ?\n                                        <Tooltip trigger=\"hover\" placement=\"top\" title={\"The pet is not available.\"}>\n                                            <div>\n                                                <RemoveShoppingCartIcon />\n                                            </div>\n                                        </Tooltip>\n                                        : <Typography className={classes.accentText} gutterBottom variant=\"h6\" style={props.fromSearch ? { color: \"black\", fontWeight: 600 } : { color: \"white\", fontWeight: 600 }}>\n                                            {props.pet.price ? `${props.pet.price} €` : 'Free'}\n                                        </Typography>\n                                )}\n                            </Grid>\n                            <Grid item>\n                                <Button className=\"resize-on-hover\" variant=\"contained\" color={props.fromSearch ? \"primary\" : \"secondary\"} onClick={goToPetProfile}>\n                                    {props.editingMode ? 'Edit pet' : 'View profile'}\n                                </Button>\n                            </Grid>\n                        </Grid>\n                    </Grid>\n                </Grid>\n            </Paper>\n        </div>\n    );\n}\n\n// attributes of props and their type\nPetInformationPaper.propTypes = {\n    pet: PropTypes.object,\n    editingMode: PropTypes.bool,\n};\n"]},"metadata":{},"sourceType":"module"}