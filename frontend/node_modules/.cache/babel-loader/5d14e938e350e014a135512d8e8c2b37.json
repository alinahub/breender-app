{"ast":null,"code":"var _jsxFileName = \"/Users/alinaturbina/Uni Projects/seba/frontend/src/components/SignUpComponent.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Select from '@material-ui/core/Select';\nimport Grid from '@material-ui/core/Grid';\nimport { Paper, Button, TextField, Typography, FormControlLabel, Checkbox } from '@material-ui/core';\nimport NotificationService from 'services/NotificationService';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst useStyles = makeStyles(theme => ({\n  usersignUpRoot: {\n    margin: 'auto'\n  },\n  signUpPaper: {\n    width: '500px',\n    padding: theme.spacing(2)\n  },\n  signUpRow: {\n    display: 'flex',\n    flexDirection: 'column',\n    paddingTop: theme.spacing(1),\n    paddingBottom: theme.spacing(1),\n    '&:last-child': {\n      paddingBottom: theme.spacing(0)\n    },\n    '&:first-child': {\n      paddingTop: theme.spacing(0)\n    }\n  },\n  signUpButtons: {\n    display: 'flex',\n    flexDirection: 'row',\n    justifyContent: 'flex-end'\n  },\n  signUpButton: {\n    marginLeft: theme.spacing(1)\n  }\n}));\nconst provincesAndCities = {\n  bavaria: ['Munich', 'Nuremberg', 'Augsburg', 'Regensburg', 'Ingolstadt', 'Würzburg'],\n  'lower-saxony': ['Hanover', 'Braunschweig', 'Oldenburg', 'Osnabrück', 'Wolfsburg', 'Göttingen'],\n  'baden-wuerttemberg': ['Stuttgart', 'Karlsruhe', 'Mannheim', 'Freiburg im Breisgau', 'Heidelberg', 'Ulm'],\n  'north-rhine-westphalia': ['Cologne', 'Düsseldorf', 'Dortmund', 'Essen', 'Duisburg', 'Bochum']\n};\n/**\n * For register new users\n * @param {props} props\n */\n\nfunction SignUpComponent(props) {\n  _s();\n\n  const classes = useStyles();\n  const [username, setUsername] = React.useState('');\n  const [password, setPassword] = React.useState('');\n  const [password2, setPassword2] = React.useState('');\n  const [email, setEmail] = React.useState('');\n  const [province, setProvince] = React.useState('');\n  const [city, setCity] = React.useState('');\n  const [isAdmin, setIsAdmin] = React.useState(false);\n  const isBreenderAdmin = email.indexOf('@breender.de') >= 0;\n  const adminAllowed = isAdmin ? isBreenderAdmin : true;\n  const [registerError, setRegisterError] = React.useState(''); //let province = null;\n\n  let options = null;\n\n  if (province) {\n    options = provincesAndCities[province].map(elem => /*#__PURE__*/_jsxDEV(MenuItem, {\n      value: elem,\n      children: elem\n    }, elem, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 13\n    }, this));\n  } // always check in case the email will be changed after checking \"is admin\"\n\n\n  useEffect(() => !isBreenderAdmin ? setIsAdmin(false) : null, [isBreenderAdmin]);\n  useEffect(() => {\n    if (props.user.error) {\n      setRegisterError(props.user.error);\n    } else {\n      setRegisterError('');\n    }\n  }, [props.user]);\n\n  const onRegister = e => {\n    e.preventDefault();\n    props.onRegister(email, username, password, city, isAdmin);\n  };\n\n  const onChangeEmail = e => {\n    setEmail(e.target.value);\n    setRegisterError('');\n  };\n\n  const onChangeUsername = e => {\n    setUsername(e.target.value);\n    setRegisterError('');\n  };\n\n  const onChangePassword = e => {\n    setPassword(e.target.value);\n    setRegisterError('');\n  };\n\n  const onChangePassword2 = e => {\n    setPassword2(e.target.value);\n    setRegisterError('');\n  };\n\n  const onChangeCity = e => {\n    setCity(e.target.value);\n    setRegisterError('');\n  };\n\n  const onChangeProvince = e => {\n    setProvince(e.target.value);\n    setRegisterError('');\n  };\n\n  const checkIsAdmin = e => {\n    if (isBreenderAdmin) {\n      setIsAdmin(e.target.checked);\n    } else {\n      NotificationService.notify('error', 'Login Warning', 'Only Breender employees can set admin tag');\n      setIsAdmin(false);\n    }\n  };\n\n  const onBlurPassword = e => {\n    if (password !== '' && password2 !== '') {\n      if (password !== password2) {\n        setRegisterError('Passwords do not match.');\n      } else {\n        setRegisterError('');\n      }\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: classes.usersignUpRoot,\n    children: /*#__PURE__*/_jsxDEV(Paper, {\n      className: classes.signUpPaper,\n      component: \"form\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.signUpRow,\n        children: /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h4\",\n          align: \"center\",\n          children: \"Welcome to the Breender App!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.signUpRow,\n        children: /*#__PURE__*/_jsxDEV(TextField, {\n          label: \"Email\",\n          fullWidth: true,\n          value: email,\n          onChange: onChangeEmail\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.signUpRow,\n        children: /*#__PURE__*/_jsxDEV(TextField, {\n          label: \"Username\",\n          fullWidth: true,\n          value: username,\n          onChange: onChangeUsername\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.signUpRow,\n        children: /*#__PURE__*/_jsxDEV(TextField, {\n          label: \"Password\",\n          fullWidth: true,\n          value: password,\n          onChange: onChangePassword,\n          error: registerError !== '',\n          onBlur: onBlurPassword,\n          type: \"password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.signUpRow,\n        children: /*#__PURE__*/_jsxDEV(TextField, {\n          label: \"Repeat Password\",\n          fullWidth: true,\n          value: password2,\n          onChange: onChangePassword2,\n          error: registerError !== '',\n          onBlur: onBlurPassword,\n          type: \"password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        container: true,\n        spacing: 2,\n        children: [/*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          sm: 6,\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: classes.signUpRow,\n            children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n              children: \"State/Province\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 166,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Select, {\n              label: \"State/Province\",\n              value: province,\n              onChange: onChangeProvince,\n              children: [/*#__PURE__*/_jsxDEV(MenuItem, {\n                value: 'bavaria',\n                children: \"Bavaria\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 168,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                value: 'lower-saxony',\n                children: \"Lower Saxony\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 169,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                value: 'baden-wuerttemberg',\n                children: \"Baden-W\\xFCrttemberg\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 170,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                value: 'north-rhine-westphalia',\n                children: \"North Rhine-Westphalia\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 171,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 167,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 165,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          sm: 6,\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: classes.signUpRow,\n            children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n              children: \"City\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 177,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Select, {\n              label: \"City\",\n              value: city,\n              onChange: onChangeCity,\n              children: options\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 178,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 176,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.signUpRow,\n        children: /*#__PURE__*/_jsxDEV(FormControlLabel, {\n          control: /*#__PURE__*/_jsxDEV(Checkbox, {\n            checked: isAdmin,\n            onChange: checkIsAdmin,\n            color: \"primary\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 185,\n            columnNumber: 48\n          }, this),\n          label: \"Is Admin\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 185,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 17\n      }, this), registerError !== '' ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.signUpRow,\n        children: /*#__PURE__*/_jsxDEV(Typography, {\n          color: \"error\",\n          children: registerError\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 21\n      }, this) : null, /*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.signUpRow + ' ' + classes.signUpButtons,\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          className: classes.signUpButton,\n          onClick: props.onCancel,\n          children: \"Cancel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          className: classes.signUpButton,\n          variant: \"contained\",\n          color: \"primary\",\n          onClick: onRegister,\n          disabled: username === '' || password === '' || password2 === '' || registerError !== '' || password !== password2 || !adminAllowed,\n          type: \"submit\",\n          children: \"Register\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 196,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 144,\n    columnNumber: 9\n  }, this);\n}\n\n_s(SignUpComponent, \"eAC8sT8cpzfu6UH44pxHB2tHI3k=\", false, function () {\n  return [useStyles];\n});\n\n_c = SignUpComponent;\nexport default SignUpComponent;\n\nvar _c;\n\n$RefreshReg$(_c, \"SignUpComponent\");","map":{"version":3,"sources":["/Users/alinaturbina/Uni Projects/seba/frontend/src/components/SignUpComponent.js"],"names":["React","useEffect","makeStyles","InputLabel","MenuItem","Select","Grid","Paper","Button","TextField","Typography","FormControlLabel","Checkbox","NotificationService","useStyles","theme","usersignUpRoot","margin","signUpPaper","width","padding","spacing","signUpRow","display","flexDirection","paddingTop","paddingBottom","signUpButtons","justifyContent","signUpButton","marginLeft","provincesAndCities","bavaria","SignUpComponent","props","classes","username","setUsername","useState","password","setPassword","password2","setPassword2","email","setEmail","province","setProvince","city","setCity","isAdmin","setIsAdmin","isBreenderAdmin","indexOf","adminAllowed","registerError","setRegisterError","options","map","elem","user","error","onRegister","e","preventDefault","onChangeEmail","target","value","onChangeUsername","onChangePassword","onChangePassword2","onChangeCity","onChangeProvince","checkIsAdmin","checked","notify","onBlurPassword","onCancel"],"mappings":"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","sourcesContent":["import React, { useEffect } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Select from '@material-ui/core/Select';\nimport Grid from '@material-ui/core/Grid';\nimport { Paper, Button, TextField, Typography, FormControlLabel, Checkbox } from '@material-ui/core';\nimport NotificationService from 'services/NotificationService';\n\nconst useStyles = makeStyles((theme) => ({\n    usersignUpRoot: {\n        margin: 'auto',\n    },\n    signUpPaper: {\n        width: '500px',\n        padding: theme.spacing(2),\n    },\n    signUpRow: {\n        display: 'flex',\n        flexDirection: 'column',\n        paddingTop: theme.spacing(1),\n        paddingBottom: theme.spacing(1),\n        '&:last-child': {\n            paddingBottom: theme.spacing(0),\n        },\n        '&:first-child': {\n            paddingTop: theme.spacing(0),\n        },\n    },\n    signUpButtons: {\n        display: 'flex',\n        flexDirection: 'row',\n        justifyContent: 'flex-end',\n    },\n    signUpButton: {\n        marginLeft: theme.spacing(1),\n    },\n}));\n\nconst provincesAndCities = {\n    bavaria: ['Munich', 'Nuremberg', 'Augsburg', 'Regensburg', 'Ingolstadt', 'Würzburg'],\n    'lower-saxony': ['Hanover', 'Braunschweig', 'Oldenburg', 'Osnabrück', 'Wolfsburg', 'Göttingen'],\n    'baden-wuerttemberg': ['Stuttgart', 'Karlsruhe', 'Mannheim', 'Freiburg im Breisgau', 'Heidelberg', 'Ulm'],\n    'north-rhine-westphalia': ['Cologne', 'Düsseldorf', 'Dortmund', 'Essen', 'Duisburg', 'Bochum'],\n};\n\n/**\n * For register new users\n * @param {props} props\n */\nfunction SignUpComponent(props) {\n    const classes = useStyles();\n\n    const [username, setUsername] = React.useState('');\n    const [password, setPassword] = React.useState('');\n    const [password2, setPassword2] = React.useState('');\n    const [email, setEmail] = React.useState('');\n    const [province, setProvince] = React.useState('');\n    const [city, setCity] = React.useState('');\n    const [isAdmin, setIsAdmin] = React.useState(false);\n\n    const isBreenderAdmin = email.indexOf('@breender.de') >= 0;\n\n    const adminAllowed = isAdmin ? isBreenderAdmin : true;\n    const [registerError, setRegisterError] = React.useState('');\n\n    //let province = null;\n    let options = null;\n\n    if (province) {\n        options = provincesAndCities[province].map((elem) => (\n            <MenuItem key={elem} value={elem}>\n                {elem}\n            </MenuItem>\n        ));\n    }\n\n    // always check in case the email will be changed after checking \"is admin\"\n    useEffect(() => !isBreenderAdmin ? setIsAdmin(false) : null, [isBreenderAdmin]);\n\n    useEffect(() => {\n        if (props.user.error) {\n            setRegisterError(props.user.error);\n        } else {\n            setRegisterError('');\n        }\n    }, [props.user]);\n\n    const onRegister = (e) => {\n        e.preventDefault();\n        props.onRegister(email, username, password, city, isAdmin);\n    };\n\n    const onChangeEmail = (e) => {\n        setEmail(e.target.value);\n        setRegisterError('');\n    };\n\n    const onChangeUsername = (e) => {\n        setUsername(e.target.value);\n        setRegisterError('');\n    };\n\n    const onChangePassword = (e) => {\n        setPassword(e.target.value);\n        setRegisterError('');\n    };\n\n    const onChangePassword2 = (e) => {\n        setPassword2(e.target.value);\n        setRegisterError('');\n    };\n\n    const onChangeCity = (e) => {\n        setCity(e.target.value);\n        setRegisterError('');\n    };\n\n    const onChangeProvince = (e) => {\n        setProvince(e.target.value);\n        setRegisterError('');\n    };\n\n    const checkIsAdmin = (e) => {\n      if (isBreenderAdmin) {\n        setIsAdmin(e.target.checked);\n      } else {\n        NotificationService.notify('error', 'Login Warning', 'Only Breender employees can set admin tag')\n        setIsAdmin(false);\n      }\n    }\n \n    const onBlurPassword = (e) => {\n        if (password !== '' && password2 !== '') {\n            if (password !== password2) {\n                setRegisterError('Passwords do not match.');\n            } else {\n                setRegisterError('');\n            }\n        }\n    };\n\n    return (\n        <div className={classes.usersignUpRoot}>\n            <Paper className={classes.signUpPaper} component=\"form\">\n                <div className={classes.signUpRow}>\n                    <Typography variant=\"h4\" align=\"center\">\n                        Welcome to the Breender App!\n                    </Typography>\n                </div>\n                <div className={classes.signUpRow}>\n                    <TextField label=\"Email\" fullWidth value={email} onChange={onChangeEmail} />\n                </div>\n                <div className={classes.signUpRow}>\n                    <TextField label=\"Username\" fullWidth value={username} onChange={onChangeUsername} />\n                </div>\n                <div className={classes.signUpRow}>\n                    <TextField label=\"Password\" fullWidth value={password} onChange={onChangePassword} error={registerError !== ''} onBlur={onBlurPassword} type=\"password\" />\n                </div>\n                <div className={classes.signUpRow}>\n                    <TextField label=\"Repeat Password\" fullWidth value={password2} onChange={onChangePassword2} error={registerError !== ''} onBlur={onBlurPassword} type=\"password\" />\n                </div>\n                <Grid container spacing={2}>\n                    <Grid item xs={12} sm={6}>\n                        <div className={classes.signUpRow}>\n                            <InputLabel>State/Province</InputLabel>\n                            <Select label=\"State/Province\" value={province} onChange={onChangeProvince}>\n                                <MenuItem value={'bavaria'}>Bavaria</MenuItem>\n                                <MenuItem value={'lower-saxony'}>Lower Saxony</MenuItem>\n                                <MenuItem value={'baden-wuerttemberg'}>Baden-Württemberg</MenuItem>\n                                <MenuItem value={'north-rhine-westphalia'}>North Rhine-Westphalia</MenuItem>\n                            </Select>\n                        </div>\n                    </Grid>\n                    <Grid item xs={12} sm={6}>\n                        <div className={classes.signUpRow}>\n                            <InputLabel>City</InputLabel>\n                            <Select label=\"City\" value={city} onChange={onChangeCity}>\n                                {options}\n                            </Select>\n                        </div>\n                    </Grid>\n                </Grid>\n                <div className={classes.signUpRow}>\n                    <FormControlLabel control={<Checkbox checked={isAdmin} onChange={checkIsAdmin} color=\"primary\" />} label=\"Is Admin\" />\n                </div>\n                {registerError !== '' ? (\n                    <div className={classes.signUpRow}>\n                        <Typography color=\"error\">{registerError}</Typography>\n                    </div>\n                ) : null}\n                <div className={classes.signUpRow + ' ' + classes.signUpButtons}>\n                    <Button className={classes.signUpButton} onClick={props.onCancel}>\n                        Cancel\n                    </Button>\n                    <Button\n                        className={classes.signUpButton}\n                        variant=\"contained\"\n                        color=\"primary\"\n                        onClick={onRegister}\n                        disabled={username === '' || password === '' || password2 === '' || registerError !== '' || password !== password2 || !adminAllowed}\n                        type=\"submit\"\n                    >\n                        Register\n                    </Button>\n                </div>\n            </Paper>\n        </div>\n    );\n}\n\nexport default SignUpComponent;\n"]},"metadata":{},"sourceType":"module"}