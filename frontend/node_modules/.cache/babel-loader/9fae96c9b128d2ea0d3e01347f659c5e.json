{"ast":null,"code":"import _regeneratorRuntime from\"/Users/alinaturbina/Uni Projects/seba/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/alinaturbina/Uni Projects/seba/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/Users/alinaturbina/Uni Projects/seba/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/alinaturbina/Uni Projects/seba/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import axios from'axios';var TransactionService=/*#__PURE__*/function(){function TransactionService(){_classCallCheck(this,TransactionService);}_createClass(TransactionService,null,[{key:\"URL\",value:function URL(){return'http://localhost:4000/transaction';}},{key:\"setToken\",value:function setToken(){var token=localStorage.getItem('jwtToken');axios.defaults.headers.common['Authorization']='Bearer '+token;}},{key:\"getTransactions\",value:function getTransactions(userId){this.setToken();return new Promise(/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(resolve,reject){var _yield$axios$get,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get(\"/transaction/\",{params:{userId:userId}});case 3:_yield$axios$get=_context.sent;data=_yield$axios$get.data;resolve(data);_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);reject(_context.t0);case 11:case\"end\":return _context.stop();}}},_callee,null,[[0,8]]);}));return function(_x,_x2){return _ref.apply(this,arguments);};}());}},{key:\"getAdminTransactions\",value:function getAdminTransactions(userId){this.setToken();return new Promise(/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(resolve,reject){var _yield$axios$get2,data;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return axios.get(\"/transaction/all/\",{params:{userId:userId}});case 3:_yield$axios$get2=_context2.sent;data=_yield$axios$get2.data;resolve(data);_context2.next=11;break;case 8:_context2.prev=8;_context2.t0=_context2[\"catch\"](0);reject(_context2.t0);case 11:case\"end\":return _context2.stop();}}},_callee2,null,[[0,8]]);}));return function(_x3,_x4){return _ref2.apply(this,arguments);};}());}},{key:\"getTransaction\",value:function getTransaction(id){this.setToken();return new Promise(/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(resolve,reject){var _yield$axios$get3,data;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;_context3.next=3;return axios.get(\"/transaction/\".concat(id));case 3:_yield$axios$get3=_context3.sent;data=_yield$axios$get3.data;resolve(data);_context3.next=11;break;case 8:_context3.prev=8;_context3.t0=_context3[\"catch\"](0);reject(_context3.t0);case 11:case\"end\":return _context3.stop();}}},_callee3,null,[[0,8]]);}));return function(_x5,_x6){return _ref3.apply(this,arguments);};}());}},{key:\"deleteTransaction\",value:function deleteTransaction(id){this.setToken();return new Promise(/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(resolve,reject){var _yield$axios$delete,data;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.prev=0;_context4.next=3;return axios.delete(\"/transaction/\".concat(id));case 3:_yield$axios$delete=_context4.sent;data=_yield$axios$delete.data;resolve(data);_context4.next=11;break;case 8:_context4.prev=8;_context4.t0=_context4[\"catch\"](0);reject(_context4.t0);case 11:case\"end\":return _context4.stop();}}},_callee4,null,[[0,8]]);}));return function(_x7,_x8){return _ref4.apply(this,arguments);};}());}},{key:\"updateTransaction\",value:function(){var _updateTransaction=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(transaction){var _yield$axios$put,data;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:this.setToken();_context5.next=3;return axios.put(\"/transaction/\".concat(transaction.id),transaction);case 3:_yield$axios$put=_context5.sent;data=_yield$axios$put.data;return _context5.abrupt(\"return\",data);case 6:case\"end\":return _context5.stop();}}},_callee5,this);}));function updateTransaction(_x9){return _updateTransaction.apply(this,arguments);}return updateTransaction;}()},{key:\"createTransaction\",value:function(){var _createTransaction=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee6(transaction){var _yield$axios$post,data;return _regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:this.setToken();_context6.next=3;return axios.post(\"/transaction/\",transaction);case 3:_yield$axios$post=_context6.sent;data=_yield$axios$post.data;return _context6.abrupt(\"return\",data);case 6:case\"end\":return _context6.stop();}}},_callee6,this);}));function createTransaction(_x10){return _createTransaction.apply(this,arguments);}return createTransaction;}()}]);return TransactionService;}();export{TransactionService as default};","map":{"version":3,"sources":["/Users/alinaturbina/Uni Projects/seba/frontend/src/services/TransactionService.js"],"names":["axios","TransactionService","token","localStorage","getItem","defaults","headers","common","userId","setToken","Promise","resolve","reject","get","params","data","id","delete","transaction","put","post"],"mappings":"+oBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,C,GAEqBC,CAAAA,kB,wJACjB,cAAa,CACT,MAAO,mCAAP,CACH,C,wBAED,mBAAkB,CACd,GAAMC,CAAAA,KAAK,CAAGC,YAAY,CAACC,OAAb,CAAqB,UAArB,CAAd,CACAJ,KAAK,CAACK,QAAN,CAAeC,OAAf,CAAuBC,MAAvB,CAA8B,eAA9B,EAAiD,UAAYL,KAA7D,CACH,C,+BAED,yBAAuBM,MAAvB,CAA+B,CAC3B,KAAKC,QAAL,GACA,MAAO,IAAIC,CAAAA,OAAJ,0FAAY,iBAAOC,OAAP,CAAgBC,MAAhB,kLAEYZ,CAAAA,KAAK,CAACa,GAAN,iBAA2B,CAAEC,MAAM,CAAE,CAAEN,MAAM,CAANA,MAAF,CAAV,CAA3B,CAFZ,uCAEHO,IAFG,kBAEHA,IAFG,CAGXJ,OAAO,CAACI,IAAD,CAAP,CAHW,+EAKXH,MAAM,aAAN,CALW,oEAAZ,mEAAP,CAQH,C,oCAED,8BAA4BJ,MAA5B,CAAoC,CAChC,KAAKC,QAAL,GACA,MAAO,IAAIC,CAAAA,OAAJ,2FAAY,kBAAOC,OAAP,CAAgBC,MAAhB,yLAEYZ,CAAAA,KAAK,CAACa,GAAN,qBAA+B,CAAEC,MAAM,CAAE,CAAEN,MAAM,CAANA,MAAF,CAAV,CAA/B,CAFZ,yCAEHO,IAFG,mBAEHA,IAFG,CAGXJ,OAAO,CAACI,IAAD,CAAP,CAHW,mFAKXH,MAAM,cAAN,CALW,sEAAZ,qEAAP,CAQH,C,8BAED,wBAAsBI,EAAtB,CAA0B,CACtB,KAAKP,QAAL,GACA,MAAO,IAAIC,CAAAA,OAAJ,2FAAY,kBAAOC,OAAP,CAAgBC,MAAhB,yLAEYZ,CAAAA,KAAK,CAACa,GAAN,wBAA0BG,EAA1B,EAFZ,yCAEHD,IAFG,mBAEHA,IAFG,CAGXJ,OAAO,CAACI,IAAD,CAAP,CAHW,mFAKXH,MAAM,cAAN,CALW,sEAAZ,qEAAP,CAQH,C,iCAED,2BAAyBI,EAAzB,CAA6B,CACzB,KAAKP,QAAL,GACA,MAAO,IAAIC,CAAAA,OAAJ,2FAAY,kBAAOC,OAAP,CAAgBC,MAAhB,2LAEYZ,CAAAA,KAAK,CAACiB,MAAN,wBAA6BD,EAA7B,EAFZ,2CAEHD,IAFG,qBAEHA,IAFG,CAGXJ,OAAO,CAACI,IAAD,CAAP,CAHW,mFAKXH,MAAM,cAAN,CALW,sEAAZ,qEAAP,CAQH,C,2HAED,kBAA+BM,WAA/B,gJACI,KAAKT,QAAL,GADJ,uBAE2BT,CAAAA,KAAK,CAACmB,GAAN,wBAA0BD,WAAW,CAACF,EAAtC,EAA4CE,WAA5C,CAF3B,wCAEYH,IAFZ,kBAEYA,IAFZ,kCAGWA,IAHX,+D,2OAMA,kBAA+BG,WAA/B,iJACI,KAAKT,QAAL,GADJ,uBAE2BT,CAAAA,KAAK,CAACoB,IAAN,iBAA4BF,WAA5B,CAF3B,yCAEYH,IAFZ,mBAEYA,IAFZ,kCAGWA,IAHX,+D,0JAhEiBd,kB","sourcesContent":["import axios from 'axios';\n\nexport default class TransactionService {\n    static URL() {\n        return 'http://localhost:4000/transaction';\n    }\n\n    static setToken() {\n        const token = localStorage.getItem('jwtToken');\n        axios.defaults.headers.common['Authorization'] = 'Bearer ' + token;\n    }\n\n    static getTransactions(userId) {\n        this.setToken();\n        return new Promise(async (resolve, reject) => {\n            try {\n                const { data } = await axios.get(`/transaction/`, { params: { userId } });\n                resolve(data);\n            } catch (err) {\n                reject(err);\n            }\n        });\n    }\n\n    static getAdminTransactions(userId) {\n        this.setToken();\n        return new Promise(async (resolve, reject) => {\n            try {\n                const { data } = await axios.get(`/transaction/all/`, { params: { userId } });\n                resolve(data);\n            } catch (err) {\n                reject(err);\n            }\n        });\n    }\n\n    static getTransaction(id) {\n        this.setToken();\n        return new Promise(async (resolve, reject) => {\n            try {\n                const { data } = await axios.get(`/transaction/${id}`);\n                resolve(data);\n            } catch (err) {\n                reject(err);\n            }\n        });\n    }\n\n    static deleteTransaction(id) {\n        this.setToken();\n        return new Promise(async (resolve, reject) => {\n            try {\n                const { data } = await axios.delete(`/transaction/${id}`);\n                resolve(data);\n            } catch (err) {\n                reject(err);\n            }\n        });\n    }\n\n    static async updateTransaction(transaction) {\n        this.setToken();\n        const { data } = await axios.put(`/transaction/${transaction.id}`, transaction);\n        return data;\n    }\n\n    static async createTransaction(transaction) {\n        this.setToken();\n        const { data } = await axios.post(`/transaction/`, transaction);\n        return data;\n    }\n}\n"]},"metadata":{},"sourceType":"module"}