{"ast":null,"code":"import _regeneratorRuntime from\"/Users/alinaturbina/Uni Projects/seba/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/alinaturbina/Uni Projects/seba/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import React,{useEffect}from'react';import{useHistory,withRouter}from'react-router-dom';import{connect,useDispatch,useSelector}from'react-redux';import LoginComponent from'../components/UserLoginComponent';import{login,startLoading,stopLoading,loginReset,getUsersInfo,getUser}from'../redux/actions';import NotificationService from'services/NotificationService';import{getUnseenMessages}from'../redux/actions/messageActions';import logo from\"../images/breender.svg\";import{makeStyles}from'@material-ui/core';/**\n * For user login\n * @param {props} props\n */import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function UserLoginView(props){var classes=useStyles();var dispatch=useDispatch();var history=useHistory();var user=useSelector(function(state){return state.user;});useEffect(function(){var _user$user;if((_user$user=user.user)===null||_user$user===void 0?void 0:_user$user.id){NotificationService.notify('success','Success','Sucessfully signed in.');props.history.push('/');props.dispatch(getUsersInfo(user.user.id));props.dispatch(getUser(user.user.id));props.dispatch(getUnseenMessages(user.user.id));}},[user,props]);var onLogin=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(username,password){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:dispatch(startLoading());_context.next=3;return dispatch(login(username,password));case 3:dispatch(stopLoading());case 4:case\"end\":return _context.stop();}}},_callee);}));return function onLogin(_x,_x2){return _ref.apply(this,arguments);};}();var onCancel=function onCancel(){history.push('/');};var onSignUp=function onSignUp(){props.history.push('/register');};var goToHome=function goToHome(){return props.history.push('/');};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{onClick:goToHome,children:/*#__PURE__*/_jsx(\"img\",{alt:\"logo\",src:logo,className:classes.logo})}),/*#__PURE__*/_jsx(LoginComponent,{user:user,onCancel:onCancel,onLogin:onLogin,onSignUp:onSignUp})]});}var useStyles=makeStyles(function(theme){return{logo:{position:'absolute',marginLeft:'auto',marginRight:'auto',left:0,right:0,top:100,maxWidth:425,maxHeight:'auto',cursor:'pointer'}};});export default connect()(withRouter(UserLoginView));","map":{"version":3,"sources":["/Users/alinaturbina/Uni Projects/seba/frontend/src/views/UserLoginView.js"],"names":["React","useEffect","useHistory","withRouter","connect","useDispatch","useSelector","LoginComponent","login","startLoading","stopLoading","loginReset","getUsersInfo","getUser","NotificationService","getUnseenMessages","makeStyles","UserLoginView","props","classes","useStyles","dispatch","history","user","state","id","notify","push","onLogin","username","password","onCancel","onSignUp","goToHome","logo","theme","position","marginLeft","marginRight","left","right","top","maxWidth","maxHeight","cursor"],"mappings":"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","sourcesContent":["import React, { useEffect } from 'react';\nimport { useHistory, withRouter } from 'react-router-dom';\nimport { connect, useDispatch, useSelector } from 'react-redux';\nimport LoginComponent from '../components/UserLoginComponent';\nimport { login, startLoading, stopLoading, loginReset, getUsersInfo, getUser } from '../redux/actions';\nimport NotificationService from 'services/NotificationService';\nimport { getUnseenMessages } from '../redux/actions/messageActions';\nimport logo from '../images/breender.svg';\nimport { makeStyles } from '@material-ui/core';\n\n/**\n * For user login\n * @param {props} props\n */\nfunction UserLoginView(props) {\n    const classes = useStyles();\n    const dispatch = useDispatch();\n    const history = useHistory();\n    const user = useSelector((state) => state.user);\n\n    useEffect(() => {\n        if (user.user?.id) {\n            NotificationService.notify('success', 'Success', 'Sucessfully signed in.');\n            props.history.push('/');\n            props.dispatch(getUsersInfo(user.user.id));\n            props.dispatch(getUser(user.user.id));\n            props.dispatch(getUnseenMessages(user.user.id));\n        }\n    }, [user, props]);\n\n    const onLogin = async (username, password) => {\n        dispatch(startLoading());\n        await dispatch(login(username, password));\n        dispatch(stopLoading());\n    };\n\n    const onCancel = () => {\n        history.push('/');\n    };\n\n    const onSignUp = () => {\n        props.history.push('/register');\n    };\n\n    const goToHome = () => props.history.push('/');\n\n    return (\n        <>\n            <div onClick={goToHome}>\n                <img alt=\"logo\" src={logo} className={classes.logo} />\n            </div>\n            <LoginComponent user={user} onCancel={onCancel} onLogin={onLogin} onSignUp={onSignUp} />\n        </>\n    );\n}\n\nconst useStyles = makeStyles((theme) => ({\n    logo: {\n        position: 'absolute',\n        marginLeft: 'auto',\n        marginRight: 'auto',\n        left: 0,\n        right: 0,\n        top: 100,\n        maxWidth: 425,\n        maxHeight: 'auto',\n        cursor: 'pointer',\n    },\n}));\n\nexport default connect()(withRouter(UserLoginView));\n"]},"metadata":{},"sourceType":"module"}