{"ast":null,"code":"import _objectSpread from\"/Users/alinaturbina/Uni Projects/seba/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/alinaturbina/Uni Projects/seba/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect}from'react';import{Redirect,Route,Switch}from'react-router-dom';// views\nimport UserLoginView from'./views/UserLoginView';import SignUpView from'./views/SignUpView';import AddPetView from'./views/AddPetView';import PetProfileView from'./views/PetProfileView';import EmailConfirmationView from'./views/EmailConfirmationView';import UserProfileView from'./views/UserProfileView';import SubscriptionPageView from'./views/SubscriptionPageView';import EditPetView from'./views/EditPetView';import NotFoundView from'./views/NotFoundView';import SearchView from'./views/SearchView';import SelectedUserProfileView from'./views/SelectedUserProfileView';import TransactionsView from'views/TransactionsView';import MessengerView from'./views/MessengerView';import MessengerNewContactView from'./views/MessengerNewContactView';import ChangeToPremiumView from'views/ChangeToPremiumView';import AdminConsoleView from'views/AdminConsoleView';import BlogView from'views/BlogView';// services\nimport{LocalStorageService,NotificationService}from'services';import Header from'components/Header';import ScrollToTop from'components/ScrollToTop';import AppTheme from'theming/themetypes';import{useSelector}from'react-redux';// Scroll to top dependencies\nimport useScrollTrigger from'@material-ui/core/useScrollTrigger';import KeyboardArrowUpIcon from'@material-ui/icons/KeyboardArrowUp';import{makeStyles}from'@material-ui/core/styles';import Zoom from'@material-ui/core/Zoom';import Fab from'@material-ui/core/Fab';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var DefaultHeader=function DefaultHeader(){// theme for app\nvar _React$useState=React.useState(AppTheme.LIGHT),_React$useState2=_slicedToArray(_React$useState,2),theme=_React$useState2[0],setTheme=_React$useState2[1];// toggle theme\nvar toggleTheme=function toggleTheme(){setTheme(theme===AppTheme.LIGHT?AppTheme.DARK:AppTheme.LIGHT);};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{id:\"top-anchor\"}),/*#__PURE__*/_jsx(ScrollToTop,{}),/*#__PURE__*/_jsx(Header,{darkmode:theme===AppTheme.DARK,toggletheme:toggleTheme})]});};// used for routing\nexport var PrivateRoute=function PrivateRoute(props){var isAuthorized=LocalStorageService.isAuthorized();useEffect(function(){if(!isAuthorized){NotificationService.notify('warning','Warning','You have to be logged in to view this page');}},[isAuthorized]);return isAuthorized?/*#__PURE__*/_jsxs(Route,_objectSpread(_objectSpread({},props),{},{children:[/*#__PURE__*/_jsx(DefaultHeader,{}),props.children]})):/*#__PURE__*/_jsx(Redirect,{to:{}});};export var AdminRoute=function AdminRoute(props){var user=useSelector(function(state){return state.user;});return LocalStorageService.isAuthorized()&&user.user.role==='admin'?/*#__PURE__*/_jsxs(Route,_objectSpread(_objectSpread({},props),{},{children:[/*#__PURE__*/_jsx(DefaultHeader,{}),props.children]})):/*#__PURE__*/_jsx(Redirect,{to:{pathname:'/',state:{from:props.location}}});};export var DefaultRoute=function DefaultRoute(props){return/*#__PURE__*/_jsx(Route,_objectSpread(_objectSpread({},props),{},{children:props.children}));};var Routes=function Routes(){return/*#__PURE__*/_jsxs(Switch,{children:[/*#__PURE__*/_jsx(DefaultRoute,{exact:true,path:\"/login\",children:/*#__PURE__*/_jsx(UserLoginView,{})}),/*#__PURE__*/_jsx(DefaultRoute,{path:\"/register\",children:/*#__PURE__*/_jsx(SignUpView,{})}),/*#__PURE__*/_jsx(DefaultRoute,{path:\"/confirmation/:email/:token\",children:/*#__PURE__*/_jsx(EmailConfirmationView,{})}),/*#__PURE__*/_jsxs(DefaultRoute,{exact:true,path:\"/\",children:[/*#__PURE__*/_jsx(DefaultHeader,{}),/*#__PURE__*/_jsx(SearchView,{})]}),/*#__PURE__*/_jsx(AdminRoute,{exact:true,path:\"/admin-console\",children:/*#__PURE__*/_jsx(AdminConsoleView,{})}),/*#__PURE__*/_jsxs(DefaultRoute,{exact:true,path:\"/pricing\",children:[/*#__PURE__*/_jsx(DefaultHeader,{}),/*#__PURE__*/_jsx(SubscriptionPageView,{})]}),/*#__PURE__*/_jsx(PrivateRoute,{exact:true,path:\"/pricing/changePlan\",children:/*#__PURE__*/_jsx(ChangeToPremiumView,{})}),/*#__PURE__*/_jsx(PrivateRoute,{exact:true,path:\"/user/:id\",children:/*#__PURE__*/_jsx(SelectedUserProfileView,{})}),/*#__PURE__*/_jsx(PrivateRoute,{exact:true,path:\"/user\",children:/*#__PURE__*/_jsx(UserProfileView,{})}),/*#__PURE__*/_jsx(PrivateRoute,{exact:true,path:\"/pet/:id\",children:/*#__PURE__*/_jsx(PetProfileView,{})}),/*#__PURE__*/_jsx(PrivateRoute,{exact:true,path:\"/add-pet\",children:/*#__PURE__*/_jsx(AddPetView,{})}),/*#__PURE__*/_jsx(PrivateRoute,{exact:true,path:\"/edit/pet/:id\",children:/*#__PURE__*/_jsx(EditPetView,{})}),/*#__PURE__*/_jsx(PrivateRoute,{exact:true,path:\"/transactions\",children:/*#__PURE__*/_jsx(TransactionsView,{})}),/*#__PURE__*/_jsx(PrivateRoute,{exact:true,path:\"/messenger/:breederId/:petId\",children:/*#__PURE__*/_jsx(MessengerNewContactView,{})}),/*#__PURE__*/_jsx(PrivateRoute,{exact:true,path:\"/messenger\",children:/*#__PURE__*/_jsx(MessengerView,{})}),/*#__PURE__*/_jsx(PrivateRoute,{exact:true,path:\"/blog\",children:/*#__PURE__*/_jsx(BlogView,{})}),/*#__PURE__*/_jsxs(DefaultRoute,{path:\"*\",children:[/*#__PURE__*/_jsx(DefaultHeader,{}),/*#__PURE__*/_jsx(NotFoundView,{})]})]});};export default Routes;","map":{"version":3,"sources":["/Users/alinaturbina/Uni Projects/seba/frontend/src/routes.js"],"names":["React","useEffect","Redirect","Route","Switch","UserLoginView","SignUpView","AddPetView","PetProfileView","EmailConfirmationView","UserProfileView","SubscriptionPageView","EditPetView","NotFoundView","SearchView","SelectedUserProfileView","TransactionsView","MessengerView","MessengerNewContactView","ChangeToPremiumView","AdminConsoleView","BlogView","LocalStorageService","NotificationService","Header","ScrollToTop","AppTheme","useSelector","useScrollTrigger","KeyboardArrowUpIcon","makeStyles","Zoom","Fab","DefaultHeader","useState","LIGHT","theme","setTheme","toggleTheme","DARK","PrivateRoute","props","isAuthorized","notify","children","AdminRoute","user","state","role","pathname","from","location","DefaultRoute","Routes"],"mappings":"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","sourcesContent":["import React, { useEffect } from 'react';\nimport { Redirect, Route, Switch } from 'react-router-dom';\n// views\nimport UserLoginView from './views/UserLoginView';\nimport SignUpView from './views/SignUpView';\nimport AddPetView from './views/AddPetView';\nimport PetProfileView from './views/PetProfileView';\nimport EmailConfirmationView from './views/EmailConfirmationView';\nimport UserProfileView from './views/UserProfileView';\nimport SubscriptionPageView from './views/SubscriptionPageView';\nimport EditPetView from './views/EditPetView';\nimport NotFoundView from './views/NotFoundView';\nimport SearchView from './views/SearchView';\nimport SelectedUserProfileView from './views/SelectedUserProfileView';\nimport TransactionsView from 'views/TransactionsView';\nimport MessengerView from './views/MessengerView';\nimport MessengerNewContactView from './views/MessengerNewContactView';\nimport ChangeToPremiumView from 'views/ChangeToPremiumView';\nimport AdminConsoleView from 'views/AdminConsoleView';\nimport BlogView from 'views/BlogView';\n\n// services\nimport { LocalStorageService, NotificationService } from 'services';\nimport Header from 'components/Header';\nimport ScrollToTop from 'components/ScrollToTop';\nimport AppTheme from 'theming/themetypes';\nimport { useSelector } from 'react-redux';\n// Scroll to top dependencies\nimport useScrollTrigger from '@material-ui/core/useScrollTrigger';\nimport KeyboardArrowUpIcon from '@material-ui/icons/KeyboardArrowUp';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Zoom from '@material-ui/core/Zoom';\nimport Fab from '@material-ui/core/Fab';\n\nconst DefaultHeader = () => {\n    // theme for app\n    const [theme, setTheme] = React.useState(AppTheme.LIGHT);\n\n    // toggle theme\n    const toggleTheme = () => {\n        setTheme(theme === AppTheme.LIGHT ? AppTheme.DARK : AppTheme.LIGHT);\n    };\n    return (\n        <div>\n            <div id=\"top-anchor\" />\n            <ScrollToTop />\n            <Header darkmode={theme === AppTheme.DARK} toggletheme={toggleTheme} />\n        </div>\n    );\n};\n\n// used for routing\nexport const PrivateRoute = (props) => {\n    const isAuthorized = LocalStorageService.isAuthorized();\n    useEffect(() => {\n        if (!isAuthorized) {\n            NotificationService.notify('warning', 'Warning', 'You have to be logged in to view this page');\n        }\n    }, [isAuthorized]);\n\n    return isAuthorized ? (\n        <Route {...props}>\n            <DefaultHeader />\n            {props.children}\n        </Route>\n    ) : (\n        <Redirect to={{}} />\n    );\n};\n\nexport const AdminRoute = (props) => {\n    const user = useSelector((state) => state.user);\n\n    return LocalStorageService.isAuthorized() && user.user.role === 'admin' ? (\n        <Route {...props}>\n            <DefaultHeader />\n            {props.children}\n        </Route>\n    ) : (\n        <Redirect to={{ pathname: '/', state: { from: props.location } }} />\n    );\n};\n\nexport const DefaultRoute = (props) => <Route {...props}>{props.children}</Route>;\n\nconst Routes = () => {\n    return (\n        <Switch>\n            <DefaultRoute exact path=\"/login\">\n                <UserLoginView />\n            </DefaultRoute>\n            <DefaultRoute path=\"/register\">\n                <SignUpView />\n            </DefaultRoute>\n            <DefaultRoute path=\"/confirmation/:email/:token\">\n                <EmailConfirmationView />\n            </DefaultRoute>\n            <DefaultRoute exact path=\"/\">\n                <DefaultHeader />\n                <SearchView />\n            </DefaultRoute>\n            <AdminRoute exact path=\"/admin-console\">\n                <AdminConsoleView />\n            </AdminRoute>\n            <DefaultRoute exact path=\"/pricing\">\n                <DefaultHeader />\n                <SubscriptionPageView />\n            </DefaultRoute>\n            <PrivateRoute exact path=\"/pricing/changePlan\">\n                <ChangeToPremiumView />\n            </PrivateRoute>\n            <PrivateRoute exact path=\"/user/:id\">\n                <SelectedUserProfileView />\n            </PrivateRoute>\n            <PrivateRoute exact path=\"/user\">\n                <UserProfileView />\n            </PrivateRoute>\n            <PrivateRoute exact path=\"/pet/:id\">\n                <PetProfileView />\n            </PrivateRoute>\n            <PrivateRoute exact path=\"/add-pet\">\n                <AddPetView />\n            </PrivateRoute>\n            <PrivateRoute exact path=\"/edit/pet/:id\">\n                <EditPetView />\n            </PrivateRoute>\n            <PrivateRoute exact path=\"/transactions\">\n                <TransactionsView />\n            </PrivateRoute>\n            <PrivateRoute exact path=\"/messenger/:breederId/:petId\">\n                <MessengerNewContactView />\n            </PrivateRoute>\n            <PrivateRoute exact path=\"/messenger\">\n                <MessengerView />\n            </PrivateRoute>\n            <PrivateRoute exact path=\"/blog\">\n                <BlogView />\n            </PrivateRoute>\n            <DefaultRoute path=\"*\">\n                <DefaultHeader />\n                <NotFoundView />\n            </DefaultRoute>\n        </Switch>\n    );\n};\n\nexport default Routes;\n"]},"metadata":{},"sourceType":"module"}