{"ast":null,"code":"import _regeneratorRuntime from\"/Users/alinaturbina/Uni Projects/seba/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/alinaturbina/Uni Projects/seba/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import React,{useEffect}from'react';import{connect,useSelector}from\"react-redux\";import UserProfile from\"../components/user-profile/UserProfile\";import{useUser}from'helper/hooks/auth.hooks';import{getUsersInfo,getUserPets,getReviewsOnUser}from'redux/actions';import{jsx as _jsx}from\"react/jsx-runtime\";function UserProfileView(props){var user=useUser();// get information on user from the redux store\nvar usersInfo=useSelector(function(state){return state.user.userInfo;});var pets=useSelector(function(state){return state.user.pets;});var reviews=useSelector(function(state){return state.user.reviews;});useEffect(function(){var loading=true;var loadUser=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(loading){_context.next=2;break;}return _context.abrupt(\"return\");case 2:_context.next=4;return props.dispatch(getUsersInfo(user.id));case 4:case\"end\":return _context.stop();}}},_callee);}));return function loadUser(){return _ref.apply(this,arguments);};}();loadUser();return function(){loading=false;};},[props,user.id]);useEffect(function(){var loading=true;var loadUserPets=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:if(loading){_context2.next=2;break;}return _context2.abrupt(\"return\");case 2:_context2.next=4;return props.dispatch(getUserPets(user.id));case 4:case\"end\":return _context2.stop();}}},_callee2);}));return function loadUserPets(){return _ref2.apply(this,arguments);};}();loadUserPets();return function(){loading=false;};},[props,user.id]);useEffect(function(){var loading=true;var loadReviews=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:if(loading){_context3.next=2;break;}return _context3.abrupt(\"return\");case 2:_context3.next=4;return props.dispatch(getReviewsOnUser(user.id));case 4:case\"end\":return _context3.stop();}}},_callee3);}));return function loadReviews(){return _ref3.apply(this,arguments);};}();loadReviews();return function(){loading=false;};},[props,user.id]);return/*#__PURE__*/_jsx(UserProfile,{user:usersInfo?usersInfo:user,pets:pets,profileOfLoggedInUser:true,reviews:reviews});}export default connect()(UserProfileView);","map":{"version":3,"sources":["/Users/alinaturbina/Uni Projects/seba/frontend/src/views/UserProfileView.js"],"names":["React","useEffect","connect","useSelector","UserProfile","useUser","getUsersInfo","getUserPets","getReviewsOnUser","UserProfileView","props","user","usersInfo","state","userInfo","pets","reviews","loading","loadUser","dispatch","id","loadUserPets","loadReviews"],"mappings":"uUAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,OAAT,CAAkBC,WAAlB,KAAqC,aAArC,CACA,MAAOC,CAAAA,WAAP,KAAwB,wCAAxB,CACA,OAASC,OAAT,KAAwB,yBAAxB,CACA,OAASC,YAAT,CAAuBC,WAAvB,CAAoCC,gBAApC,KAA4D,eAA5D,C,2CAEA,QAASC,CAAAA,eAAT,CAAyBC,KAAzB,CAAgC,CAC5B,GAAMC,CAAAA,IAAI,CAAGN,OAAO,EAApB,CACA;AACA,GAAIO,CAAAA,SAAS,CAAGT,WAAW,CAAC,SAACU,KAAD,QAAWA,CAAAA,KAAK,CAACF,IAAN,CAAWG,QAAtB,EAAD,CAA3B,CACA,GAAIC,CAAAA,IAAI,CAAGZ,WAAW,CAAC,SAACU,KAAD,QAAWA,CAAAA,KAAK,CAACF,IAAN,CAAWI,IAAtB,EAAD,CAAtB,CACA,GAAIC,CAAAA,OAAO,CAAGb,WAAW,CAAC,SAACU,KAAD,QAAWA,CAAAA,KAAK,CAACF,IAAN,CAAWK,OAAtB,EAAD,CAAzB,CAEAf,SAAS,CAAC,UAAM,CACZ,GAAIgB,CAAAA,OAAO,CAAG,IAAd,CAEA,GAAMC,CAAAA,QAAQ,0FAAG,sIAERD,OAFQ,uFAGNP,CAAAA,KAAK,CAACS,QAAN,CAAeb,YAAY,CAACK,IAAI,CAACS,EAAN,CAA3B,CAHM,uDAAH,kBAARF,CAAAA,QAAQ,0CAAd,CAKAA,QAAQ,GAER,MAAO,WAAM,CACTD,OAAO,CAAG,KAAV,CACH,CAFD,CAGH,CAbQ,CAaN,CAACP,KAAD,CAAQC,IAAI,CAACS,EAAb,CAbM,CAAT,CAeAnB,SAAS,CAAC,UAAM,CACZ,GAAIgB,CAAAA,OAAO,CAAG,IAAd,CAEA,GAAMI,CAAAA,YAAY,2FAAG,2IAEZJ,OAFY,0FAGXP,CAAAA,KAAK,CAACS,QAAN,CAAeZ,WAAW,CAACI,IAAI,CAACS,EAAN,CAA1B,CAHW,yDAAH,kBAAZC,CAAAA,YAAY,2CAAlB,CAKAA,YAAY,GAEZ,MAAO,WAAM,CACTJ,OAAO,CAAG,KAAV,CACH,CAFD,CAGH,CAbQ,CAaN,CAACP,KAAD,CAAQC,IAAI,CAACS,EAAb,CAbM,CAAT,CAeAnB,SAAS,CAAC,UAAM,CACZ,GAAIgB,CAAAA,OAAO,CAAG,IAAd,CAEA,GAAMK,CAAAA,WAAW,2FAAG,2IAEXL,OAFW,0FAGVP,CAAAA,KAAK,CAACS,QAAN,CAAeX,gBAAgB,CAACG,IAAI,CAACS,EAAN,CAA/B,CAHU,yDAAH,kBAAXE,CAAAA,WAAW,2CAAjB,CAMAA,WAAW,GAEX,MAAO,WAAM,CACTL,OAAO,CAAG,KAAV,CACH,CAFD,CAGH,CAdQ,CAcN,CAACP,KAAD,CAAQC,IAAI,CAACS,EAAb,CAdM,CAAT,CAgBA,mBAAO,KAAC,WAAD,EAAa,IAAI,CAAER,SAAS,CAAGA,SAAH,CAAeD,IAA3C,CAAiD,IAAI,CAAEI,IAAvD,CAA6D,qBAAqB,CAAE,IAApF,CAA0F,OAAO,CAAEC,OAAnG,EAAP,CACH,CAED,cAAed,CAAAA,OAAO,GAAGO,eAAH,CAAtB","sourcesContent":["import React, { useEffect } from 'react';\nimport { connect, useSelector } from \"react-redux\";\nimport UserProfile from \"../components/user-profile/UserProfile\";\nimport { useUser } from 'helper/hooks/auth.hooks';\nimport { getUsersInfo, getUserPets, getReviewsOnUser } from 'redux/actions';\n\nfunction UserProfileView(props) {\n    const user = useUser();\n    // get information on user from the redux store\n    var usersInfo = useSelector((state) => state.user.userInfo);\n    var pets = useSelector((state) => state.user.pets);\n    var reviews = useSelector((state) => state.user.reviews);\n\n    useEffect(() => {\n        let loading = true;\n\n        const loadUser = async () => {\n            // trigger the redux action getUsersInfo\n            if (!loading) return;\n            await  props.dispatch(getUsersInfo(user.id));\n        };\n        loadUser();\n\n        return () => {\n            loading = false;\n        };\n    }, [props, user.id]);\n\n    useEffect(() => {\n        let loading = true;\n\n        const loadUserPets = async () => {\n            // trigger the redux action getUserPets\n            if (!loading) return;\n            await props.dispatch(getUserPets(user.id));\n        };\n        loadUserPets();\n    \n        return () => {\n            loading = false;\n        };\n    }, [props, user.id]);\n\n    useEffect(() => {\n        let loading = true;\n\n        const loadReviews = async () => {\n            // trigger the redux action getReviewsOnUser\n            if (!loading) return;\n            await props.dispatch(getReviewsOnUser(user.id));\n        };\n\n        loadReviews();\n    \n        return () => {\n            loading = false;\n        };\n    }, [props, user.id]);\n\n    return <UserProfile user={usersInfo ? usersInfo : user} pets={pets} profileOfLoggedInUser={true} reviews={reviews} />\n}\n\nexport default connect()(UserProfileView);"]},"metadata":{},"sourceType":"module"}