{"ast":null,"code":"var _jsxFileName = \"/Users/alinaturbina/Uni Projects/seba/frontend/src/components/SignUpComponent.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { InputLabel, MenuItem, Select, Grid, Paper, Button, TextField, Typography, FormControlLabel, Checkbox } from '@material-ui/core';\nimport { checkUser } from '../redux/actions';\nimport { connect, useSelector } from 'react-redux';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst useStyles = makeStyles(theme => ({\n  usersignUpRoot: {\n    margin: 'auto'\n  },\n  signUpPaper: {\n    minWidth: 500,\n    padding: theme.spacing(5)\n  },\n  signUpRow: {\n    paddingTop: theme.spacing(1),\n    paddingBottom: theme.spacing(1),\n    '&:last-child': {\n      paddingBottom: theme.spacing(0)\n    },\n    '&:first-child': {\n      paddingTop: theme.spacing(0)\n    }\n  },\n  signUpButtons: {\n    display: 'flex',\n    justifyContent: 'flex-end'\n  },\n  signUpButton: {\n    marginLeft: theme.spacing(1)\n  }\n}));\nconst provincesAndCities = {\n  bavaria: ['Munich', 'Nuremberg', 'Augsburg', 'Regensburg', 'Ingolstadt', 'Würzburg', 'Other'],\n  'lower-saxony': ['Hanover', 'Braunschweig', 'Oldenburg', 'Osnabrück', 'Wolfsburg', 'Göttingen', 'Other'],\n  'baden-wuerttemberg': ['Stuttgart', 'Karlsruhe', 'Mannheim', 'Freiburg im Breisgau', 'Heidelberg', 'Ulm', 'Other'],\n  'north-rhine-westphalia': ['Cologne', 'Düsseldorf', 'Dortmund', 'Essen', 'Duisburg', 'Bochum', 'Other']\n};\n/**\n * For register new users\n * @param {props} props\n */\n\nfunction SignUpComponent(props) {\n  _s();\n\n  const classes = useStyles();\n  const values = props.values;\n  const errors = props.errors;\n  const [passwordError, setPasswordError] = React.useState('');\n  const [next, setNext] = React.useState(false); //set to false when there are errors and disable next step\n\n  const isValid = useSelector(state => state.checkUser); //set to false when component is rendered for the first time in order to skip error message from previous registration\n\n  const [rendered, setRendered] = React.useState(false);\n\n  const saveAndContinue = e => {\n    e.preventDefault();\n    checkIfUserIsValid();\n  };\n\n  function checkIfUserIsValid() {\n    props.dispatch(checkUser(values.email, values.username, values.isAdmin));\n    setRendered(true);\n    setNext(true);\n  }\n\n  useEffect(() => {\n    if (isValid.error) {\n      if (rendered) {\n        if (isValid.error.type === 'username') {\n          props.handleChange('usernameError', isValid.error.message);\n        } else {\n          props.handleChange('emailError', isValid.error.message);\n        }\n      }\n    } else {\n      if (next) {\n        props.nextStep();\n      }\n    }\n  }, [isValid]);\n  let options = null;\n\n  if (values.province) {\n    options = provincesAndCities[values.province].map(elem => /*#__PURE__*/_jsxDEV(MenuItem, {\n      value: elem,\n      children: elem\n    }, elem, false, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 13\n    }, this));\n  }\n\n  const onBlurPassword = e => {\n    if (values.password !== '' && values.password2 !== '') {\n      if (values.password !== values.password2) {\n        setPasswordError('Passwords do not match.');\n      } else {\n        setPasswordError('');\n      }\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: classes.usersignUpRoot,\n    children: /*#__PURE__*/_jsxDEV(Paper, {\n      className: classes.signUpPaper,\n      component: \"form\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.signUpRow,\n        children: /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h4\",\n          align: \"center\",\n          children: \"Welcome to the Breender App!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.signUpRow,\n        children: /*#__PURE__*/_jsxDEV(TextField, {\n          label: \"Email\",\n          fullWidth: true,\n          value: values.email,\n          onChange: e => props.handleChange('email', e),\n          error: errors.emailError !== '',\n          helperText: errors.emailError !== '' ? errors.emailError : null,\n          type: \"email\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.signUpRow,\n        children: /*#__PURE__*/_jsxDEV(TextField, {\n          label: \"Username\",\n          fullWidth: true,\n          value: values.username,\n          onChange: e => props.handleChange('username', e),\n          error: errors.usernameError !== '',\n          helperText: errors.usernameError !== '' ? errors.usernameError : null\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.signUpRow,\n        children: /*#__PURE__*/_jsxDEV(TextField, {\n          label: \"Password\",\n          fullWidth: true,\n          value: values.password,\n          onChange: e => props.handleChange('password', e),\n          error: passwordError !== '',\n          type: \"password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.signUpRow,\n        children: /*#__PURE__*/_jsxDEV(TextField, {\n          label: \"Repeat Password\",\n          fullWidth: true,\n          value: values.password2,\n          onChange: e => props.handleChange('password2', e),\n          error: passwordError !== '',\n          onBlur: onBlurPassword,\n          type: \"password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        container: true,\n        spacing: 2,\n        style: {\n          paddingTop: 20\n        },\n        children: [/*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 6,\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: classes.signUpRow,\n            children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n              children: \"State/Province\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 148,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Select, {\n              label: \"State/Province\",\n              value: values.province,\n              onChange: e => props.handleChange('province', e),\n              children: [/*#__PURE__*/_jsxDEV(MenuItem, {\n                value: 'bavaria',\n                children: \"Bavaria\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 150,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                value: 'lower-saxony',\n                children: \"Lower Saxony\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 151,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                value: 'baden-wuerttemberg',\n                children: \"Baden-W\\xFCrttemberg\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 152,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                value: 'north-rhine-westphalia',\n                children: \"North Rhine-Westphalia\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 153,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 149,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 147,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 6,\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: classes.signUpRow,\n            children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n              children: \"City\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 159,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Select, {\n              label: \"City\",\n              value: values.city,\n              onChange: e => props.handleChange('city', e),\n              children: options\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 160,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 158,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.signUpRow,\n        children: /*#__PURE__*/_jsxDEV(FormControlLabel, {\n          control: /*#__PURE__*/_jsxDEV(Checkbox, {\n            checked: values.isAdmin,\n            onChange: e => props.handleChange('isAdmin', e),\n            color: \"primary\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 167,\n            columnNumber: 48\n          }, this),\n          label: \"Is Admin\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 17\n      }, this), passwordError !== '' ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.signUpRow,\n        children: /*#__PURE__*/_jsxDEV(Typography, {\n          color: \"error\",\n          children: passwordError\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 171,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 21\n      }, this) : null, /*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.signUpRow + ' ' + classes.signUpButtons,\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          className: classes.signUpButton,\n          onClick: props.onCancel,\n          children: \"Cancel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          className: classes.signUpButton,\n          variant: \"contained\",\n          color: \"primary\",\n          disabled: values.email === '' || errors.emailError !== '' || values.username === '' || errors.usernameError !== '' || values.password === '' || values.password2 === '' || values.password !== values.password2 || values.province === '' || values.city === '' || passwordError !== '',\n          onClick: saveAndContinue,\n          children: \"Next\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 103,\n    columnNumber: 9\n  }, this);\n}\n\n_s(SignUpComponent, \"Y+hi+jP3pt2oSwF2M+xBoFwQun0=\", false, function () {\n  return [useStyles, useSelector];\n});\n\n_c = SignUpComponent;\nexport default connect()(SignUpComponent);\n\nvar _c;\n\n$RefreshReg$(_c, \"SignUpComponent\");","map":{"version":3,"sources":["/Users/alinaturbina/Uni Projects/seba/frontend/src/components/SignUpComponent.js"],"names":["React","useEffect","makeStyles","InputLabel","MenuItem","Select","Grid","Paper","Button","TextField","Typography","FormControlLabel","Checkbox","checkUser","connect","useSelector","useStyles","theme","usersignUpRoot","margin","signUpPaper","minWidth","padding","spacing","signUpRow","paddingTop","paddingBottom","signUpButtons","display","justifyContent","signUpButton","marginLeft","provincesAndCities","bavaria","SignUpComponent","props","classes","values","errors","passwordError","setPasswordError","useState","next","setNext","isValid","state","rendered","setRendered","saveAndContinue","e","preventDefault","checkIfUserIsValid","dispatch","email","username","isAdmin","error","type","handleChange","message","nextStep","options","province","map","elem","onBlurPassword","password","password2","emailError","usernameError","city","onCancel"],"mappings":"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","sourcesContent":["import React, { useEffect } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { InputLabel, MenuItem, Select, Grid, Paper, Button, TextField, Typography, FormControlLabel, Checkbox } from '@material-ui/core';\nimport { checkUser } from '../redux/actions';\nimport { connect, useSelector } from 'react-redux';\n\nconst useStyles = makeStyles((theme) => ({\n    usersignUpRoot: {\n        margin: 'auto',\n    },\n    signUpPaper: {\n        minWidth: 500,\n        padding: theme.spacing(5),\n    },\n    signUpRow: {\n        paddingTop: theme.spacing(1),\n        paddingBottom: theme.spacing(1),\n        '&:last-child': {\n            paddingBottom: theme.spacing(0),\n        },\n        '&:first-child': {\n            paddingTop: theme.spacing(0),\n        },\n    },\n    signUpButtons: {\n        display: 'flex',\n        justifyContent: 'flex-end',\n    },\n    signUpButton: {\n        marginLeft: theme.spacing(1),\n    },\n}));\n\nconst provincesAndCities = {\n    bavaria: ['Munich', 'Nuremberg', 'Augsburg', 'Regensburg', 'Ingolstadt', 'Würzburg', 'Other'],\n    'lower-saxony': ['Hanover', 'Braunschweig', 'Oldenburg', 'Osnabrück', 'Wolfsburg', 'Göttingen', 'Other'],\n    'baden-wuerttemberg': ['Stuttgart', 'Karlsruhe', 'Mannheim', 'Freiburg im Breisgau', 'Heidelberg', 'Ulm', 'Other'],\n    'north-rhine-westphalia': ['Cologne', 'Düsseldorf', 'Dortmund', 'Essen', 'Duisburg', 'Bochum', 'Other'],\n};\n\n/**\n * For register new users\n * @param {props} props\n */\nfunction SignUpComponent(props) {\n    const classes = useStyles();\n    const values = props.values;\n    const errors = props.errors;\n    const [passwordError, setPasswordError] = React.useState('');\n    const [next, setNext] = React.useState(false); //set to false when there are errors and disable next step\n    const isValid = useSelector((state) => state.checkUser);\n    //set to false when component is rendered for the first time in order to skip error message from previous registration\n    const [rendered, setRendered ] = React.useState(false);\n\n    const saveAndContinue = (e) => {\n        e.preventDefault();\n        checkIfUserIsValid();\n    };\n\n    function checkIfUserIsValid() {\n        props.dispatch(checkUser(values.email, values.username, values.isAdmin));\n        setRendered(true);\n        setNext(true);\n    }\n\n    useEffect(() => {\n        if (isValid.error) {\n            if(rendered) {\n                if (isValid.error.type === 'username') {\n                    props.handleChange('usernameError', isValid.error.message);\n                } else {\n                    props.handleChange('emailError', isValid.error.message);\n                }\n            }\n        } else {\n            if(next) {props.nextStep();}\n \n        }\n\n    }, [isValid]);\n\n    let options = null;\n\n    if (values.province) {\n        options = provincesAndCities[values.province].map((elem) => (\n            <MenuItem key={elem} value={elem}>\n                {elem}\n            </MenuItem>\n        ));\n    }\n\n    const onBlurPassword = (e) => {\n        if (values.password !== '' && values.password2 !== '') {\n            if (values.password !== values.password2) {\n                setPasswordError('Passwords do not match.');\n            } else {\n                setPasswordError('');\n            }\n        }\n    };\n\n    return (\n        <div className={classes.usersignUpRoot}>\n            <Paper className={classes.signUpPaper} component=\"form\">\n                <div className={classes.signUpRow}>\n                    <Typography variant=\"h4\" align=\"center\">\n                        Welcome to the Breender App!\n                    </Typography>\n                </div>\n                <div className={classes.signUpRow}>\n                    <TextField\n                        label=\"Email\"\n                        fullWidth\n                        value={values.email}\n                        onChange={(e) => props.handleChange('email', e)}\n                        error={errors.emailError !== ''}\n                        helperText={errors.emailError !== '' ? errors.emailError : null}\n                        type=\"email\"\n                    />\n                </div>\n                <div className={classes.signUpRow}>\n                    <TextField\n                        label=\"Username\"\n                        fullWidth\n                        value={values.username}\n                        onChange={(e) => props.handleChange('username', e)}\n                        error={errors.usernameError !== ''}\n                        helperText={errors.usernameError !== '' ? errors.usernameError : null}\n                    />\n                </div>\n                <div className={classes.signUpRow}>\n                    <TextField label=\"Password\" fullWidth value={values.password} onChange={(e) => props.handleChange('password', e)} error={passwordError !== ''} type=\"password\" />\n                </div>\n                <div className={classes.signUpRow}>\n                    <TextField\n                        label=\"Repeat Password\"\n                        fullWidth\n                        value={values.password2}\n                        onChange={(e) => props.handleChange('password2', e)}\n                        error={passwordError !== ''}\n                        onBlur={onBlurPassword}\n                        type=\"password\"\n                    />\n                </div>\n                <Grid container spacing={2} style={{ paddingTop: 20 }}>\n                    <Grid item xs={6}>\n                        <div className={classes.signUpRow}>\n                            <InputLabel>State/Province</InputLabel>\n                            <Select label=\"State/Province\" value={values.province} onChange={(e) => props.handleChange('province', e)}>\n                                <MenuItem value={'bavaria'}>Bavaria</MenuItem>\n                                <MenuItem value={'lower-saxony'}>Lower Saxony</MenuItem>\n                                <MenuItem value={'baden-wuerttemberg'}>Baden-Württemberg</MenuItem>\n                                <MenuItem value={'north-rhine-westphalia'}>North Rhine-Westphalia</MenuItem>\n                            </Select>\n                        </div>\n                    </Grid>\n                    <Grid item xs={6}>\n                        <div className={classes.signUpRow}>\n                            <InputLabel>City</InputLabel>\n                            <Select label=\"City\" value={values.city} onChange={(e) => props.handleChange('city', e)}>\n                                {options}\n                            </Select>\n                        </div>\n                    </Grid>\n                </Grid>\n                <div className={classes.signUpRow}>\n                    <FormControlLabel control={<Checkbox checked={values.isAdmin} onChange={(e) => props.handleChange('isAdmin', e)} color=\"primary\" />} label=\"Is Admin\" />\n                </div>\n                {passwordError !== '' ? (\n                    <div className={classes.signUpRow}>\n                        <Typography color=\"error\">{passwordError}</Typography>\n                    </div>\n                ) : null}\n                <div className={classes.signUpRow + ' ' + classes.signUpButtons}>\n                    <Button className={classes.signUpButton} onClick={props.onCancel}>\n                        Cancel\n                    </Button>\n                    <Button\n                        className={classes.signUpButton}\n                        variant=\"contained\"\n                        color=\"primary\"\n                        disabled={\n                            values.email === '' ||\n                            errors.emailError !== '' ||\n                            values.username === '' ||\n                            errors.usernameError !== '' ||\n                            values.password === '' ||\n                            values.password2 === '' ||\n                            values.password !== values.password2 ||\n                            values.province === '' ||\n                            values.city === '' ||\n                            passwordError !== ''\n                        }\n                        onClick={saveAndContinue}\n                    >\n                        Next\n                    </Button>\n                </div>\n            </Paper>\n        </div>\n    );\n}\n\nexport default connect()(SignUpComponent);\n"]},"metadata":{},"sourceType":"module"}