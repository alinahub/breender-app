{"ast":null,"code":"import _defineProperty from\"/Users/alinaturbina/Uni Projects/seba/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _regeneratorRuntime from\"/Users/alinaturbina/Uni Projects/seba/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/alinaturbina/Uni Projects/seba/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/alinaturbina/Uni Projects/seba/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import{connect,useDispatch,useSelector}from'react-redux';import{makeStyles}from'@material-ui/core/styles';import{Typography}from'@material-ui/core';import{getTransactions}from'redux/actions';import{useLoggedInUser,useUser}from'helper/hooks/auth.hooks';import Loading from'components/Loading';import TransactionsOverviewTable from'components/transactions/TransactionsOverviewTable';import PremiumBanner from'components/PremiumBanner';import{showPremiumBanner}from'helper/helpers';/**\n * Overview for all transactions\n * @param {*} props\n * @returns\n */import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var TransactionsView=function TransactionsView(props){var classes=useStyles();var dispatch=useDispatch();var loggedInUser=useLoggedInUser();var user=useUser();var transactions=useSelector(function(state){return state.transaction.transactions;});var _useState=useState(true),_useState2=_slicedToArray(_useState,2),loading=_useState2[0],setLoading=_useState2[1];useEffect(function(){dispatch(getTransactions(user.id));},[transactions.length,user.id,dispatch]);useEffect(function(){var loading=true;var load=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(loading){_context.next=2;break;}return _context.abrupt(\"return\");case 2:setLoading(false);case 3:case\"end\":return _context.stop();}}},_callee);}));return function load(){return _ref.apply(this,arguments);};}();load();return function(){loading=false;};},[]);return loading?/*#__PURE__*/_jsx(Loading,{}):/*#__PURE__*/_jsxs(_Fragment,{children:[showPremiumBanner(loggedInUser)?/*#__PURE__*/_jsx(PremiumBanner,{}):null,/*#__PURE__*/_jsxs(\"div\",{className:classes.layout,children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",align:\"left\",children:\"Transactions\"}),/*#__PURE__*/_jsx(TransactionsOverviewTable,{transactions:transactions})]})]});};var useStyles=makeStyles(function(theme){return{layout:_defineProperty({justifyContent:'center',paddingTop:50,paddingLeft:50,paddingRight:50},theme.breakpoints.down('sm'),{width:'auto'})};});// connect() establishes the connection to the redux functionalities\nexport default connect()(TransactionsView);","map":{"version":3,"sources":["/Users/alinaturbina/Uni Projects/seba/frontend/src/views/TransactionsView.js"],"names":["React","useEffect","useState","connect","useDispatch","useSelector","makeStyles","Typography","getTransactions","useLoggedInUser","useUser","Loading","TransactionsOverviewTable","PremiumBanner","showPremiumBanner","TransactionsView","props","classes","useStyles","dispatch","loggedInUser","user","transactions","state","transaction","loading","setLoading","id","length","load","layout","theme","justifyContent","paddingTop","paddingLeft","paddingRight","breakpoints","down","width"],"mappings":"mpBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,OAASC,OAAT,CAAkBC,WAAlB,CAA+BC,WAA/B,KAAkD,aAAlD,CACA,OAASC,UAAT,KAA2B,0BAA3B,CACA,OAASC,UAAT,KAA2B,mBAA3B,CACA,OAASC,eAAT,KAAgC,eAAhC,CACA,OAASC,eAAT,CAA0BC,OAA1B,KAAyC,yBAAzC,CACA,MAAOC,CAAAA,OAAP,KAAoB,oBAApB,CACA,MAAOC,CAAAA,yBAAP,KAAsC,mDAAtC,CACA,MAAOC,CAAAA,aAAP,KAA0B,0BAA1B,CACA,OAASC,iBAAT,KAAkC,gBAAlC,CAEA;AACA;AACA;AACA;AACA,G,6IAEA,GAAMC,CAAAA,gBAAgB,CAAG,QAAnBA,CAAAA,gBAAmB,CAACC,KAAD,CAAW,CAChC,GAAMC,CAAAA,OAAO,CAAGC,SAAS,EAAzB,CACA,GAAMC,CAAAA,QAAQ,CAAGf,WAAW,EAA5B,CACA,GAAMgB,CAAAA,YAAY,CAAGX,eAAe,EAApC,CAEA,GAAMY,CAAAA,IAAI,CAAGX,OAAO,EAApB,CACA,GAAMY,CAAAA,YAAY,CAAGjB,WAAW,CAAC,SAACkB,KAAD,QAAWA,CAAAA,KAAK,CAACC,WAAN,CAAkBF,YAA7B,EAAD,CAAhC,CAEA,cAA8BpB,QAAQ,CAAC,IAAD,CAAtC,wCAAOuB,OAAP,eAAgBC,UAAhB,eAEAzB,SAAS,CAAC,UAAM,CACZkB,QAAQ,CAACX,eAAe,CAACa,IAAI,CAACM,EAAN,CAAhB,CAAR,CACH,CAFQ,CAEN,CAACL,YAAY,CAACM,MAAd,CAAsBP,IAAI,CAACM,EAA3B,CAA+BR,QAA/B,CAFM,CAAT,CAIAlB,SAAS,CAAC,UAAM,CACZ,GAAIwB,CAAAA,OAAO,CAAG,IAAd,CAEA,GAAMI,CAAAA,IAAI,0FAAG,sIACJJ,OADI,iEAETC,UAAU,CAAC,KAAD,CAAV,CAFS,sDAAH,kBAAJG,CAAAA,IAAI,0CAAV,CAKAA,IAAI,GAEJ,MAAO,WAAM,CACTJ,OAAO,CAAG,KAAV,CACH,CAFD,CAGH,CAbQ,CAaN,EAbM,CAAT,CAeA,MAAOA,CAAAA,OAAO,cACV,KAAC,OAAD,IADU,cAGV,2BACKX,iBAAiB,CAACM,YAAD,CAAjB,cAAkC,KAAC,aAAD,IAAlC,CAAsD,IAD3D,cAEI,aAAK,SAAS,CAAEH,OAAO,CAACa,MAAxB,wBACI,KAAC,UAAD,EAAY,OAAO,CAAC,IAApB,CAAyB,KAAK,CAAC,MAA/B,0BADJ,cAII,KAAC,yBAAD,EAA2B,YAAY,CAAER,YAAzC,EAJJ,GAFJ,GAHJ,CAaH,CA1CD,CA4CA,GAAMJ,CAAAA,SAAS,CAAGZ,UAAU,CAAC,SAACyB,KAAD,QAAY,CACrCD,MAAM,kBACFE,cAAc,CAAE,QADd,CAEFC,UAAU,CAAE,EAFV,CAGFC,WAAW,CAAE,EAHX,CAIFC,YAAY,CAAE,EAJZ,EAKDJ,KAAK,CAACK,WAAN,CAAkBC,IAAlB,CAAuB,IAAvB,CALC,CAK8B,CAC5BC,KAAK,CAAE,MADqB,CAL9B,CAD+B,CAAZ,EAAD,CAA5B,CAYA;AACA,cAAenC,CAAAA,OAAO,GAAGY,gBAAH,CAAtB","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { connect, useDispatch, useSelector } from 'react-redux';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Typography } from '@material-ui/core';\nimport { getTransactions } from 'redux/actions';\nimport { useLoggedInUser, useUser } from 'helper/hooks/auth.hooks';\nimport Loading from 'components/Loading';\nimport TransactionsOverviewTable from 'components/transactions/TransactionsOverviewTable';\nimport PremiumBanner from 'components/PremiumBanner';\nimport { showPremiumBanner } from 'helper/helpers';\n\n/**\n * Overview for all transactions\n * @param {*} props\n * @returns\n */\n\nconst TransactionsView = (props) => {\n    const classes = useStyles();\n    const dispatch = useDispatch();\n    const loggedInUser = useLoggedInUser();\n\n    const user = useUser();\n    const transactions = useSelector((state) => state.transaction.transactions);\n\n    const [loading, setLoading] = useState(true);\n\n    useEffect(() => {\n        dispatch(getTransactions(user.id));\n    }, [transactions.length, user.id, dispatch]);\n\n    useEffect(() => {\n        let loading = true;\n\n        const load = async () => {\n            if (!loading) return;\n            setLoading(false);\n        };\n\n        load();\n\n        return () => {\n            loading = false;\n        };\n    }, []);\n\n    return loading ? (\n        <Loading />\n    ) : (\n        <>\n            {showPremiumBanner(loggedInUser) ? <PremiumBanner /> : null}\n            <div className={classes.layout}>\n                <Typography variant=\"h6\" align=\"left\">\n                    Transactions\n                </Typography>\n                <TransactionsOverviewTable transactions={transactions} />\n            </div>\n        </>\n    );\n};\n\nconst useStyles = makeStyles((theme) => ({\n    layout: {\n        justifyContent: 'center',\n        paddingTop: 50,\n        paddingLeft: 50,\n        paddingRight: 50,\n        [theme.breakpoints.down('sm')]: {\n            width: 'auto',\n        },\n    },\n}));\n\n// connect() establishes the connection to the redux functionalities\nexport default connect()(TransactionsView);\n"]},"metadata":{},"sourceType":"module"}