{"ast":null,"code":"import _regeneratorRuntime from\"/Users/alinaturbina/Uni Projects/seba/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/alinaturbina/Uni Projects/seba/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/Users/alinaturbina/Uni Projects/seba/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/alinaturbina/Uni Projects/seba/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import axios from'axios';var PetService=/*#__PURE__*/function(){function PetService(){_classCallCheck(this,PetService);}_createClass(PetService,null,[{key:\"URL\",value:function URL(){return'http://localhost:4000/pets';}},{key:\"setToken\",value:function setToken(){var token=localStorage.getItem('jwtToken');axios.defaults.headers.common['Authorization']='Bearer '+token;}},{key:\"getPets\",value:function getPets(species,sex,breed,age,page,showOwn,user){this.setToken();return new Promise(/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(resolve,reject){var me,_yield$axios$get,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;me=\"user=\".concat((user===null||user===void 0?void 0:user.id)?user.id:'');_context.next=4;return axios.get(\"/pets/search?\".concat(me,\"&species=\").concat(species,\"&sex=\").concat(sex,\"&breed=\").concat(breed,\"&age[]=\").concat(age,\"&page=\").concat(page,\"&showOwn=\").concat(showOwn));case 4:_yield$axios$get=_context.sent;data=_yield$axios$get.data;resolve(data);_context.next=12;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](0);reject(_context.t0);case 12:case\"end\":return _context.stop();}}},_callee,null,[[0,9]]);}));return function(_x,_x2){return _ref.apply(this,arguments);};}());}},{key:\"getPet\",value:function getPet(id){this.setToken();return new Promise(/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(resolve,reject){var _yield$axios$get2,data;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return axios.get(\"/pets/\".concat(id));case 3:_yield$axios$get2=_context2.sent;data=_yield$axios$get2.data;resolve(data);_context2.next=11;break;case 8:_context2.prev=8;_context2.t0=_context2[\"catch\"](0);reject(_context2.t0);case 11:case\"end\":return _context2.stop();}}},_callee2,null,[[0,8]]);}));return function(_x3,_x4){return _ref2.apply(this,arguments);};}());}},{key:\"deletePet\",value:function deletePet(id){this.setToken();return new Promise(/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(resolve,reject){var _yield$axios$delete,data;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;_context3.next=3;return axios.delete(\"/pets/\".concat(id));case 3:_yield$axios$delete=_context3.sent;data=_yield$axios$delete.data;resolve(data);_context3.next=11;break;case 8:_context3.prev=8;_context3.t0=_context3[\"catch\"](0);reject(_context3.t0);case 11:case\"end\":return _context3.stop();}}},_callee3,null,[[0,8]]);}));return function(_x5,_x6){return _ref3.apply(this,arguments);};}());}},{key:\"updatePet\",value:function(){var _updatePet=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(pet){var _yield$axios$put,data;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:this.setToken();_context4.next=3;return axios.put(\"/pets/\".concat(pet.id),pet);case 3:_yield$axios$put=_context4.sent;data=_yield$axios$put.data;return _context4.abrupt(\"return\",data);case 6:case\"end\":return _context4.stop();}}},_callee4,this);}));function updatePet(_x7){return _updatePet.apply(this,arguments);}return updatePet;}()},{key:\"createPet\",value:function(){var _createPet=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(pet){var _yield$axios$post,data;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:this.setToken();_context5.next=3;return axios.post(\"/pets/\",pet);case 3:_yield$axios$post=_context5.sent;data=_yield$axios$post.data;return _context5.abrupt(\"return\",data);case 6:case\"end\":return _context5.stop();}}},_callee5,this);}));function createPet(_x8){return _createPet.apply(this,arguments);}return createPet;}()}]);return PetService;}();export{PetService as default};","map":{"version":3,"sources":["/Users/alinaturbina/Uni Projects/seba/frontend/src/services/PetService.js"],"names":["axios","PetService","token","localStorage","getItem","defaults","headers","common","species","sex","breed","age","page","showOwn","user","setToken","Promise","resolve","reject","me","id","get","data","delete","pet","put","post"],"mappings":"+oBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,C,GAEqBC,CAAAA,U,gIACjB,cAAa,CACT,MAAO,4BAAP,CACH,C,wBAED,mBAAkB,CACd,GAAMC,CAAAA,KAAK,CAAGC,YAAY,CAACC,OAAb,CAAqB,UAArB,CAAd,CACAJ,KAAK,CAACK,QAAN,CAAeC,OAAf,CAAuBC,MAAvB,CAA8B,eAA9B,EAAiD,UAAYL,KAA7D,CACH,C,uBAED,iBAAeM,OAAf,CAAwBC,GAAxB,CAA6BC,KAA7B,CAAoCC,GAApC,CAAyCC,IAAzC,CAA+CC,OAA/C,CAAwDC,IAAxD,CAA8D,CAC1D,KAAKC,QAAL,GACA,MAAO,IAAIC,CAAAA,OAAJ,0FAAY,iBAAOC,OAAP,CAAgBC,MAAhB,+JAELC,EAFK,gBAEQ,CAAAL,IAAI,OAAJ,EAAAA,IAAI,SAAJ,QAAAA,IAAI,CAAEM,EAAN,EAAWN,IAAI,CAACM,EAAhB,CAAqB,EAF7B,wBAGYpB,CAAAA,KAAK,CAACqB,GAAN,wBAA0BF,EAA1B,qBAAwCX,OAAxC,iBAAuDC,GAAvD,mBAAoEC,KAApE,mBAAmFC,GAAnF,kBAA+FC,IAA/F,qBAA+GC,OAA/G,EAHZ,uCAGHS,IAHG,kBAGHA,IAHG,CAIXL,OAAO,CAACK,IAAD,CAAP,CAJW,+EAMXJ,MAAM,aAAN,CANW,oEAAZ,mEAAP,CASH,C,sBAED,gBAAcE,EAAd,CAAkB,CACd,KAAKL,QAAL,GACA,MAAO,IAAIC,CAAAA,OAAJ,2FAAY,kBAAOC,OAAP,CAAgBC,MAAhB,yLAEYlB,CAAAA,KAAK,CAACqB,GAAN,iBAAmBD,EAAnB,EAFZ,yCAEHE,IAFG,mBAEHA,IAFG,CAGXL,OAAO,CAACK,IAAD,CAAP,CAHW,mFAKXJ,MAAM,cAAN,CALW,sEAAZ,qEAAP,CAQH,C,yBAED,mBAAiBE,EAAjB,CAAqB,CACjB,KAAKL,QAAL,GACA,MAAO,IAAIC,CAAAA,OAAJ,2FAAY,kBAAOC,OAAP,CAAgBC,MAAhB,2LAEYlB,CAAAA,KAAK,CAACuB,MAAN,iBAAsBH,EAAtB,EAFZ,2CAEHE,IAFG,qBAEHA,IAFG,CAGXL,OAAO,CAACK,IAAD,CAAP,CAHW,mFAKXJ,MAAM,cAAN,CALW,sEAAZ,qEAAP,CAQH,C,2GAED,kBAAuBM,GAAvB,gJACI,KAAKT,QAAL,GADJ,uBAE2Bf,CAAAA,KAAK,CAACyB,GAAN,iBAAmBD,GAAG,CAACJ,EAAvB,EAA6BI,GAA7B,CAF3B,wCAEYF,IAFZ,kBAEYA,IAFZ,kCAGWA,IAHX,+D,mMAMA,kBAAuBE,GAAvB,iJACI,KAAKT,QAAL,GADJ,uBAE2Bf,CAAAA,KAAK,CAAC0B,IAAN,UAAqBF,GAArB,CAF3B,yCAEYF,IAFZ,mBAEYA,IAFZ,kCAGWA,IAHX,+D,yHArDiBrB,U","sourcesContent":["import axios from 'axios';\n\nexport default class PetService {\n    static URL() {\n        return 'http://localhost:4000/pets';\n    }\n\n    static setToken() {\n        const token = localStorage.getItem('jwtToken');\n        axios.defaults.headers.common['Authorization'] = 'Bearer ' + token;\n    }\n\n    static getPets(species, sex, breed, age, page, showOwn, user) {\n        this.setToken();\n        return new Promise(async (resolve, reject) => {\n            try {\n                const me = `user=${user?.id ? user.id : ''}`;\n                const { data } = await axios.get(`/pets/search?${me}&species=${species}&sex=${sex}&breed=${breed}&age[]=${age}&page=${page}&showOwn=${showOwn}`);\n                resolve(data);\n            } catch (err) {\n                reject(err);\n            }\n        });\n    }\n\n    static getPet(id) {\n        this.setToken();\n        return new Promise(async (resolve, reject) => {\n            try {\n                const { data } = await axios.get(`/pets/${id}`);\n                resolve(data);\n            } catch (err) {\n                reject(err);\n            }\n        });\n    }\n\n    static deletePet(id) {\n        this.setToken();\n        return new Promise(async (resolve, reject) => {\n            try {\n                const { data } = await axios.delete(`/pets/${id}`);\n                resolve(data);\n            } catch (err) {\n                reject(err);\n            }\n        });\n    }\n\n    static async updatePet(pet) {\n        this.setToken();\n        const { data } = await axios.put(`/pets/${pet.id}`, pet);\n        return data;\n    }\n\n    static async createPet(pet) {\n        this.setToken();\n        const { data } = await axios.post(`/pets/`, pet);\n        return data;\n    }\n}\n"]},"metadata":{},"sourceType":"module"}