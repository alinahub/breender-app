{"ast":null,"code":"var _jsxFileName = \"/Users/alinaturbina/Uni Projects/seba/frontend/src/views/SearchView.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect } from 'react';\nimport { connect, useDispatch, useSelector } from 'react-redux';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { withRouter } from 'react-router-dom';\nimport FormControl from '@material-ui/core/FormControl';\nimport Select from '@material-ui/core/Select';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Typography from '@material-ui/core/Typography';\nimport Slider from '@material-ui/core/Slider';\nimport Button from '@material-ui/core/Button';\nimport { getPets } from '../redux/actions/petActions';\nimport SearchResults from '../components/SearchResults';\nimport { breeds } from 'helper/data/breeds';\nimport HomeLogo from \"images/home.svg\";\nimport { Grid } from '@material-ui/core';\nimport { useUser } from 'helper/hooks/auth.hooks';\nimport { Refresh } from '@material-ui/icons';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst useStyles = makeStyles(theme => ({\n  filters: {\n    display: 'flex',\n    flex: 1,\n    flexDirection: 'row',\n    alignItems: 'baseline',\n    justifyContent: 'center'\n  },\n  formControl: {\n    margin: theme.spacing(1),\n    minWidth: 120\n  },\n  button: {\n    margin: theme.spacing(3)\n  },\n  ageSlider: {\n    margin: theme.spacing(4),\n    width: 200\n  },\n  homeLogo: {\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n    margin: 50,\n    marginRight: 150\n  }\n}));\n\nfunction SearchView(props) {\n  _s();\n\n  var _breeds$chosenSpecies;\n\n  const classes = useStyles();\n  const dispatch = useDispatch();\n  let pets = useSelector(state => state.entities.pets);\n  let user = useUser(); // for scrolling to the search\n\n  const ref = React.useRef(null);\n  const [isLoading, setIsLoading] = React.useState(true);\n  const [chosenSpecies, setSpecies] = React.useState('');\n  const [order, setOrder] = React.useState('descending');\n  const [sex, setSex] = React.useState('');\n  const [breed, setBreed] = React.useState('');\n  const [ageRange, setAgeRange] = React.useState([0.5, 10]);\n  const sexes = ['female', 'male'];\n  const orders = ['ascending price', 'descending price', 'newest'];\n  const ageMarks = [{\n    value: 0.5,\n    label: '6 months'\n  }, {\n    value: 5,\n    label: '5 years'\n  }, {\n    value: 10,\n    label: '10 years'\n  }];\n\n  const loadPets = async () => {\n    // trigger the redux action getPets\n    pets = props.dispatch(getPets(chosenSpecies, sex, breed, ageRange, false, user));\n  };\n\n  useEffect(() => {\n    // load pets when the page is loaded or the pets were filtered.\n    if (!pets || isLoading) {\n      loadPets();\n      setIsLoading(false);\n    }\n  }, [pets]);\n\n  const updateFilters = async () => {\n    setSpecies('');\n    setSex('');\n    setBreed('');\n    setAgeRange([1, 10]);\n    pets = props.dispatch(getPets('', '', '', [0.5, 10], false, user)); //change parameters manually because values remain constant inside render and are not updated immediately\n  };\n\n  const resetFilters = async () => {\n    updateFilters();\n  };\n\n  const handleSpeciesChange = event => {\n    setSpecies(event.target.value);\n  };\n\n  const handleSexChange = event => {\n    setSex(event.target.value);\n  };\n\n  const handleBreedChange = event => {\n    setBreed(event.target.value);\n  };\n\n  const handleAgeRangeChange = (event, newRange) => {\n    setAgeRange(newRange);\n  };\n\n  const handleOrderChange = event => {\n    setOrder(event.target.value);\n  };\n\n  function agetext(age) {\n    return `${age} years old`;\n  }\n\n  const onSubscribe = () => props.history.push('/premium');\n\n  const onSearchTrigger = () => ref.current.scrollIntoView({\n    behavior: 'smooth'\n  });\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      direction: \"row\",\n      justify: \"center\",\n      children: [/*#__PURE__*/_jsxDEV(Grid, {\n        container: true,\n        spacing: 3,\n        xs: 6,\n        justify: \"center\",\n        alignItems: \"flex-end\",\n        direction: \"column\",\n        children: [/*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          justify: \"flex-start\",\n          alignItems: \"center\",\n          children: /*#__PURE__*/_jsxDEV(Typography, {\n            style: {\n              fontSize: 24\n            },\n            children: \"Find the best partner for your pet\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 139,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            variant: \"contained\",\n            color: \"primary\",\n            style: {\n              marginRight: 20\n            },\n            onClick: onSearchTrigger,\n            children: \"Search for a pet\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 142,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"contained\",\n            color: \"primary\",\n            onClick: onSubscribe,\n            children: \"Subscribe\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 145,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 6,\n        justify: \"flex-end\",\n        alignItems: \"center\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: classes.homeLogo,\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            alt: \"home\",\n            src: HomeLogo,\n            style: {\n              width: '25vw',\n              height: 'auto'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 152,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      ref: ref,\n      className: classes.filters,\n      children: [/*#__PURE__*/_jsxDEV(FormControl, {\n        className: classes.formControl,\n        children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n          id: \"species-select-label\",\n          children: \"Species\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Select, {\n          labelId: \"species-select-label\",\n          id: \"species-select\",\n          value: chosenSpecies,\n          onChange: handleSpeciesChange,\n          children: Object.keys(breeds).map(oneSpecies => /*#__PURE__*/_jsxDEV(MenuItem, {\n            value: oneSpecies,\n            children: oneSpecies\n          }, oneSpecies, false, {\n            fileName: _jsxFileName,\n            lineNumber: 161,\n            columnNumber: 29\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(FormControl, {\n        className: classes.formControl,\n        children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n          id: \"sex-select-label\",\n          children: \"Sex\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Select, {\n          labelId: \"sex-select-label\",\n          id: \"sex-select\",\n          value: sex,\n          onChange: handleSexChange,\n          children: sexes.map(sex => /*#__PURE__*/_jsxDEV(MenuItem, {\n            value: sex,\n            children: sex\n          }, sex, false, {\n            fileName: _jsxFileName,\n            lineNumber: 172,\n            columnNumber: 29\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(FormControl, {\n        className: classes.formControl,\n        children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n          id: \"breed-select-label\",\n          children: \"Breed\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Select, {\n          labelId: \"breed-select-label\",\n          id: \"breed-select\",\n          value: breed,\n          onChange: handleBreedChange,\n          children: ((_breeds$chosenSpecies = breeds[chosenSpecies]) !== null && _breeds$chosenSpecies !== void 0 ? _breeds$chosenSpecies : []).map(breed => /*#__PURE__*/_jsxDEV(MenuItem, {\n            value: breed,\n            children: breed\n          }, breed, false, {\n            fileName: _jsxFileName,\n            lineNumber: 183,\n            columnNumber: 29\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(FormControl, {\n        className: classes.formControl,\n        children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n          id: \"breed-select-label\",\n          children: \"Sort by\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Select, {\n          labelId: \"breed-select-label\",\n          id: \"sort-select\",\n          value: order,\n          onChange: handleOrderChange,\n          children: orders.map(order => /*#__PURE__*/_jsxDEV(MenuItem, {\n            value: order,\n            children: order\n          }, order, false, {\n            fileName: _jsxFileName,\n            lineNumber: 193,\n            columnNumber: 29\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.ageSlider,\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          children: \"Age Range\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Slider, {\n          value: ageRange,\n          onChange: handleAgeRangeChange,\n          valueLabelDisplay: \"auto\",\n          \"aria-labelledby\": \"range-slider\",\n          getAriaValueText: agetext,\n          min: 0.5,\n          max: 10,\n          marks: ageMarks,\n          color: \"secondary\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 202,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        className: classes.button,\n        variant: \"contained\",\n        color: \"secondary\",\n        onClick: loadPets,\n        children: \"Apply\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 215,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        className: classes.button,\n        variant: \"contained\",\n        color: \"secondary\",\n        onClick: resetFilters,\n        children: \"Reset filters\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 218,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(SearchResults, {\n      pets: pets,\n      order: order\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 222,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 135,\n    columnNumber: 9\n  }, this);\n}\n\n_s(SearchView, \"nj/IkxCAz52Q5sDl3CN4LauTkls=\", false, function () {\n  return [useStyles, useDispatch, useSelector, useUser];\n});\n\n_c = SearchView;\nexport default connect()(withRouter(SearchView));\n\nvar _c;\n\n$RefreshReg$(_c, \"SearchView\");","map":{"version":3,"sources":["/Users/alinaturbina/Uni Projects/seba/frontend/src/views/SearchView.js"],"names":["React","useEffect","connect","useDispatch","useSelector","makeStyles","withRouter","FormControl","Select","InputLabel","MenuItem","Typography","Slider","Button","getPets","SearchResults","breeds","Grid","useUser","Refresh","useStyles","theme","filters","display","flex","flexDirection","alignItems","justifyContent","formControl","margin","spacing","minWidth","button","ageSlider","width","homeLogo","marginRight","SearchView","props","classes","dispatch","pets","state","entities","user","ref","useRef","isLoading","setIsLoading","useState","chosenSpecies","setSpecies","order","setOrder","sex","setSex","breed","setBreed","ageRange","setAgeRange","sexes","orders","ageMarks","value","label","loadPets","updateFilters","resetFilters","handleSpeciesChange","event","target","handleSexChange","handleBreedChange","handleAgeRangeChange","newRange","handleOrderChange","agetext","age","onSubscribe","history","push","onSearchTrigger","current","scrollIntoView","behavior","fontSize","HomeLogo","height","Object","keys","map","oneSpecies"],"mappings":"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","sourcesContent":["import React, { useEffect } from 'react';\nimport { connect, useDispatch, useSelector } from 'react-redux';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { withRouter } from 'react-router-dom';\nimport FormControl from '@material-ui/core/FormControl';\nimport Select from '@material-ui/core/Select';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Typography from '@material-ui/core/Typography';\nimport Slider from '@material-ui/core/Slider';\nimport Button from '@material-ui/core/Button';\nimport { getPets } from '../redux/actions/petActions';\nimport SearchResults from '../components/SearchResults';\nimport { breeds } from 'helper/data/breeds';\nimport HomeLogo from 'images/home.svg';\nimport { Grid } from '@material-ui/core';\nimport { useUser } from 'helper/hooks/auth.hooks';\nimport { Refresh } from '@material-ui/icons';\n\nconst useStyles = makeStyles((theme) => ({\n    filters: {\n        display: 'flex',\n        flex: 1,\n        flexDirection: 'row',\n        alignItems: 'baseline',\n        justifyContent: 'center',\n    },\n    formControl: {\n        margin: theme.spacing(1),\n        minWidth: 120,\n    },\n    button: {\n        margin: theme.spacing(3),\n    },\n    ageSlider: {\n        margin: theme.spacing(4),\n        width: 200,\n    },\n    homeLogo: {\n        display: 'flex',\n        justifyContent: 'center',\n        alignItems: 'center',\n        margin: 50,\n        marginRight: 150,\n    },\n}));\n\nfunction SearchView(props) {\n    const classes = useStyles();\n    const dispatch = useDispatch();\n    let pets = useSelector((state) => state.entities.pets);\n    let user = useUser();\n    // for scrolling to the search\n    const ref = React.useRef(null);\n\n    const [isLoading, setIsLoading] = React.useState(true);\n    const [chosenSpecies, setSpecies] = React.useState('');\n    const [order, setOrder] = React.useState('descending');\n    const [sex, setSex] = React.useState('');\n    const [breed, setBreed] = React.useState('');\n    const [ageRange, setAgeRange] = React.useState([0.5, 10]);\n\n    const sexes = ['female', 'male'];\n    const orders = ['ascending price', 'descending price', 'newest'];\n\n    const ageMarks = [\n        {\n            value: 0.5,\n            label: '6 months',\n        },\n        {\n            value: 5,\n            label: '5 years',\n        },\n        {\n            value: 10,\n            label: '10 years',\n        },\n    ];\n\n    const loadPets = async () => {\n        // trigger the redux action getPets\n        pets = props.dispatch(getPets(chosenSpecies, sex, breed, ageRange, false, user));\n    };\n\n    useEffect(() => {\n        // load pets when the page is loaded or the pets were filtered.\n        if (!pets || isLoading) {\n            loadPets();\n            setIsLoading(false);\n        }\n    }, [pets]);\n\n    const updateFilters = async () => {\n        setSpecies('');\n        setSex('');\n        setBreed('');\n        setAgeRange([1, 10]);\n        pets = props.dispatch(getPets('', '', '', [0.5, 10], false, user)); //change parameters manually because values remain constant inside render and are not updated immediately\n    };\n\n    const resetFilters = async () => {\n        updateFilters();\n    };\n\n    const handleSpeciesChange = (event) => {\n        setSpecies(event.target.value);\n    };\n\n    const handleSexChange = (event) => {\n        setSex(event.target.value);\n    };\n\n    const handleBreedChange = (event) => {\n        setBreed(event.target.value);\n    };\n\n    const handleAgeRangeChange = (event, newRange) => {\n        setAgeRange(newRange);\n    };\n\n    const handleOrderChange = (event) => {\n        setOrder(event.target.value);\n    };\n\n    function agetext(age) {\n        return `${age} years old`;\n    }\n\n    const onSubscribe = () => props.history.push('/premium');\n\n    const onSearchTrigger = () => ref.current.scrollIntoView({ behavior: 'smooth' });\n\n    return (\n        <div>\n            <Grid container direction=\"row\" justify=\"center\">\n                <Grid container spacing={3} xs={6} justify=\"center\" alignItems=\"flex-end\" direction=\"column\">\n                    <Grid item justify=\"flex-start\" alignItems=\"center\">\n                        <Typography style={{ fontSize: 24 }}>Find the best partner for your pet</Typography>\n                    </Grid>\n                    <Grid item>\n                        <Button variant=\"contained\" color=\"primary\" style={{ marginRight: 20 }} onClick={onSearchTrigger}>\n                            Search for a pet\n                        </Button>\n                        <Button variant=\"contained\" color=\"primary\" onClick={onSubscribe}>\n                            Subscribe\n                        </Button>\n                    </Grid>\n                </Grid>\n                <Grid item xs={6} justify=\"flex-end\" alignItems=\"center\">\n                    <div className={classes.homeLogo}>\n                        <img alt=\"home\" src={HomeLogo} style={{ width: '25vw', height: 'auto' }} />\n                    </div>\n                </Grid>\n            </Grid>\n            <div ref={ref} className={classes.filters}>\n                <FormControl className={classes.formControl}>\n                    <InputLabel id=\"species-select-label\">Species</InputLabel>\n                    <Select labelId=\"species-select-label\" id=\"species-select\" value={chosenSpecies} onChange={handleSpeciesChange}>\n                        {Object.keys(breeds).map((oneSpecies) => (\n                            <MenuItem key={oneSpecies} value={oneSpecies}>\n                                {oneSpecies}\n                            </MenuItem>\n                        ))}\n                    </Select>\n                </FormControl>\n\n                <FormControl className={classes.formControl}>\n                    <InputLabel id=\"sex-select-label\">Sex</InputLabel>\n                    <Select labelId=\"sex-select-label\" id=\"sex-select\" value={sex} onChange={handleSexChange}>\n                        {sexes.map((sex) => (\n                            <MenuItem key={sex} value={sex}>\n                                {sex}\n                            </MenuItem>\n                        ))}\n                    </Select>\n                </FormControl>\n\n                <FormControl className={classes.formControl}>\n                    <InputLabel id=\"breed-select-label\">Breed</InputLabel>\n                    <Select labelId=\"breed-select-label\" id=\"breed-select\" value={breed} onChange={handleBreedChange}>\n                        {(breeds[chosenSpecies] ?? []).map((breed) => (\n                            <MenuItem key={breed} value={breed}>\n                                {breed}\n                            </MenuItem>\n                        ))}\n                    </Select>\n                </FormControl>\n                <FormControl className={classes.formControl}>\n                    <InputLabel id=\"breed-select-label\">Sort by</InputLabel>\n                    <Select labelId=\"breed-select-label\" id=\"sort-select\" value={order} onChange={handleOrderChange}>\n                        {orders.map((order) => (\n                            <MenuItem key={order} value={order}>\n                                {order}\n                            </MenuItem>\n                        ))}\n                    </Select>\n                </FormControl>\n\n                <div className={classes.ageSlider}>\n                    <Typography>Age Range</Typography>\n                    <Slider\n                        value={ageRange}\n                        onChange={handleAgeRangeChange}\n                        valueLabelDisplay=\"auto\"\n                        aria-labelledby=\"range-slider\"\n                        getAriaValueText={agetext}\n                        min={0.5}\n                        max={10}\n                        marks={ageMarks}\n                        color=\"secondary\"\n                    />\n                </div>\n\n                <Button className={classes.button} variant=\"contained\" color=\"secondary\" onClick={loadPets}>\n                    Apply\n                </Button>\n                <Button className={classes.button} variant=\"contained\" color=\"secondary\" onClick={resetFilters}>\n                    Reset filters\n                </Button>\n            </div>\n            <SearchResults pets={pets} order={order} />\n        </div>\n    );\n}\n\nexport default connect()(withRouter(SearchView));\n"]},"metadata":{},"sourceType":"module"}