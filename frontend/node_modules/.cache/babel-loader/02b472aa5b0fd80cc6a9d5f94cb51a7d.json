{"ast":null,"code":"import _slicedToArray from\"/Users/alinaturbina/Uni Projects/seba/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from'react';import PaymentInformationComponent from'../components/PaymentInformation';import{connect,useSelector}from'react-redux';import{withRouter}from'react-router-dom';import{update}from'redux/actions';import{makeStyles}from'@material-ui/core/styles';import{Paper,Typography}from'@material-ui/core';import{Result}from'antd';import cat from'../images/cat.png';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var useStyles=makeStyles(function(theme){return{root:{margin:'auto'},paper:{width:'1000px',height:'425px',padding:theme.spacing(2)},active:{color:'#D37F65'},completed:{color:'#D37F65',zIndex:1,fontSize:18}};});/**\n * For presenting and choosing subscription plan and paying with PayPal\n * @param {props} props\n */function ChangeToPremiumView(props){var classes=useStyles();var user=useSelector(function(state){return state.user;});var _React$useState=React.useState(true),_React$useState2=_slicedToArray(_React$useState,2),paymentProcessed=_React$useState2[0],setPaymentProcessed=_React$useState2[1];var _React$useState3=React.useState(false),_React$useState4=_slicedToArray(_React$useState3,2),status=_React$useState4[0],setStatus=_React$useState4[1];var payments=[{description:'4.99€ for 1 month',plan:'1mo',price:'4.99'},{description:'12,99€ for 3 months',plan:'3mo',price:'12.99'},{description:'22,99€ for 6 months',plan:'6mo',price:'22.99'},{description:'34,99€ for 1 year',plan:'1yr',price:'34.99'}];var _React$useState5=React.useState('4.99'),_React$useState6=_slicedToArray(_React$useState5,2),chosenPayment=_React$useState6[0],setChosenPayment=_React$useState6[1];var values={chosenPayment:chosenPayment};function changeSubscriptionPlanToPremium(plan,paymentMethod){var onSuccess=function onSuccess(){setPaymentProcessed(false);setStatus(true);setTimeout(function(){props.history.push('/');},2000);};var onError=function onError(){setPaymentProcessed(false);setStatus(false);setTimeout(function(){props.history.push('/');},1000);};props.dispatch(update(user.userInfo.id,'premium',plan,paymentMethod,onSuccess,onError));}var prevStep=function prevStep(){props.history.push('/pricing');};function handleChange(input,event){setChosenPayment(event.target.value);}return paymentProcessed?/*#__PURE__*/_jsx(PaymentInformationComponent,{payments:payments,handleChange:handleChange,values:values,onSuccess:changeSubscriptionPlanToPremium,user:user,prevStep:prevStep}):/*#__PURE__*/_jsx(\"div\",{className:classes.root,align:\"center\",children:/*#__PURE__*/_jsxs(Paper,{className:classes.paper,children:[status?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Result,{status:\"success\",title:\"Congratulations!\"}),\" \",/*#__PURE__*/_jsx(Typography,{variant:\"h5\",children:\"You will be redirected to home page shortly.\"})]}):/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Result,{status:\"warning\",title:\"Something went wrong :(\"}),/*#__PURE__*/_jsx(Typography,{variant:\"h5\",children:\"There was a problem in changing your plan. Please try again later or contact our customer service.\"})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"img\",{src:cat,alt:\"cat\"})})]})});}export default connect()(withRouter(ChangeToPremiumView));","map":{"version":3,"sources":["/Users/alinaturbina/Uni Projects/seba/frontend/src/views/ChangeToPremiumView.js"],"names":["React","PaymentInformationComponent","connect","useSelector","withRouter","update","makeStyles","Paper","Typography","Result","cat","useStyles","theme","root","margin","paper","width","height","padding","spacing","active","color","completed","zIndex","fontSize","ChangeToPremiumView","props","classes","user","state","useState","paymentProcessed","setPaymentProcessed","status","setStatus","payments","description","plan","price","chosenPayment","setChosenPayment","values","changeSubscriptionPlanToPremium","paymentMethod","onSuccess","setTimeout","history","push","onError","dispatch","userInfo","id","prevStep","handleChange","input","event","target","value"],"mappings":"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","sourcesContent":["import React from 'react';\nimport PaymentInformationComponent from '../components/PaymentInformation';\nimport { connect, useSelector } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\nimport { update } from 'redux/actions';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Paper, Typography } from '@material-ui/core';\nimport { Result } from 'antd';\nimport cat from '../images/cat.png';\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        margin: 'auto',\n    },\n    paper: {\n        width: '1000px',\n        height: '425px',\n        padding: theme.spacing(2),\n    },\n    active: {\n        color: '#D37F65',\n    },\n    completed: {\n        color: '#D37F65',\n        zIndex: 1,\n        fontSize: 18,\n    },\n}));\n/**\n * For presenting and choosing subscription plan and paying with PayPal\n * @param {props} props\n */\nfunction ChangeToPremiumView(props) {\n    const classes = useStyles();\n\n    const user = useSelector((state) => state.user);\n    const [paymentProcessed, setPaymentProcessed] = React.useState(true);\n    const [status, setStatus] = React.useState(false);\n\n    const payments = [\n        { description: '4.99€ for 1 month', plan: '1mo', price: '4.99' },\n        { description: '12,99€ for 3 months', plan: '3mo', price: '12.99' },\n        { description: '22,99€ for 6 months', plan: '6mo', price: '22.99' },\n        { description: '34,99€ for 1 year', plan: '1yr', price: '34.99' },\n    ];\n\n    const [chosenPayment, setChosenPayment] = React.useState('4.99');\n\n    const values = { chosenPayment };\n\n    function changeSubscriptionPlanToPremium(plan, paymentMethod) {\n        const onSuccess = () => {\n            setPaymentProcessed(false);\n            setStatus(true);\n            setTimeout(function () {\n                props.history.push('/');\n            }, 2000);\n        };\n\n        const onError = () => {\n            setPaymentProcessed(false);\n            setStatus(false);\n            setTimeout(function () {\n                props.history.push('/');\n            }, 1000);\n        };\n\n        props.dispatch(update(user.userInfo.id, 'premium', plan, paymentMethod, onSuccess, onError));\n    }\n\n    const prevStep = () => {\n        props.history.push('/pricing');\n    };\n\n    function handleChange(input, event) {\n        setChosenPayment(event.target.value);\n    }\n\n    return paymentProcessed ? (\n        <PaymentInformationComponent payments={payments} handleChange={handleChange} values={values} onSuccess={changeSubscriptionPlanToPremium} user={user} prevStep={prevStep} />\n    ) : (\n        <div className={classes.root} align=\"center\">\n            <Paper className={classes.paper}>\n                {status ? (\n                    <div>\n                        <Result status=\"success\" title=\"Congratulations!\" /> <Typography variant=\"h5\">You will be redirected to home page shortly.</Typography>\n                    </div>\n                ) : (\n                    <div>\n                        <Result status=\"warning\" title=\"Something went wrong :(\" />\n                        <Typography variant=\"h5\">There was a problem in changing your plan. Please try again later or contact our customer service.</Typography>\n                    </div>\n                )}\n                <div>\n                    <img src={cat} alt=\"cat\" />\n                </div>\n            </Paper>\n        </div>\n    );\n}\n\nexport default connect()(withRouter(ChangeToPremiumView));\n"]},"metadata":{},"sourceType":"module"}