{"ast":null,"code":"import HttpService from './HttpService';\nimport axios from 'axios';\nexport default class UserService {\n  static baseURL() {\n    return 'http://localhost:4000/auth';\n  }\n\n  static setToken() {\n    const token = localStorage.getItem('jwtToken');\n    axios.defaults.headers.common['Authorization'] = 'Bearer ' + token;\n  }\n\n  static register(email, user, pass, city, province, isAdmin, subscriptionPlan, paymentPlan, paymentMethod) {\n    return new Promise((resolve, reject) => {\n      HttpService.post(`${UserService.baseURL()}/register`, {\n        username: user,\n        password: pass,\n        isAdmin: isAdmin,\n        email: email,\n        city: city,\n        province: province,\n        subscriptionPlan: subscriptionPlan,\n        paymentPlan: paymentPlan,\n        paymentMethod: paymentMethod\n      }, function (data) {\n        resolve(data);\n      }, function (textStatus) {\n        reject(textStatus);\n      });\n    });\n  }\n\n  static checkUser(email, username, isAdmin) {\n    return new Promise((resolve, reject) => {\n      HttpService.get(`${UserService.baseURL()}/checkUser/${email}/${username}/${isAdmin}`, function (data) {\n        resolve(data);\n      }, function (textStatus) {\n        reject(textStatus);\n      });\n    });\n  }\n\n  static confirmEmail(email, token) {\n    return new Promise((resolve, reject) => {\n      HttpService.get(`${UserService.baseURL()}/confirmation/${email}/${token}`, function (data) {\n        resolve(data);\n      }, function (textStatus) {\n        reject(textStatus);\n      });\n    });\n  }\n\n  static login(user, pass) {\n    return new Promise((resolve, reject) => {\n      HttpService.post(`${UserService.baseURL()}/login`, {\n        username: user,\n        password: pass\n      }, function (data) {\n        resolve(data);\n      }, function (textStatus) {\n        reject(textStatus);\n      });\n    });\n  }\n\n  static async getLoggedInUser(id) {\n    this.setToken();\n    const {\n      data\n    } = await axios.get(`/auth/me/${id}`);\n    console.log(data);\n    return data;\n  }\n\n  static logout() {\n    window.localStorage.removeItem('jwtToken');\n  }\n\n}","map":{"version":3,"sources":["/Users/alinaturbina/Uni Projects/seba/frontend/src/services/UserService.js"],"names":["HttpService","axios","UserService","baseURL","setToken","token","localStorage","getItem","defaults","headers","common","register","email","user","pass","city","province","isAdmin","subscriptionPlan","paymentPlan","paymentMethod","Promise","resolve","reject","post","username","password","data","textStatus","checkUser","get","confirmEmail","login","getLoggedInUser","id","console","log","logout","window","removeItem"],"mappings":"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","sourcesContent":["import HttpService from './HttpService';\nimport axios from 'axios';\n\nexport default class UserService {\n    static baseURL() {\n        return 'http://localhost:4000/auth';\n    }\n\n    static setToken() {\n        const token = localStorage.getItem('jwtToken');\n        axios.defaults.headers.common['Authorization'] = 'Bearer ' + token;\n    }\n\n    static register(email, user, pass, city, province, isAdmin, subscriptionPlan, paymentPlan, paymentMethod) {\n        return new Promise((resolve, reject) => {\n            HttpService.post(\n                `${UserService.baseURL()}/register`,\n                {\n                    username: user,\n                    password: pass,\n                    isAdmin: isAdmin,\n                    email: email,\n                    city: city,\n                    province: province,\n                    subscriptionPlan: subscriptionPlan,\n                    paymentPlan: paymentPlan,\n                    paymentMethod: paymentMethod,\n                },\n                function (data) {\n                    resolve(data);\n                },\n                function (textStatus) {\n                    reject(textStatus);\n                }\n            );\n        });\n    }\n\n    static checkUser(email, username, isAdmin) {\n        return new Promise((resolve, reject) => {\n            HttpService.get(\n                `${UserService.baseURL()}/checkUser/${email}/${username}/${isAdmin}`,\n                function (data) {\n                    resolve(data);\n                },\n                function (textStatus) {\n                    reject(textStatus);\n                }\n            );\n        });\n    }\n\n    static confirmEmail(email, token) {\n        return new Promise((resolve, reject) => {\n            HttpService.get(\n                `${UserService.baseURL()}/confirmation/${email}/${token}`,\n                function (data) {\n                    resolve(data);\n                },\n                function (textStatus) {\n                    reject(textStatus);\n                }\n            );\n        });\n    }\n\n    static login(user, pass) {\n        return new Promise((resolve, reject) => {\n            HttpService.post(\n                `${UserService.baseURL()}/login`,\n                {\n                    username: user,\n                    password: pass,\n                },\n                function (data) {\n                    resolve(data);\n                },\n                function (textStatus) {\n                    reject(textStatus);\n                }\n            );\n        });\n    }\n\n    static async getLoggedInUser(id) {\n        this.setToken();\n        const { data } = await axios.get(`/auth/me/${id}`);\n        console.log(data)\n        return data;\n    }\n\n    static logout() {\n        window.localStorage.removeItem('jwtToken');\n    }\n}\n"]},"metadata":{},"sourceType":"module"}