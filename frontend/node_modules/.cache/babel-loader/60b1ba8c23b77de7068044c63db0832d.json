{"ast":null,"code":"var _jsxFileName = \"/Users/alinaturbina/Uni Projects/seba/frontend/src/components/user-profile/UserForm.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { FormControl, Grid, InputLabel, Button, MenuItem, Select, TextField, FormHelperText, Divider, Typography } from '@material-ui/core';\nimport * as EmailValidator from 'email-validator';\nimport { Tooltip } from 'antd';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst useStyles = makeStyles(theme => ({\n  layout: {\n    flex: 1,\n    width: 'auto',\n    maxWidth: '80%',\n    marginLeft: '10%',\n    marginRight: '10%'\n  },\n  paper: {\n    marginTop: theme.spacing(6),\n    marginBottom: theme.spacing(6),\n    padding: theme.spacing(3),\n    [theme.breakpoints.down('sm')]: {\n      marginTop: theme.spacing(3),\n      marginBottom: theme.spacing(3),\n      padding: theme.spacing(2)\n    }\n  },\n  label: {\n    display: 'flex',\n    fontSize: 16,\n    fontWeight: 500,\n    marginBottom: 15,\n    marginTop: 15\n  },\n  title: {\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n    fontSize: 22,\n    fontWeight: 500,\n    marginBottom: 15,\n    marginTop: 15\n  },\n  typography: {\n    margin: theme.spacing(2),\n    marginTop: theme.spacing(6)\n  },\n  divider: {\n    margin: theme.spacing(3)\n  },\n  typographyNotifications: {\n    padding: theme.spacing(2),\n    margin: 'auto'\n  }\n})); // define types for error handling\n\nconst UserFormInputs = {\n  username: 'username',\n  province: 'province',\n  city: 'city',\n  password: 'password',\n  password2: 'password2',\n  paymentEmail: 'paymentEmail'\n};\nconst provincesAndCities = {\n  bavaria: ['Munich', 'Nuremberg', 'Augsburg', 'Regensburg', 'Ingolstadt', 'Würzburg'],\n  'lower-saxony': ['Hanover', 'Braunschweig', 'Oldenburg', 'Osnabrück', 'Wolfsburg', 'Göttingen'],\n  'baden-wuerttemberg': ['Stuttgart', 'Karlsruhe', 'Mannheim', 'Freiburg im Breisgau', 'Heidelberg', 'Ulm'],\n  'north-rhine-westphalia': ['Cologne', 'Düsseldorf', 'Dortmund', 'Essen', 'Duisburg', 'Bochum']\n};\nexport default function UserForm({\n  usernameProp,\n  emailProp,\n  provinceProp,\n  cityProp,\n  passwordProp,\n  password2Prop,\n  paymentMethodProp,\n  disableSaveProp,\n  ...props\n}) {\n  _s();\n\n  const classes = useStyles();\n  const history = useHistory();\n  const {\n    username,\n    setUsername\n  } = usernameProp;\n  const {\n    email,\n    setEmail\n  } = emailProp;\n  const {\n    province,\n    setProvince\n  } = provinceProp;\n  const {\n    city,\n    setCity\n  } = cityProp;\n  const [errors, setErrors] = useState({\n    username: false,\n    province: false,\n    city: false,\n    password: false,\n    password2: false,\n    paymentEmail: false\n  });\n  const {\n    password,\n    setPassword\n  } = passwordProp;\n  const {\n    password2,\n    setPassword2\n  } = password2Prop;\n  const {\n    paymentMethod,\n    setPaymentMethod\n  } = paymentMethodProp;\n  const [type, setType] = React.useState('PayPal');\n  const {\n    disableSave,\n    setDisableSave\n  } = disableSaveProp;\n  var paymentEmail = paymentMethod ? paymentMethod.email : '';\n  const validationErrors = {\n    username: 'Userame is required',\n    province: 'Province is required',\n    city: 'City is required',\n    password: 'The passwords should be the same',\n    password2: 'The passwords should be the same',\n    paymentEmail: 'Email is not valid'\n  };\n  let cityOptions = null;\n\n  if (province) {\n    cityOptions = provincesAndCities[province].map(elem => /*#__PURE__*/_jsxDEV(MenuItem, {\n      value: elem,\n      children: elem\n    }, elem, false, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 13\n    }, this));\n  } // validate fields\n\n\n  const validate = (type, value) => {\n    let temp = { ...errors\n    };\n\n    if (type !== UserFormInputs.password && type !== UserFormInputs.password2 && value === '') {\n      temp[type] = true;\n    } else {\n      temp[type] = false;\n    }\n\n    if (type === UserFormInputs.password2) {\n      if (value !== '' && value !== password) {\n        temp[type] = true;\n        temp[UserFormInputs.password] = true;\n      } else {\n        temp[type] = false;\n        temp[UserFormInputs.password] = false;\n      }\n    }\n\n    if (type === UserFormInputs.paymentEmail) {\n      if (value !== '' && !EmailValidator.validate(value)) {\n        temp[type] = true;\n      } else {\n        temp[type] = false;\n      }\n    }\n\n    let values = Object.keys(temp).map(function (key) {\n      return temp[key];\n    });\n\n    if (values.every(element => element === false)) {\n      setDisableSave(false);\n    } else {\n      setDisableSave(true);\n    }\n\n    setErrors({ ...temp\n    });\n  }; // handle variable changes\n\n\n  const handleUsernameChange = e => {\n    validate(UserFormInputs.username, e.target.value);\n    setUsername(e.target.value);\n  };\n\n  const handleProvinceChange = e => {\n    validate(UserFormInputs.province, e.target.value);\n    setProvince(e.target.value);\n  };\n\n  const handleCityChange = e => {\n    validate(UserFormInputs.city, e.target.value);\n    setCity(e.target.value);\n  };\n\n  const handlePasswordChange = e => {\n    validate(UserFormInputs.password, e.target.value);\n    setPassword(e.target.value);\n  };\n\n  const handlePassword2Change = e => {\n    validate(UserFormInputs.password2, e.target.value);\n    setPassword2(e.target.value);\n  };\n\n  const handleTypeChange = e => {\n    setType(e.target.value);\n  };\n\n  const handlePaymentEmailChange = e => {\n    validate(UserFormInputs.paymentEmail, e.target.value);\n    paymentEmail = e.target.value;\n\n    if (paymentEmail === '') {\n      setPaymentMethod(null);\n    } else {\n      setPaymentMethod({\n        type: type,\n        email: e.target.value\n      });\n    }\n  };\n\n  const handleChangeSubscriptionPlan = e => {\n    history.push('/pricing');\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: classes.layout,\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      autoComplete: \"off\",\n      children: /*#__PURE__*/_jsxDEV(React.Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(Grid, {\n          container: true,\n          spacing: 3,\n          children: [/*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 12,\n            children: /*#__PURE__*/_jsxDEV(TextField, {\n              size: \"small\",\n              required: true,\n              id: \"username\",\n              name: \"username\",\n              value: username,\n              onChange: handleUsernameChange,\n              onBlur: handleUsernameChange,\n              label: \"Username\",\n              variant: \"outlined\",\n              fullWidth: true,\n              ...(errors[UserFormInputs.username] && {\n                error: true,\n                helperText: validationErrors[UserFormInputs.username]\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 194,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 193,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 12,\n            children: /*#__PURE__*/_jsxDEV(TextField, {\n              size: \"small\",\n              disabled: true,\n              id: \"email\",\n              name: \"email\",\n              value: email,\n              label: \"Email\",\n              variant: \"outlined\",\n              fullWidth: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 209,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 208,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 12,\n            sm: 6,\n            children: /*#__PURE__*/_jsxDEV(FormControl, {\n              required: true,\n              variant: \"outlined\",\n              size: \"small\",\n              fullWidth: true,\n              error: errors[UserFormInputs.province],\n              children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n                children: \"State/Province\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 222,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(Select, {\n                label: \"State/Province\",\n                value: province,\n                onChange: handleProvinceChange,\n                children: [/*#__PURE__*/_jsxDEV(MenuItem, {\n                  value: 'bavaria',\n                  children: \"Bavaria\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 224,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                  value: 'lower-saxony',\n                  children: \"Lower Saxony\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 225,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                  value: 'baden-wuerttemberg',\n                  children: \"Baden-W\\xFCrttemberg\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 226,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                  value: 'north-rhine-westphalia',\n                  children: \"North Rhine-Westphalia\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 227,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 223,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(FormHelperText, {\n                children: errors[UserFormInputs.province] && validationErrors[UserFormInputs.province]\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 229,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 221,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 220,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 12,\n            sm: 6,\n            children: /*#__PURE__*/_jsxDEV(FormControl, {\n              required: true,\n              variant: \"outlined\",\n              size: \"small\",\n              fullWidth: true,\n              error: errors[UserFormInputs.city],\n              children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n                children: \"City\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 234,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(Select, {\n                label: \"City\",\n                value: city,\n                onChange: handleCityChange,\n                children: cityOptions\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 235,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(FormHelperText, {\n                children: errors[UserFormInputs.city] && validationErrors[UserFormInputs.city]\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 238,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 233,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 232,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 12,\n            sm: 6,\n            children: /*#__PURE__*/_jsxDEV(FormControl, {\n              required: true,\n              variant: \"outlined\",\n              size: \"small\",\n              fullWidth: true,\n              error: errors[UserFormInputs.province],\n              children: /*#__PURE__*/_jsxDEV(TextField, {\n                size: \"small\",\n                label: \"New Password\",\n                fullWidth: true,\n                value: password,\n                onChange: handlePasswordChange,\n                type: \"password\",\n                variant: \"outlined\",\n                ...(errors[UserFormInputs.password] && {\n                  error: true,\n                  helperText: validationErrors[UserFormInputs.password]\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 243,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 242,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 241,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 12,\n            sm: 6,\n            children: /*#__PURE__*/_jsxDEV(FormControl, {\n              required: true,\n              variant: \"outlined\",\n              size: \"small\",\n              fullWidth: true,\n              error: errors[UserFormInputs.city],\n              children: /*#__PURE__*/_jsxDEV(TextField, {\n                size: \"small\",\n                label: \"Repeat new Password\",\n                fullWidth: true,\n                value: password2,\n                onChange: handlePassword2Change,\n                type: \"password\",\n                variant: \"outlined\",\n                ...(errors[UserFormInputs.password2] && {\n                  error: true,\n                  helperText: validationErrors[UserFormInputs.password2]\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 256,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 255,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 254,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 12,\n            sm: 6,\n            children: /*#__PURE__*/_jsxDEV(TextField, {\n              size: \"small\",\n              disabled: true,\n              id: \"plan\",\n              name: \"plan\",\n              value: props.subscriptionPlan === 'premium' ? \"Premium\" : \"Basic\",\n              label: \"Pricing\",\n              variant: \"outlined\",\n              fullWidth: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 268,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 267,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 12,\n            sm: 6,\n            children: props.subscriptionPlan === 'premium' ? /*#__PURE__*/_jsxDEV(Tooltip, {\n              trigger: \"hover\",\n              placement: \"top\",\n              title: \"After your premium subscription ends your plan will be automatically switched to free.\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                children: /*#__PURE__*/_jsxDEV(Button, {\n                  style: {\n                    margin: '0 auto',\n                    display: \"flex\",\n                    pointerEvents: 'none'\n                  },\n                  variant: \"contained\",\n                  color: \"secondary\",\n                  onClick: handleChangeSubscriptionPlan,\n                  disabled: props.subscriptionPlan === 'premium',\n                  children: \"Adjust the plan\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 283,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 282,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 281,\n              columnNumber: 33\n            }, this) : /*#__PURE__*/_jsxDEV(Button, {\n              style: {\n                margin: '0 auto',\n                display: \"flex\"\n              },\n              variant: \"contained\",\n              color: \"secondary\",\n              onClick: handleChangeSubscriptionPlan,\n              disabled: props.subscriptionPlan === 'premium',\n              children: \"Adjust the plan\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 288,\n              columnNumber: 35\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 279,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Divider, {\n          variant: \"middle\",\n          className: classes.divider\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 293,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          className: classes.typography,\n          variant: \"h6\",\n          align: \"center\",\n          style: {\n            fontWeight: 600\n          },\n          children: \"Payment method\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 294,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          container: true,\n          direction: \"row\",\n          spacing: 3,\n          item: true,\n          children: [/*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 12,\n            sm: 6,\n            children: /*#__PURE__*/_jsxDEV(FormControl, {\n              required: true,\n              variant: \"outlined\",\n              size: \"small\",\n              fullWidth: true,\n              children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n                children: \"Payment type\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 300,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(Select, {\n                label: \"Payment type\",\n                value: type,\n                onChange: handleTypeChange,\n                children: /*#__PURE__*/_jsxDEV(MenuItem, {\n                  value: 'PayPal',\n                  children: \"PayPal\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 302,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 301,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 299,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 298,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 12,\n            sm: 6,\n            children: /*#__PURE__*/_jsxDEV(FormControl, {\n              required: true,\n              variant: \"outlined\",\n              size: \"small\",\n              fullWidth: true,\n              error: errors[UserFormInputs.paymentEmail],\n              children: /*#__PURE__*/_jsxDEV(TextField, {\n                size: \"small\",\n                label: \"Payment Email\",\n                fullWidth: true,\n                value: paymentEmail,\n                onChange: handlePaymentEmailChange,\n                type: \"paymentEmail\",\n                variant: \"outlined\",\n                ...(errors[UserFormInputs.paymentEmail] && {\n                  error: true,\n                  helperText: validationErrors[UserFormInputs.paymentEmail]\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 308,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 307,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 306,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 297,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 189,\n    columnNumber: 9\n  }, this);\n}\n\n_s(UserForm, \"1ZDL919z+MusWaZK0ZQhl97Z/f0=\", false, function () {\n  return [useStyles, useHistory];\n});\n\n_c = UserForm;\n\nvar _c;\n\n$RefreshReg$(_c, \"UserForm\");","map":{"version":3,"sources":["/Users/alinaturbina/Uni Projects/seba/frontend/src/components/user-profile/UserForm.js"],"names":["React","useState","useHistory","makeStyles","FormControl","Grid","InputLabel","Button","MenuItem","Select","TextField","FormHelperText","Divider","Typography","EmailValidator","Tooltip","useStyles","theme","layout","flex","width","maxWidth","marginLeft","marginRight","paper","marginTop","spacing","marginBottom","padding","breakpoints","down","label","display","fontSize","fontWeight","title","justifyContent","alignItems","typography","margin","divider","typographyNotifications","UserFormInputs","username","province","city","password","password2","paymentEmail","provincesAndCities","bavaria","UserForm","usernameProp","emailProp","provinceProp","cityProp","passwordProp","password2Prop","paymentMethodProp","disableSaveProp","props","classes","history","setUsername","email","setEmail","setProvince","setCity","errors","setErrors","setPassword","setPassword2","paymentMethod","setPaymentMethod","type","setType","disableSave","setDisableSave","validationErrors","cityOptions","map","elem","validate","value","temp","values","Object","keys","key","every","element","handleUsernameChange","e","target","handleProvinceChange","handleCityChange","handlePasswordChange","handlePassword2Change","handleTypeChange","handlePaymentEmailChange","handleChangeSubscriptionPlan","push","error","helperText","subscriptionPlan","pointerEvents"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { FormControl, Grid, InputLabel, Button, MenuItem, Select, TextField, FormHelperText, Divider, Typography } from '@material-ui/core';\nimport * as EmailValidator from 'email-validator';\nimport { Tooltip } from 'antd';\n\nconst useStyles = makeStyles((theme) => ({\n    layout: {\n        flex: 1,\n        width: 'auto',\n        maxWidth: '80%',\n        marginLeft: '10%',\n        marginRight: '10%',\n    },\n    paper: {\n        marginTop: theme.spacing(6),\n        marginBottom: theme.spacing(6),\n        padding: theme.spacing(3),\n        [theme.breakpoints.down('sm')]: {\n            marginTop: theme.spacing(3),\n            marginBottom: theme.spacing(3),\n            padding: theme.spacing(2),\n        },\n    },\n    label: {\n        display: 'flex',\n        fontSize: 16,\n        fontWeight: 500,\n        marginBottom: 15,\n        marginTop: 15,\n    },\n    title: {\n        display: 'flex',\n        justifyContent: 'center',\n        alignItems: 'center',\n        fontSize: 22,\n        fontWeight: 500,\n        marginBottom: 15,\n        marginTop: 15,\n    },\n    typography: {\n        margin: theme.spacing(2),\n        marginTop: theme.spacing(6),\n    },\n    divider: {\n        margin: theme.spacing(3),\n    },\n    typographyNotifications: {\n        padding: theme.spacing(2),\n        margin: 'auto',\n    },\n}));\n\n// define types for error handling\nconst UserFormInputs = {\n    username: 'username',\n    province: 'province',\n    city: 'city',\n    password: 'password',\n    password2: 'password2',\n    paymentEmail: 'paymentEmail',\n};\n\nconst provincesAndCities = {\n    bavaria: ['Munich', 'Nuremberg', 'Augsburg', 'Regensburg', 'Ingolstadt', 'Würzburg'],\n    'lower-saxony': ['Hanover', 'Braunschweig', 'Oldenburg', 'Osnabrück', 'Wolfsburg', 'Göttingen'],\n    'baden-wuerttemberg': ['Stuttgart', 'Karlsruhe', 'Mannheim', 'Freiburg im Breisgau', 'Heidelberg', 'Ulm'],\n    'north-rhine-westphalia': ['Cologne', 'Düsseldorf', 'Dortmund', 'Essen', 'Duisburg', 'Bochum'],\n};\n\nexport default function UserForm({ usernameProp, emailProp, provinceProp, cityProp, passwordProp, password2Prop, paymentMethodProp, disableSaveProp, ...props }) {\n    const classes = useStyles();\n    const history = useHistory();\n    const { username, setUsername } = usernameProp;\n    const { email, setEmail } = emailProp;\n    const { province, setProvince } = provinceProp;\n    const { city, setCity } = cityProp;\n    const [errors, setErrors] = useState({ username: false, province: false, city: false, password: false, password2: false, paymentEmail: false });\n    const { password, setPassword } = passwordProp;\n    const { password2, setPassword2 } = password2Prop;\n    const { paymentMethod, setPaymentMethod } = paymentMethodProp;\n    const [type, setType] = React.useState('PayPal');\n    const { disableSave, setDisableSave } = disableSaveProp;\n    var paymentEmail = paymentMethod ? paymentMethod.email : '';\n\n    const validationErrors = {\n        username: 'Userame is required',\n        province: 'Province is required',\n        city: 'City is required',\n        password: 'The passwords should be the same',\n        password2: 'The passwords should be the same',\n        paymentEmail: 'Email is not valid',\n    };\n\n    let cityOptions = null;\n\n    if (province) {\n        cityOptions = provincesAndCities[province].map((elem) => (\n            <MenuItem key={elem} value={elem}>\n                {elem}\n            </MenuItem>\n        ));\n    }\n\n    // validate fields\n    const validate = (type, value) => {\n        let temp = { ...errors };\n        if (type !== UserFormInputs.password && type !== UserFormInputs.password2 && value === '') {\n            temp[type] = true;\n        } else {\n            temp[type] = false;\n        }\n\n        if (type === UserFormInputs.password2) {\n            if (value !== '' && value !== password) {\n                temp[type] = true;\n                temp[UserFormInputs.password] = true;\n            } else {\n                temp[type] = false;\n                temp[UserFormInputs.password] = false;\n            }\n        }\n\n        if (type === UserFormInputs.paymentEmail) {\n            if (value !== '' && !EmailValidator.validate(value)) {\n                temp[type] = true;\n            } else {\n                temp[type] = false;\n            }\n        }\n\n        let values = Object.keys(temp).map(function (key) {\n            return temp[key];\n        });\n\n        if (values.every(element => element === false)) {\n            setDisableSave(false);\n        } else {\n            setDisableSave(true);\n        }\n        setErrors({ ...temp });\n    };\n\n    // handle variable changes\n    const handleUsernameChange = (e) => {\n        validate(UserFormInputs.username, e.target.value);\n        setUsername(e.target.value);\n    };\n    const handleProvinceChange = (e) => {\n        validate(UserFormInputs.province, e.target.value);\n        setProvince(e.target.value);\n    };\n    const handleCityChange = (e) => {\n        validate(UserFormInputs.city, e.target.value);\n        setCity(e.target.value);\n    };\n\n    const handlePasswordChange = (e) => {\n        validate(UserFormInputs.password, e.target.value);\n        setPassword(e.target.value);\n    };\n\n    const handlePassword2Change = (e) => {\n        validate(UserFormInputs.password2, e.target.value);\n        setPassword2(e.target.value);\n    };\n\n    const handleTypeChange = (e) => {\n        setType(e.target.value);\n    };\n\n    const handlePaymentEmailChange = (e) => {\n        validate(UserFormInputs.paymentEmail, e.target.value);\n        paymentEmail = e.target.value;\n        if (paymentEmail === '') {\n            setPaymentMethod(null);\n        } else {\n            setPaymentMethod({ type: type, email: e.target.value });\n        }\n    }\n\n    const handleChangeSubscriptionPlan = (e) => {\n        history.push('/pricing');\n    };\n\n\n    return (\n        <div className={classes.layout}>\n            <form autoComplete=\"off\">\n                <React.Fragment>\n                    <Grid container spacing={3}>\n                        <Grid item xs={12}>\n                            <TextField\n                                size=\"small\"\n                                required\n                                id=\"username\"\n                                name=\"username\"\n                                value={username}\n                                onChange={handleUsernameChange}\n                                onBlur={handleUsernameChange}\n                                label=\"Username\"\n                                variant=\"outlined\"\n                                fullWidth\n                                {...(errors[UserFormInputs.username] && { error: true, helperText: validationErrors[UserFormInputs.username] })}\n                            />\n                        </Grid>\n                        <Grid item xs={12}>\n                            <TextField\n                                size=\"small\"\n                                disabled\n                                id=\"email\"\n                                name=\"email\"\n                                value={email}\n                                label=\"Email\"\n                                variant=\"outlined\"\n                                fullWidth\n                            />\n                        </Grid>\n                        <Grid item xs={12} sm={6}>\n                            <FormControl required variant=\"outlined\" size=\"small\" fullWidth error={errors[UserFormInputs.province]}>\n                                <InputLabel>State/Province</InputLabel>\n                                <Select label=\"State/Province\" value={province} onChange={handleProvinceChange}>\n                                    <MenuItem value={'bavaria'}>Bavaria</MenuItem>\n                                    <MenuItem value={'lower-saxony'}>Lower Saxony</MenuItem>\n                                    <MenuItem value={'baden-wuerttemberg'}>Baden-Württemberg</MenuItem>\n                                    <MenuItem value={'north-rhine-westphalia'}>North Rhine-Westphalia</MenuItem>\n                                </Select>\n                                <FormHelperText>{errors[UserFormInputs.province] && validationErrors[UserFormInputs.province]}</FormHelperText>\n                            </FormControl>\n                        </Grid>\n                        <Grid item xs={12} sm={6}>\n                            <FormControl required variant=\"outlined\" size=\"small\" fullWidth error={errors[UserFormInputs.city]}>\n                                <InputLabel>City</InputLabel>\n                                <Select label=\"City\" value={city} onChange={handleCityChange}>\n                                    {cityOptions}\n                                </Select>\n                                <FormHelperText>{errors[UserFormInputs.city] && validationErrors[UserFormInputs.city]}</FormHelperText>\n                            </FormControl>\n                        </Grid>\n                        <Grid item xs={12} sm={6}>\n                            <FormControl required variant=\"outlined\" size=\"small\" fullWidth error={errors[UserFormInputs.province]}>\n                                <TextField\n                                    size=\"small\"\n                                    label=\"New Password\"\n                                    fullWidth\n                                    value={password}\n                                    onChange={handlePasswordChange}\n                                    type=\"password\"\n                                    variant=\"outlined\"\n                                    {...(errors[UserFormInputs.password] && { error: true, helperText: validationErrors[UserFormInputs.password] })} />\n                            </FormControl>\n                        </Grid>\n                        <Grid item xs={12} sm={6}>\n                            <FormControl required variant=\"outlined\" size=\"small\" fullWidth error={errors[UserFormInputs.city]}>\n                                <TextField\n                                    size=\"small\"\n                                    label=\"Repeat new Password\"\n                                    fullWidth\n                                    value={password2}\n                                    onChange={handlePassword2Change}\n                                    type=\"password\"\n                                    variant=\"outlined\"\n                                    {...(errors[UserFormInputs.password2] && { error: true, helperText: validationErrors[UserFormInputs.password2] })} />\n                            </FormControl>\n                        </Grid>\n                        <Grid item xs={12} sm={6}>\n                            <TextField\n                                size=\"small\"\n                                disabled\n                                id=\"plan\"\n                                name=\"plan\"\n                                value={props.subscriptionPlan === 'premium' ? \"Premium\" : \"Basic\"}\n                                label=\"Pricing\"\n                                variant=\"outlined\"\n                                fullWidth\n                            />\n                        </Grid>\n                        <Grid item xs={12} sm={6}>\n                            {props.subscriptionPlan === 'premium' ?\n                                <Tooltip trigger=\"hover\" placement=\"top\" title={\"After your premium subscription ends your plan will be automatically switched to free.\"}>\n                                    <div>\n                                        <Button style={{ margin: '0 auto', display: \"flex\", pointerEvents: 'none' }} variant=\"contained\" color=\"secondary\" onClick={handleChangeSubscriptionPlan} disabled={props.subscriptionPlan === 'premium'}>\n                                            Adjust the plan\n                                        </Button>\n                                    </div>\n                                </Tooltip>\n                                : <Button style={{ margin: '0 auto', display: \"flex\" }} variant=\"contained\" color=\"secondary\" onClick={handleChangeSubscriptionPlan} disabled={props.subscriptionPlan === 'premium'}>\n                                    Adjust the plan\n                                </Button>}\n                        </Grid>\n                    </Grid>\n                    <Divider variant=\"middle\" className={classes.divider} />\n                    <Typography className={classes.typography} variant=\"h6\" align=\"center\" style={{ fontWeight: 600 }}>\n                        Payment method\n                    </Typography>\n                    <Grid container direction=\"row\" spacing={3} item>\n                        <Grid item xs={12} sm={6}>\n                            <FormControl required variant=\"outlined\" size=\"small\" fullWidth>\n                                <InputLabel>Payment type</InputLabel>\n                                <Select label=\"Payment type\" value={type} onChange={handleTypeChange}>\n                                    <MenuItem value={'PayPal'}>PayPal</MenuItem>\n                                </Select>\n                            </FormControl>\n                        </Grid>\n                        <Grid item xs={12} sm={6}>\n                            <FormControl required variant=\"outlined\" size=\"small\" fullWidth error={errors[UserFormInputs.paymentEmail]}>\n                                <TextField\n                                    size=\"small\"\n                                    label=\"Payment Email\"\n                                    fullWidth value={paymentEmail}\n                                    onChange={handlePaymentEmailChange}\n                                    type=\"paymentEmail\"\n                                    variant=\"outlined\"\n                                    {...(errors[UserFormInputs.paymentEmail] && { error: true, helperText: validationErrors[UserFormInputs.paymentEmail] })} />\n                            </FormControl>\n                        </Grid>\n                    </Grid>\n                </React.Fragment>\n            </form>\n        </div>\n    );\n}"]},"metadata":{},"sourceType":"module"}