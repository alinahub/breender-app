{"ast":null,"code":"var _jsxFileName = \"/Users/alinaturbina/Uni Projects/seba/frontend/src/views/ChangeToPremiumView.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport PaymentInformationComponent from '../components/PaymentInformation';\nimport { connect, useSelector } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\nimport { update } from 'redux/actions';\nimport NotificationService from 'services/NotificationService';\n/**\n * For presenting and choosing subscription plan and paying with PayPal\n * @param {props} props\n */\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction ChangeToPremiumView(props) {\n  _s();\n\n  const user = useSelector(state => state.user);\n  const payments = [{\n    description: '4.99€ for 1 month',\n    plan: '1mo',\n    price: '4.99'\n  }, {\n    description: '12,99€ for 3 months',\n    plan: '3mo',\n    price: '12.99'\n  }, {\n    description: '22,99€ for 6 months',\n    plan: '6mo',\n    price: '22.99'\n  }, {\n    description: '34,99€ for 1 year',\n    plan: '1yr',\n    price: '34.99'\n  }];\n  const [chosenPayment, setChosenPayment] = React.useState('4.99');\n  const values = {\n    chosenPayment\n  };\n\n  function changeSubscriptionPlanToPremium(plan, paymentMethod) {\n    const onSuccess = () => {\n      setTimeout(function () {\n        props.history.push('/login');\n        NotificationService.notify('success', 'Success', 'Your subscription plan was successfully changed! Please login.');\n      }, 1000);\n    };\n\n    const onError = () => {\n      setTimeout(function () {\n        props.history.push('/');\n        NotificationService.notify('error', 'Error', 'There was a problem in changing your plan. Please try again later or contact our customer service.');\n      }, 1000);\n    };\n\n    props.dispatch(update(user.user.id, 'premium', plan, paymentMethod, onSuccess, onError));\n  }\n\n  const prevStep = () => {\n    props.history.push('/premium');\n  };\n\n  function handleChange(input, event) {\n    setChosenPayment(event.target.value);\n  }\n\n  return /*#__PURE__*/_jsxDEV(PaymentInformationComponent, {\n    payments: payments,\n    handleChange: handleChange,\n    values: values,\n    onSuccess: changeSubscriptionPlanToPremium,\n    user: user,\n    prevStep: prevStep\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 54,\n    columnNumber: 12\n  }, this);\n}\n\n_s(ChangeToPremiumView, \"87rS4IW9q4o/gowE5UzAB1r8YJk=\", false, function () {\n  return [useSelector];\n});\n\n_c = ChangeToPremiumView;\nexport default connect()(withRouter(ChangeToPremiumView));\n\nvar _c;\n\n$RefreshReg$(_c, \"ChangeToPremiumView\");","map":{"version":3,"sources":["/Users/alinaturbina/Uni Projects/seba/frontend/src/views/ChangeToPremiumView.js"],"names":["React","makeStyles","PaymentInformationComponent","connect","useSelector","withRouter","update","NotificationService","ChangeToPremiumView","props","user","state","payments","description","plan","price","chosenPayment","setChosenPayment","useState","values","changeSubscriptionPlanToPremium","paymentMethod","onSuccess","setTimeout","history","push","notify","onError","dispatch","id","prevStep","handleChange","input","event","target","value"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport PaymentInformationComponent from '../components/PaymentInformation';\nimport { connect, useSelector } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\nimport { update } from 'redux/actions';\nimport NotificationService from 'services/NotificationService';\n\n/**\n * For presenting and choosing subscription plan and paying with PayPal\n * @param {props} props\n */\nfunction ChangeToPremiumView(props) {\n    const user = useSelector((state) => state.user);\n\n    const payments = [\n        { description: '4.99€ for 1 month', plan: '1mo', price: '4.99' },\n        { description: '12,99€ for 3 months', plan: '3mo', price: '12.99' },\n        { description: '22,99€ for 6 months', plan: '6mo', price: '22.99' },\n        { description: '34,99€ for 1 year', plan: '1yr', price: '34.99' },\n    ];\n\n    const [chosenPayment, setChosenPayment] = React.useState('4.99');\n\n    const values = { chosenPayment };\n\n    function changeSubscriptionPlanToPremium(plan, paymentMethod) {\n        const onSuccess = () => {\n            setTimeout(function () {\n                props.history.push('/login');\n                NotificationService.notify('success', 'Success', 'Your subscription plan was successfully changed! Please login.');\n            }, 1000);\n        };\n\n        const onError = () => {\n            setTimeout(function () {\n                props.history.push('/');\n                NotificationService.notify('error', 'Error', 'There was a problem in changing your plan. Please try again later or contact our customer service.');\n            }, 1000);\n            \n        };\n\n        props.dispatch(update(user.user.id, 'premium', plan, paymentMethod, onSuccess, onError));\n    }\n\n    const prevStep = () => {\n        props.history.push('/premium');\n    };\n\n    function handleChange(input, event) {\n        setChosenPayment(event.target.value);\n    }\n\n    return <PaymentInformationComponent payments={payments} handleChange={handleChange} values={values} onSuccess={changeSubscriptionPlanToPremium} user={user} prevStep={prevStep} />;\n}\n\nexport default connect()(withRouter(ChangeToPremiumView));\n"]},"metadata":{},"sourceType":"module"}