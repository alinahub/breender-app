{"ast":null,"code":"import _slicedToArray from\"/Users/alinaturbina/Uni Projects/seba/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from'react';import SignUpComponent from'./SignUpComponent';import SubscriptionStepComponent from'./SubscriptionStepComponent';import PaymentInformationComponent from'./PaymentInformation';import{jsx as _jsx}from\"react/jsx-runtime\";function SignUpPaper(props){var _React$useState=React.useState(''),_React$useState2=_slicedToArray(_React$useState,2),username=_React$useState2[0],setUsername=_React$useState2[1];var _React$useState3=React.useState(''),_React$useState4=_slicedToArray(_React$useState3,2),password=_React$useState4[0],setPassword=_React$useState4[1];var _React$useState5=React.useState(''),_React$useState6=_slicedToArray(_React$useState5,2),password2=_React$useState6[0],setPassword2=_React$useState6[1];var _React$useState7=React.useState(''),_React$useState8=_slicedToArray(_React$useState7,2),email=_React$useState8[0],setEmail=_React$useState8[1];var _React$useState9=React.useState(''),_React$useState10=_slicedToArray(_React$useState9,2),province=_React$useState10[0],setProvince=_React$useState10[1];var _React$useState11=React.useState(''),_React$useState12=_slicedToArray(_React$useState11,2),city=_React$useState12[0],setCity=_React$useState12[1];var _React$useState13=React.useState(false),_React$useState14=_slicedToArray(_React$useState13,2),isAdmin=_React$useState14[0],setIsAdmin=_React$useState14[1];// if user comes from premium page, set plan to selected; if from login , set plan to free\nvar _React$useState15=React.useState(props.subscriptionPlan?props.subscriptionPlan:'free'),_React$useState16=_slicedToArray(_React$useState15,2),subscriptionPlan=_React$useState16[0],setSubscriptionPlan=_React$useState16[1];var _React$useState17=React.useState(''),_React$useState18=_slicedToArray(_React$useState17,2),emailError=_React$useState18[0],setEmailError=_React$useState18[1];var _React$useState19=React.useState(''),_React$useState20=_slicedToArray(_React$useState19,2),usernameError=_React$useState20[0],setUsernameError=_React$useState20[1];//registration step\nvar _React$useState21=React.useState(1),_React$useState22=_slicedToArray(_React$useState21,2),step=_React$useState22[0],setStep=_React$useState22[1];var payments=[{description:'4.99€ for 1 month',plan:'1mo',price:'4.99'},{description:'12,99€ for 3 months',plan:'3mo',price:'12.99'},{description:'22,99€ for 6 months',plan:'6mo',price:'22.99'},{description:'34,99€ for 1 year',plan:'1yr',price:'34.99'}];var _React$useState23=React.useState('4.99'),_React$useState24=_slicedToArray(_React$useState23,2),chosenPayment=_React$useState24[0],setChosenPayment=_React$useState24[1];var values={username:username,password:password,password2:password2,email:email,province:province,city:city,isAdmin:isAdmin,subscriptionPlan:subscriptionPlan,chosenPayment:chosenPayment};var errors={emailError:emailError,usernameError:usernameError};var nextStep=function nextStep(){setStep(step+1);};var prevStep=function prevStep(){setStep(step-1);};var onChangeEmail=function onChangeEmail(v){setEmailError('');setEmail(v);};var onChangeUsername=function onChangeUsername(v){setUsernameError('');setUsername(v);};var onChangeIsAdmin=function onChangeIsAdmin(v){if(emailError.indexOf('admin')>=0&&!v){setEmailError('');}setIsAdmin(v);};function onChangeSubscriptionPlan(v){setSubscriptionPlan(v);}//change state dependent on the input value\nfunction handleChange(input,event){switch(input){case'email':onChangeEmail(event.target.value);break;case'username':onChangeUsername(event.target.value);break;case'password':setPassword(event.target.value);break;case'password2':setPassword2(event.target.value);break;case'province':setProvince(event.target.value);break;case'city':setCity(event.target.value);break;case'isAdmin':onChangeIsAdmin(event.target.checked);break;case'emailError':setEmailError(event);break;case'usernameError':setUsernameError(event);break;case'chosenPayment':setChosenPayment(event.target.value);break;default:return;}}function onRegister(paymentMethod){var paymentPlan=payments.find(function(x){return x.price===chosenPayment;});props.onRegister(values.email,values.username,values.password,values.city,values.province,values.isAdmin,values.subscriptionPlan,paymentPlan.plan,paymentMethod);}//choose registration step\nfunction chooseStep(){switch(step){case 1:return/*#__PURE__*/_jsx(SignUpComponent,{nextStep:nextStep,handleChange:handleChange,onCancel:props.onCancel,values:values,errors:errors});case 2:return/*#__PURE__*/_jsx(SubscriptionStepComponent,{onRegister:props.onRegister,nextStep:nextStep,prevStep:prevStep,handleChange:onChangeSubscriptionPlan,values:values,subscriptionPlan:subscriptionPlan});case 3:return/*#__PURE__*/_jsx(PaymentInformationComponent,{nextStep:nextStep,prevStep:prevStep,values:values,handleChange:handleChange,payments:payments,onSuccess:props.onRegister,user:props.user});default:return/*#__PURE__*/_jsx(\"div\",{});}}return chooseStep();}export default SignUpPaper;","map":{"version":3,"sources":["/Users/alinaturbina/Uni Projects/seba/frontend/src/components/SignUpPaper.js"],"names":["React","SignUpComponent","SubscriptionStepComponent","PaymentInformationComponent","SignUpPaper","props","useState","username","setUsername","password","setPassword","password2","setPassword2","email","setEmail","province","setProvince","city","setCity","isAdmin","setIsAdmin","subscriptionPlan","setSubscriptionPlan","emailError","setEmailError","usernameError","setUsernameError","step","setStep","payments","description","plan","price","chosenPayment","setChosenPayment","values","errors","nextStep","prevStep","onChangeEmail","v","onChangeUsername","onChangeIsAdmin","indexOf","onChangeSubscriptionPlan","handleChange","input","event","target","value","checked","onRegister","paymentMethod","paymentPlan","find","x","chooseStep","onCancel","user"],"mappings":"qKAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,eAAP,KAA4B,mBAA5B,CACA,MAAOC,CAAAA,yBAAP,KAAsC,6BAAtC,CACA,MAAOC,CAAAA,2BAAP,KAAwC,sBAAxC,C,2CAEA,QAASC,CAAAA,WAAT,CAAqBC,KAArB,CAA4B,CACxB,oBAAgCL,KAAK,CAACM,QAAN,CAAe,EAAf,CAAhC,oDAAOC,QAAP,qBAAiBC,WAAjB,qBACA,qBAAgCR,KAAK,CAACM,QAAN,CAAe,EAAf,CAAhC,qDAAOG,QAAP,qBAAiBC,WAAjB,qBACA,qBAAkCV,KAAK,CAACM,QAAN,CAAe,EAAf,CAAlC,qDAAOK,SAAP,qBAAkBC,YAAlB,qBACA,qBAA0BZ,KAAK,CAACM,QAAN,CAAe,EAAf,CAA1B,qDAAOO,KAAP,qBAAcC,QAAd,qBACA,qBAAgCd,KAAK,CAACM,QAAN,CAAe,EAAf,CAAhC,sDAAOS,QAAP,sBAAiBC,WAAjB,sBACA,sBAAwBhB,KAAK,CAACM,QAAN,CAAe,EAAf,CAAxB,uDAAOW,IAAP,sBAAaC,OAAb,sBACA,sBAA8BlB,KAAK,CAACM,QAAN,CAAe,KAAf,CAA9B,uDAAOa,OAAP,sBAAgBC,UAAhB,sBACA;AACA,sBAAgDpB,KAAK,CAACM,QAAN,CAAeD,KAAK,CAACgB,gBAAN,CAAyBhB,KAAK,CAACgB,gBAA/B,CAAkD,MAAjE,CAAhD,uDAAOA,gBAAP,sBAAyBC,mBAAzB,sBAEA,sBAAoCtB,KAAK,CAACM,QAAN,CAAe,EAAf,CAApC,uDAAOiB,UAAP,sBAAmBC,aAAnB,sBACA,sBAA0CxB,KAAK,CAACM,QAAN,CAAe,EAAf,CAA1C,uDAAOmB,aAAP,sBAAsBC,gBAAtB,sBACA;AACA,sBAAwB1B,KAAK,CAACM,QAAN,CAAe,CAAf,CAAxB,uDAAOqB,IAAP,sBAAaC,OAAb,sBAEA,GAAMC,CAAAA,QAAQ,CAAG,CACb,CAAEC,WAAW,CAAE,mBAAf,CAAoCC,IAAI,CAAE,KAA1C,CAAiDC,KAAK,CAAE,MAAxD,CADa,CAEb,CAAEF,WAAW,CAAE,qBAAf,CAAsCC,IAAI,CAAE,KAA5C,CAAmDC,KAAK,CAAE,OAA1D,CAFa,CAGb,CAAEF,WAAW,CAAE,qBAAf,CAAsCC,IAAI,CAAE,KAA5C,CAAmDC,KAAK,CAAE,OAA1D,CAHa,CAIb,CAAEF,WAAW,CAAE,mBAAf,CAAoCC,IAAI,CAAE,KAA1C,CAAiDC,KAAK,CAAE,OAAxD,CAJa,CAAjB,CAOA,sBAA0ChC,KAAK,CAACM,QAAN,CAAe,MAAf,CAA1C,uDAAO2B,aAAP,sBAAsBC,gBAAtB,sBACA,GAAMC,CAAAA,MAAM,CAAG,CAAE5B,QAAQ,CAARA,QAAF,CAAYE,QAAQ,CAARA,QAAZ,CAAsBE,SAAS,CAATA,SAAtB,CAAiCE,KAAK,CAALA,KAAjC,CAAwCE,QAAQ,CAARA,QAAxC,CAAkDE,IAAI,CAAJA,IAAlD,CAAwDE,OAAO,CAAPA,OAAxD,CAAiEE,gBAAgB,CAAhBA,gBAAjE,CAAmFY,aAAa,CAAbA,aAAnF,CAAf,CACA,GAAMG,CAAAA,MAAM,CAAG,CAAEb,UAAU,CAAVA,UAAF,CAAcE,aAAa,CAAbA,aAAd,CAAf,CAEA,GAAMY,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,EAAM,CACnBT,OAAO,CAACD,IAAI,CAAG,CAAR,CAAP,CACH,CAFD,CAIA,GAAMW,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,EAAM,CACnBV,OAAO,CAACD,IAAI,CAAG,CAAR,CAAP,CACH,CAFD,CAIA,GAAMY,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,CAACC,CAAD,CAAO,CACzBhB,aAAa,CAAC,EAAD,CAAb,CACAV,QAAQ,CAAC0B,CAAD,CAAR,CACH,CAHD,CAKA,GAAMC,CAAAA,gBAAgB,CAAG,QAAnBA,CAAAA,gBAAmB,CAACD,CAAD,CAAO,CAC5Bd,gBAAgB,CAAC,EAAD,CAAhB,CACAlB,WAAW,CAACgC,CAAD,CAAX,CACH,CAHD,CAKA,GAAME,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAACF,CAAD,CAAO,CAC3B,GAAIjB,UAAU,CAACoB,OAAX,CAAmB,OAAnB,GAA+B,CAA/B,EAAoC,CAACH,CAAzC,CAA4C,CACxChB,aAAa,CAAC,EAAD,CAAb,CACH,CACDJ,UAAU,CAACoB,CAAD,CAAV,CACH,CALD,CAOA,QAASI,CAAAA,wBAAT,CAAkCJ,CAAlC,CAAqC,CACjClB,mBAAmB,CAACkB,CAAD,CAAnB,CACH,CAED;AACA,QAASK,CAAAA,YAAT,CAAsBC,KAAtB,CAA6BC,KAA7B,CAAoC,CAChC,OAAQD,KAAR,EACI,IAAK,OAAL,CACIP,aAAa,CAACQ,KAAK,CAACC,MAAN,CAAaC,KAAd,CAAb,CACA,MACJ,IAAK,UAAL,CACIR,gBAAgB,CAACM,KAAK,CAACC,MAAN,CAAaC,KAAd,CAAhB,CACA,MACJ,IAAK,UAAL,CACIvC,WAAW,CAACqC,KAAK,CAACC,MAAN,CAAaC,KAAd,CAAX,CACA,MACJ,IAAK,WAAL,CACIrC,YAAY,CAACmC,KAAK,CAACC,MAAN,CAAaC,KAAd,CAAZ,CACA,MACJ,IAAK,UAAL,CACIjC,WAAW,CAAC+B,KAAK,CAACC,MAAN,CAAaC,KAAd,CAAX,CACA,MACJ,IAAK,MAAL,CACI/B,OAAO,CAAC6B,KAAK,CAACC,MAAN,CAAaC,KAAd,CAAP,CACA,MACJ,IAAK,SAAL,CACIP,eAAe,CAACK,KAAK,CAACC,MAAN,CAAaE,OAAd,CAAf,CACA,MACJ,IAAK,YAAL,CACI1B,aAAa,CAACuB,KAAD,CAAb,CACA,MACJ,IAAK,eAAL,CACIrB,gBAAgB,CAACqB,KAAD,CAAhB,CACA,MACJ,IAAK,eAAL,CACIb,gBAAgB,CAACa,KAAK,CAACC,MAAN,CAAaC,KAAd,CAAhB,CACA,MACJ,QACI,OAhCR,CAkCH,CAED,QAASE,CAAAA,UAAT,CAAoBC,aAApB,CAAmC,CAC/B,GAAMC,CAAAA,WAAW,CAAGxB,QAAQ,CAACyB,IAAT,CAAc,SAACC,CAAD,QAAOA,CAAAA,CAAC,CAACvB,KAAF,GAAYC,aAAnB,EAAd,CAApB,CACA5B,KAAK,CAAC8C,UAAN,CAAiBhB,MAAM,CAACtB,KAAxB,CAA+BsB,MAAM,CAAC5B,QAAtC,CAAgD4B,MAAM,CAAC1B,QAAvD,CAAiE0B,MAAM,CAAClB,IAAxE,CAA8EkB,MAAM,CAACpB,QAArF,CAA+FoB,MAAM,CAAChB,OAAtG,CAA+GgB,MAAM,CAACd,gBAAtH,CAAwIgC,WAAW,CAACtB,IAApJ,CAA0JqB,aAA1J,EACH,CAED;AACA,QAASI,CAAAA,UAAT,EAAsB,CAClB,OAAQ7B,IAAR,EACI,IAAK,EAAL,CACI,mBAAO,KAAC,eAAD,EAAiB,QAAQ,CAAEU,QAA3B,CAAqC,YAAY,CAAEQ,YAAnD,CAAiE,QAAQ,CAAExC,KAAK,CAACoD,QAAjF,CAA2F,MAAM,CAAEtB,MAAnG,CAA2G,MAAM,CAAEC,MAAnH,EAAP,CACJ,IAAK,EAAL,CACI,mBACI,KAAC,yBAAD,EACI,UAAU,CAAE/B,KAAK,CAAC8C,UADtB,CAEI,QAAQ,CAAEd,QAFd,CAGI,QAAQ,CAAEC,QAHd,CAII,YAAY,CAAEM,wBAJlB,CAKI,MAAM,CAAET,MALZ,CAMI,gBAAgB,CAAEd,gBANtB,EADJ,CAUJ,IAAK,EAAL,CACI,mBACI,KAAC,2BAAD,EACI,QAAQ,CAAEgB,QADd,CAEI,QAAQ,CAAEC,QAFd,CAGI,MAAM,CAAEH,MAHZ,CAII,YAAY,CAAEU,YAJlB,CAKI,QAAQ,CAAEhB,QALd,CAMI,SAAS,CAAExB,KAAK,CAAC8C,UANrB,CAOI,IAAI,CAAE9C,KAAK,CAACqD,IAPhB,EADJ,CAWJ,QACI,mBAAO,cAAP,CA3BR,CA6BH,CAED,MAAOF,CAAAA,UAAU,EAAjB,CACH,CAED,cAAepD,CAAAA,WAAf","sourcesContent":["import React from 'react';\nimport SignUpComponent from './SignUpComponent';\nimport SubscriptionStepComponent from './SubscriptionStepComponent';\nimport PaymentInformationComponent from './PaymentInformation';\n\nfunction SignUpPaper(props) {\n    const [username, setUsername] = React.useState('');\n    const [password, setPassword] = React.useState('');\n    const [password2, setPassword2] = React.useState('');\n    const [email, setEmail] = React.useState('');\n    const [province, setProvince] = React.useState('');\n    const [city, setCity] = React.useState('');\n    const [isAdmin, setIsAdmin] = React.useState(false);\n    // if user comes from premium page, set plan to selected; if from login , set plan to free\n    const [subscriptionPlan, setSubscriptionPlan] = React.useState(props.subscriptionPlan ? props.subscriptionPlan : 'free');\n\n    const [emailError, setEmailError] = React.useState('');\n    const [usernameError, setUsernameError] = React.useState('');\n    //registration step\n    const [step, setStep] = React.useState(1);\n\n    const payments = [\n        { description: '4.99€ for 1 month', plan: '1mo', price: '4.99' },\n        { description: '12,99€ for 3 months', plan: '3mo', price: '12.99' },\n        { description: '22,99€ for 6 months', plan: '6mo', price: '22.99' },\n        { description: '34,99€ for 1 year', plan: '1yr', price: '34.99' },\n    ];\n\n    const [chosenPayment, setChosenPayment] = React.useState('4.99');\n    const values = { username, password, password2, email, province, city, isAdmin, subscriptionPlan, chosenPayment };\n    const errors = { emailError, usernameError };\n\n    const nextStep = () => {\n        setStep(step + 1);\n    };\n\n    const prevStep = () => {\n        setStep(step - 1);\n    };\n\n    const onChangeEmail = (v) => {\n        setEmailError('');\n        setEmail(v);\n    };\n\n    const onChangeUsername = (v) => {\n        setUsernameError('');\n        setUsername(v);\n    };\n\n    const onChangeIsAdmin = (v) => {\n        if (emailError.indexOf('admin') >= 0 && !v) {\n            setEmailError('');\n        }\n        setIsAdmin(v);\n    };\n\n    function onChangeSubscriptionPlan(v) {\n        setSubscriptionPlan(v);\n    }\n\n    //change state dependent on the input value\n    function handleChange(input, event) {\n        switch (input) {\n            case 'email':\n                onChangeEmail(event.target.value);\n                break;\n            case 'username':\n                onChangeUsername(event.target.value);\n                break;\n            case 'password':\n                setPassword(event.target.value);\n                break;\n            case 'password2':\n                setPassword2(event.target.value);\n                break;\n            case 'province':\n                setProvince(event.target.value);\n                break;\n            case 'city':\n                setCity(event.target.value);\n                break;\n            case 'isAdmin':\n                onChangeIsAdmin(event.target.checked);\n                break;\n            case 'emailError':\n                setEmailError(event);\n                break;\n            case 'usernameError':\n                setUsernameError(event);\n                break;\n            case 'chosenPayment':\n                setChosenPayment(event.target.value);\n                break;\n            default:\n                return;\n        }\n    }\n\n    function onRegister(paymentMethod) {\n        const paymentPlan = payments.find((x) => x.price === chosenPayment);\n        props.onRegister(values.email, values.username, values.password, values.city, values.province, values.isAdmin, values.subscriptionPlan, paymentPlan.plan, paymentMethod);\n    }\n\n    //choose registration step\n    function chooseStep() {\n        switch (step) {\n            case 1:\n                return <SignUpComponent nextStep={nextStep} handleChange={handleChange} onCancel={props.onCancel} values={values} errors={errors} />;\n            case 2:\n                return (\n                    <SubscriptionStepComponent\n                        onRegister={props.onRegister}\n                        nextStep={nextStep}\n                        prevStep={prevStep}\n                        handleChange={onChangeSubscriptionPlan}\n                        values={values}\n                        subscriptionPlan={subscriptionPlan}\n                    />\n                );\n            case 3:\n                return (\n                    <PaymentInformationComponent\n                        nextStep={nextStep}\n                        prevStep={prevStep}\n                        values={values}\n                        handleChange={handleChange}\n                        payments={payments}\n                        onSuccess={props.onRegister}\n                        user={props.user}\n                    />\n                );\n            default:\n                return <div />;\n        }\n    }\n\n    return chooseStep();\n}\n\nexport default SignUpPaper;\n"]},"metadata":{},"sourceType":"module"}