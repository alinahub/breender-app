{"ast":null,"code":"var _jsxFileName = \"/Users/alinaturbina/Uni Projects/seba/frontend/src/components/SignUpPaper.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport SignUpComponent from './SignUpComponent';\nimport SubscriptionStepComponent from './SubscriptionStepComponent';\nimport PaymentInformationComponent from './PaymentInformation';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction SignUpPaper(props) {\n  _s();\n\n  const [username, setUsername] = React.useState('');\n  const [password, setPassword] = React.useState('');\n  const [password2, setPassword2] = React.useState('');\n  const [email, setEmail] = React.useState('');\n  const [province, setProvince] = React.useState('');\n  const [city, setCity] = React.useState('');\n  const [isAdmin, setIsAdmin] = React.useState(false); // if user comes from premium page, set plan to selected; if from login , set plan to free\n\n  const [subscriptionPlan, setSubscriptionPlan] = React.useState(props.subscriptionPlan ? props.subscriptionPlan : 'free');\n  const [emailError, setEmailError] = React.useState('');\n  const [usernameError, setUsernameError] = React.useState(''); //registration step\n\n  const [step, setStep] = React.useState(1);\n  const payments = [{\n    description: '4.99€ for 1 month',\n    plan: '1mo',\n    price: '4.99'\n  }, {\n    description: '12,99€ for 3 months',\n    plan: '3mo',\n    price: '12.99'\n  }, {\n    description: '22,99€ for 6 months',\n    plan: '6mo',\n    price: '22.99'\n  }, {\n    description: '34,99€ for 1 year',\n    plan: '1yr',\n    price: '34.99'\n  }];\n  const [chosenPayment, setChosenPayment] = React.useState('4.99');\n  const values = {\n    username,\n    password,\n    password2,\n    email,\n    province,\n    city,\n    isAdmin,\n    subscriptionPlan,\n    chosenPayment\n  };\n  const errors = {\n    emailError,\n    usernameError\n  };\n\n  const nextStep = () => {\n    setStep(step + 1);\n  };\n\n  const prevStep = () => {\n    setStep(step - 1);\n  };\n\n  const onChangeEmail = v => {\n    setEmailError('');\n    setEmail(v);\n  };\n\n  const onChangeUsername = v => {\n    setUsernameError('');\n    setUsername(v);\n  };\n\n  const onChangeIsAdmin = v => {\n    if (emailError.indexOf('admin') >= 0 && !v) {\n      setEmailError('');\n    }\n\n    setIsAdmin(v);\n  };\n\n  function onChangeSubscriptionPlan(v) {\n    setSubscriptionPlan(v);\n  }\n\n  ; //change state dependent on the input value\n\n  function handleChange(input, event) {\n    switch (input) {\n      case 'email':\n        onChangeEmail(event.target.value);\n        break;\n\n      case 'username':\n        onChangeUsername(event.target.value);\n        break;\n\n      case 'password':\n        setPassword(event.target.value);\n        break;\n\n      case 'password2':\n        setPassword2(event.target.value);\n        break;\n\n      case 'province':\n        setProvince(event.target.value);\n        break;\n\n      case 'city':\n        setCity(event.target.value);\n        break;\n\n      case 'isAdmin':\n        onChangeIsAdmin(event.target.checked);\n        break;\n\n      case 'emailError':\n        setEmailError(event);\n        break;\n\n      case 'usernameError':\n        setUsernameError(event);\n        break;\n\n      case 'chosenPayment':\n        setChosenPayment(event.target.value);\n    }\n\n    ;\n  }\n\n  function onRegister(paymentMethod) {\n    const paymentPlan = payments.find(x => x.price === chosenPayment);\n    props.onRegister(values.email, values.username, values.password, values.city, values.province, values.isAdmin, values.subscriptionPlan, paymentPlan.plan, paymentMethod);\n  } //choose registration step\n\n\n  function chooseStep() {\n    switch (step) {\n      case 1:\n        return /*#__PURE__*/_jsxDEV(SignUpComponent, {\n          nextStep: nextStep,\n          handleChange: handleChange,\n          onCancel: props.onCancel,\n          values: values,\n          errors: errors\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 24\n        }, this);\n\n      case 2:\n        return /*#__PURE__*/_jsxDEV(SubscriptionStepComponent, {\n          onRegister: props.onRegister,\n          nextStep: nextStep,\n          prevStep: prevStep,\n          handleChange: onChangeSubscriptionPlan,\n          values: values,\n          subscriptionPlan: subscriptionPlan\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 24\n        }, this);\n\n      case 3:\n        return /*#__PURE__*/_jsxDEV(PaymentInformationComponent, {\n          nextStep: nextStep,\n          prevStep: prevStep,\n          values: values,\n          handleChange: handleChange,\n          payments: payments,\n          onSuccess: props.onRegister,\n          user: props.user\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 20\n        }, this);\n    }\n  }\n\n  return chooseStep();\n}\n\n_s(SignUpPaper, \"ltIPaxVSEyAi1spffHKPJJjAJEQ=\");\n\n_c = SignUpPaper;\nexport default SignUpPaper;\n\nvar _c;\n\n$RefreshReg$(_c, \"SignUpPaper\");","map":{"version":3,"sources":["/Users/alinaturbina/Uni Projects/seba/frontend/src/components/SignUpPaper.js"],"names":["React","SignUpComponent","SubscriptionStepComponent","PaymentInformationComponent","SignUpPaper","props","username","setUsername","useState","password","setPassword","password2","setPassword2","email","setEmail","province","setProvince","city","setCity","isAdmin","setIsAdmin","subscriptionPlan","setSubscriptionPlan","emailError","setEmailError","usernameError","setUsernameError","step","setStep","payments","description","plan","price","chosenPayment","setChosenPayment","values","errors","nextStep","prevStep","onChangeEmail","v","onChangeUsername","onChangeIsAdmin","indexOf","onChangeSubscriptionPlan","handleChange","input","event","target","value","checked","onRegister","paymentMethod","paymentPlan","find","x","chooseStep","onCancel","user"],"mappings":"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","sourcesContent":["import React from 'react';\nimport SignUpComponent from './SignUpComponent';\nimport SubscriptionStepComponent from './SubscriptionStepComponent';\nimport PaymentInformationComponent from './PaymentInformation';\n\nfunction SignUpPaper(props) {\n    const [username, setUsername] = React.useState('');\n    const [password, setPassword] = React.useState('');\n    const [password2, setPassword2] = React.useState('');\n    const [email, setEmail] = React.useState('');\n    const [province, setProvince] = React.useState('');\n    const [city, setCity] = React.useState('');\n    const [isAdmin, setIsAdmin] = React.useState(false);\n    // if user comes from premium page, set plan to selected; if from login , set plan to free\n    const [subscriptionPlan, setSubscriptionPlan] = React.useState(props.subscriptionPlan? props.subscriptionPlan : 'free');\n\n    const [emailError, setEmailError] = React.useState('');\n    const [usernameError, setUsernameError] = React.useState('');\n    //registration step\n    const [step, setStep] = React.useState(1);\n\n\n    const payments = [\n        { description: '4.99€ for 1 month', plan: '1mo', price: '4.99' },\n        { description: '12,99€ for 3 months', plan: '3mo', price: '12.99' },\n        { description: '22,99€ for 6 months', plan: '6mo', price: '22.99' },\n        { description: '34,99€ for 1 year', plan: '1yr', price: '34.99' },\n    ];\n\n    const [chosenPayment, setChosenPayment] = React.useState('4.99');\n    const values = { username, password, password2, email, province, city, isAdmin, subscriptionPlan, chosenPayment};\n    const errors = {emailError, usernameError};\n\n    const nextStep = () => {\n        setStep(step + 1);\n    };\n\n    const prevStep = () => {\n        setStep(step - 1);\n    };\n\n\n    const onChangeEmail = (v) => {\n        setEmailError('');\n        setEmail(v);\n    };\n\n    const onChangeUsername = (v) => {\n        setUsernameError('');\n        setUsername(v);\n\n    };\n\n    const onChangeIsAdmin = (v) => {\n        if(emailError.indexOf('admin') >= 0 && !v) {\n            setEmailError('');\n        }\n        setIsAdmin(v);\n    }\n\n    function onChangeSubscriptionPlan(v)  {\n        setSubscriptionPlan(v);\n    };\n\n    //change state dependent on the input value\n    function handleChange  (input,event) {\n        switch (input) {\n            case 'email':\n                onChangeEmail(event.target.value);\n                break;\n            case 'username':\n                onChangeUsername(event.target.value);\n                break;\n            case 'password':\n                setPassword(event.target.value);\n                break;\n            case 'password2':\n                setPassword2(event.target.value);\n                break;\n            case 'province':\n                setProvince(event.target.value);\n                break;\n            case 'city':\n                setCity(event.target.value);\n                break;\n            case 'isAdmin':\n                onChangeIsAdmin(event.target.checked);\n                break;\n            case 'emailError':\n                setEmailError(event);\n                break;\n            case 'usernameError':\n                setUsernameError(event);\n                break;\n            case 'chosenPayment':\n                setChosenPayment(event.target.value);\n    };\n}\n\nfunction onRegister(paymentMethod) {\n    const paymentPlan = payments.find( x => x.price === chosenPayment);\n    props.onRegister(values.email, values.username, values.password, values.city, values.province, values.isAdmin, values.subscriptionPlan, paymentPlan.plan, paymentMethod);\n}\n\n    //choose registration step\n    function chooseStep() {\n        switch (step) {\n            case 1:\n                return <SignUpComponent nextStep={nextStep} handleChange={handleChange} onCancel={props.onCancel} values={values} errors={errors}/>;\n            case 2:\n                return <SubscriptionStepComponent onRegister={props.onRegister} nextStep={nextStep} prevStep={prevStep} handleChange={onChangeSubscriptionPlan} values={values} subscriptionPlan={subscriptionPlan}/>;\n            case 3:\n            return <PaymentInformationComponent\n                    nextStep={nextStep}\n                    prevStep={prevStep}\n                    values={values}\n                    handleChange={handleChange}\n                    payments={payments}\n                    onSuccess={props.onRegister}\n                    user={props.user}\n                    />\n        }\n    }\n\n    return chooseStep();\n}\n\nexport default SignUpPaper;\n"]},"metadata":{},"sourceType":"module"}