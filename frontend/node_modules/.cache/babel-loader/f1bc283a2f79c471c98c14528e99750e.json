{"ast":null,"code":"import _regeneratorRuntime from\"/Users/alinaturbina/Uni Projects/seba/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/alinaturbina/Uni Projects/seba/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import React from'react';import{makeStyles}from'@material-ui/core/styles';import{Paper,Typography,Button}from'@material-ui/core';import Grid from'@material-ui/core/Grid';import Rating from'@material-ui/lab/Rating';import{VerificationIcon}from'../icons';import{useHistory}from'react-router-dom';import{Tooltip}from'antd';import{getUser,getSelectedUserPets,getReviewsOnSelectedUser}from'redux/actions';import{useDispatch}from'react-redux';import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";var useStyles=makeStyles(function(theme){return{root:{flexGrow:1,padding:theme.spacing(1)},paper:{padding:theme.spacing(5),margin:'auto',maxWidth:'80%',backgroundColor:'#7D7F9A'},reviewText:{backgroundColor:'white',padding:theme.spacing(3)},typography:{marginTop:theme.spacing(4),marginBottom:theme.spacing(4)}};});export default function ReviewComponent(props){var classes=useStyles();var history=useHistory();var dispatch=useDispatch();var loadUser=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(id){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:// trigger the redux action getUser\ndispatch(getUser(id));case 1:case\"end\":return _context.stop();}}},_callee);}));return function loadUser(_x){return _ref.apply(this,arguments);};}();var loadUserPets=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(userId){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:// trigger the redux action getSelectedUserPets\ndispatch(getSelectedUserPets(userId));case 1:case\"end\":return _context2.stop();}}},_callee2);}));return function loadUserPets(_x2){return _ref2.apply(this,arguments);};}();var loadReviews=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(userId){return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:// trigger the redux action getReviewsOnSelectedUser\ndispatch(getReviewsOnSelectedUser(userId));case 1:case\"end\":return _context3.stop();}}},_callee3);}));return function loadReviews(_x3){return _ref3.apply(this,arguments);};}();var goToUserPage=function goToUserPage(){history.push('/user/'+props.review.reviewerId);loadUser(props.review.reviewerId);loadUserPets(props.review.reviewerId);loadReviews(props.review.reviewerId);};return/*#__PURE__*/_jsx(\"div\",{className:classes.root,children:/*#__PURE__*/_jsx(Paper,{className:classes.paper,children:/*#__PURE__*/_jsxs(Grid,{container:true,spacing:3,children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsxs(Button,{onClick:goToUserPage,color:\"white\",children:[\"Reviewer: \",props.review.username]})}),/*#__PURE__*/_jsxs(Grid,{container:true,direction:\"row\",justify:\"space-between\",item:true,children:[/*#__PURE__*/_jsx(Grid,{item:true,children:/*#__PURE__*/_jsx(Rating,{name:\"rating\",value:props.review.rating,readOnly:true})}),/*#__PURE__*/_jsx(Grid,{item:true,children:/*#__PURE__*/_jsx(Tooltip,{trigger:\"hover\",placement:\"top\",title:props.review.transaction.status!==\"pending\"?\"The transaction of reviewer is processed.\":\"The transaction of reviewer is NOT processed.\",children:/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(VerificationIcon,{verified:props.review.transaction.status!==\"pending\"})})})})]}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsx(Paper,{className:classes.reviewText,children:/*#__PURE__*/_jsx(Typography,{className:classes.typography,children:props.review.review})})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsx(Typography,{variant:\"body2\",style:{color:'white'},children:new Date(props.review.reviewDate).toLocaleDateString('en-GB')})})]})})});}","map":{"version":3,"sources":["/Users/alinaturbina/Uni Projects/seba/frontend/src/components/user-profile/ReviewComponent.js"],"names":["React","makeStyles","Paper","Typography","Button","Grid","Rating","VerificationIcon","useHistory","Tooltip","getUser","getSelectedUserPets","getReviewsOnSelectedUser","useDispatch","useStyles","theme","root","flexGrow","padding","spacing","paper","margin","maxWidth","backgroundColor","reviewText","typography","marginTop","marginBottom","ReviewComponent","props","classes","history","dispatch","loadUser","id","loadUserPets","userId","loadReviews","goToUserPage","push","review","reviewerId","username","rating","transaction","status","color","Date","reviewDate","toLocaleDateString"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Paper, Typography, Button } from '@material-ui/core';\nimport Grid from '@material-ui/core/Grid';\nimport Rating from '@material-ui/lab/Rating';\nimport { VerificationIcon } from '../icons';\nimport { useHistory } from 'react-router-dom';\nimport { Tooltip } from 'antd';\nimport { getUser, getSelectedUserPets, getReviewsOnSelectedUser } from 'redux/actions';\nimport { useDispatch } from 'react-redux';\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        flexGrow: 1,\n        padding: theme.spacing(1),\n    },\n    paper: {\n        padding: theme.spacing(5),\n        margin: 'auto',\n        maxWidth: '80%',\n        backgroundColor: '#7D7F9A',\n    },\n    reviewText: {\n        backgroundColor: 'white',\n        padding: theme.spacing(3),\n    },\n    typography: {\n        marginTop: theme.spacing(4),\n        marginBottom: theme.spacing(4),\n    },\n}));\n\nexport default function ReviewComponent(props) {\n    const classes = useStyles();\n    const history = useHistory();\n    const dispatch = useDispatch();\n\n    const loadUser = async (id) => {\n        // trigger the redux action getUser\n        dispatch(getUser(id));\n    };\n\n    const loadUserPets = async (userId) => {\n        // trigger the redux action getSelectedUserPets\n        dispatch(getSelectedUserPets(userId));\n    };\n\n    const loadReviews = async (userId) => {\n        // trigger the redux action getReviewsOnSelectedUser\n        dispatch(getReviewsOnSelectedUser(userId));\n    };\n\n    const goToUserPage = () => {\n        history.push('/user/' + props.review.reviewerId);\n        loadUser(props.review.reviewerId);\n        loadUserPets(props.review.reviewerId);\n        loadReviews(props.review.reviewerId);\n    };\n\n    return (\n        <div className={classes.root}>\n            <Paper className={classes.paper}>\n                <Grid container spacing={3}>\n                    <Grid item xs={12}>\n                        <Button onClick={goToUserPage} color=\"white\">Reviewer: {props.review.username}</Button>\n                    </Grid>\n                    <Grid container direction=\"row\" justify=\"space-between\" item>\n                        <Grid item>\n                            <Rating name=\"rating\" value={props.review.rating} readOnly />\n                        </Grid>\n                        <Grid item>\n                            <Tooltip trigger=\"hover\" placement=\"top\" title={props.review.transaction.status !== \"pending\" ? \"The transaction of reviewer is processed.\" : \"The transaction of reviewer is NOT processed.\"}>\n                                <div>\n                                    <VerificationIcon verified={props.review.transaction.status !== \"pending\"} />\n                                </div>\n                            </Tooltip>\n                        </Grid>\n                    </Grid>\n                    <Grid item xs={12}>\n                        <Paper className={classes.reviewText}>\n                            <Typography className={classes.typography}>{props.review.review}</Typography>\n                        </Paper>\n                    </Grid>\n                    <Grid item xs={12}>\n                        <Typography variant=\"body2\" style={{ color: 'white' }}>\n                            {new Date(props.review.reviewDate).toLocaleDateString('en-GB')}\n                        </Typography>\n                    </Grid>\n                </Grid>\n            </Paper>\n        </div>\n    );\n}\n"]},"metadata":{},"sourceType":"module"}